function A(){var t;return t="undefined"!=typeof Float32Array?new Float32Array(16):Array(16)}function D(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}function F(t,i){var e=i[0],h=i[1];i=i[2],t[12]=t[0]*e+t[4]*h+t[8]*i+t[12],t[13]=t[1]*e+t[5]*h+t[9]*i+t[13],t[14]=t[2]*e+t[6]*h+t[10]*i+t[14],t[15]=t[3]*e+t[7]*h+t[11]*i+t[15]}function K(t,i,e){var h,s=e[0],a=e[1];e=e[2];var o=Math.sqrt(s*s+a*a+e*e);if(o){1!=o&&(o=1/o,s*=o,a*=o,e*=o);var r=Math.sin(i),n=Math.cos(i),l=1-n;i=t[0];var o=t[1],u=t[2],d=t[3],p=t[4],c=t[5],f=t[6],g=t[7],b=t[8],m=t[9],y=t[10],v=t[11],A=s*s*l+n,T=a*s*l+e*r,x=e*s*l-a*r,E=s*a*l-e*r,R=a*a*l+n,w=e*a*l+s*r,N=s*e*l+a*r,s=a*e*l-s*r,a=e*e*l+n;h?t!=h&&(h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15]):h=t,h[0]=i*A+p*T+b*x,h[1]=o*A+c*T+m*x,h[2]=u*A+f*T+y*x,h[3]=d*A+g*T+v*x,h[4]=i*E+p*R+b*w,h[5]=o*E+c*R+m*w,h[6]=u*E+f*R+y*w,h[7]=d*E+g*R+v*w,h[8]=i*N+p*s+b*a,h[9]=o*N+c*s+m*a,h[10]=u*N+f*s+y*a,h[11]=d*N+g*s+v*a}}function L(t,i,e){t=.1*Math.tan(t*Math.PI/360),i=t*i;var h=-i,s=-t;e||(e=A());var a=i-h,o=t-s;e[0]=.2/a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=.2/o,e[6]=0,e[7]=0,e[8]=(i+h)/a,e[9]=(t+s)/o,e[10]=-100.1/99.9,e[11]=-1,e[12]=0,e[13]=0,e[14]=-20/99.9,e[15]=0}function M(t,i){this.m=t,this.ma=i;var e,h,s=this.__div=document.createElement("div");e=document.createElement("img");var a;a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNqclmlIVFEUx997TjrplFQW2WKBBSYtRFlpWU",a+="ILSSsRZRQIBdGHCFqIoKIvQRsUFRJC9LEgaSFbMMpcWi1pLzOLsjItKms0U5t5/c/wH7nc5",a+="o2jF374xrv87z33nHOPaRsRtbFgDpgJxoD+wATfwDNQDK6CyrCr5OcbhgiGIRsUAZt4QTWo",a+="IFXgp9JfAhY7rgdBl8NeBoLDYBloA+dBOagFTcDHcVEgDgwBGWA+OAcugvXgvb5wKMGJoAA",a+="Mp9BpUA96EBf/Btsf8BI8AWfAErAcpHHDZeriliY2AVwDg8AucAQ0Ag+I4XhTm2Oxz8PT46",a+="KMbTx5EZjuJDgAnAVusJUm9DhYwalFcc59sIXXIaceFkowDySBPTRPL20xm+b7zYXa+N3CP",a+="rWJ6GuwGySA40HLBHc/GywFhbS5R1lEBrZy7FQwiSaX9pmnqeAYt+KUcew7BVZw/QKTq0oc",a+="pYPVvDOXItZCk2xgDIZqL8BR8Ab0VDbr4yZOgLeIwzQx6WiQxcCt1+6sld66L4yYtFSwF4y",a+="g2dU7/cEwGW9YVkAwmycp1dzdpvgm0DcCh4kHmxWzBls0uBX4qqmZJ4KzePm1IeJLgjmlC1",a+="6aDKZpp5Q168B3o6wsSwTHgU+MIUs74RSj6y1d+212HKimJlUE+tFRfJpYtOKNXWmJTASqW",a+="f2Bu/R6+4TKHOrOzG4IhptjWgHbGkZvepQ6SQK7oRuCXzjX1DJavBEX1ygfT8FgBqpfm1zR",a+="DcEKbR2bsZlkJCdXieB1ZhZ5YtqVgXIPN+m9kbY6hpdb+d9fPncJRmZmqQheZkemJmgxyxy",a+="kl3XWJEkcAl7N21s7PDcl5ZJ0PAa3wVwmWtVbZafPwQ7wLozYB7ATPNJO56d/LAikP9u+66",a+="KNJS1d4IOZp7wU0hfLukUyzgwm70T2N/DOxIy/eFdqawa5DL2NEGwP5k15Ja4woz9glvcom",a+="d9NzyvkFcQo5gomaLfm5c0svnKZ2k7q7+FauvR2MJKZR3+sY5WgtvkdG6JyELGhNHMTXyGf",a+="LviRJ5Tcd4Dlhle7086Sgp8CqVxDkn4OqHaqacr5ekjy3Q/W0FRNNGmoMtamdzdxsytZC0l",a+="qXKhEgWPVVgImg2NgFT1MHOoOk3yLEtgWN5TEOYvoIFI1rGM19//2wpAD7imF7lfwENwAxa",a+="ASNCj90pcLLKdC2Iyw1M9gnEplMEp5kOU1f8WwKGJm8oUr9f8JMAAVMDM6HSDa9QAAAABJR",a+="U5ErkJggg%3D%3D",e.setAttribute("src",a),e.setAttribute("style","position: absolute;top: -14px;left: -14px; "+t.ua+"user-select: none;"),e.ondragstart=function(){return!1},s.appendChild(e),a="position:absolute;"+(t.ua+"user-select: none;"),a+=t.ua+"touch-callout: none;",a+=t.ua+"tap-highlight-color: rgba(0,0,0,0);",t.Ic&&!t.ka&&(a+=t.ua+"transform: translateZ(9999999px);"),s.setAttribute("style",a),s.onclick=function(){t.gd(i),t.Of(i.url,i.target)};var o=t.v.dg;o.enabled&&(h=document.createElement("div"),a="position:absolute;top:\t 20px;",a=o.hf?a+"white-space: pre-wrap;":a+"white-space: nowrap;",a+=t.ua+"transform-origin: 50% 50%;",a+="visibility: hidden;",a+="overflow: hidden;",a+="padding: 0px 1px 0px 1px;",h.setAttribute("style",a),h.style.color=this.m.X(o.eg,o.cg),o.background?h.style.backgroundColor=this.m.X(o.mb,o.Mb):h.style.backgroundColor="transparent",h.style.border="solid "+this.m.X(o.ob,o.Nb)+" "+o.mf+"px",h.style.borderRadius=o.lf+"px",h.style.textAlign="center",0<o.width?(h.style.left=-o.width/2+"px",h.style.width=o.width+"px"):h.style.width="auto",h.style.height=0<o.height?o.height+"px":"auto",h.style.overflow="hidden",h.innerHTML=i.title,s.onmouseover=function(){0==o.width&&(h.style.left=-h.offsetWidth/2+"px"),h.style.visibility="inherit"},s.onmouseout=function(){h.style.visibility="hidden"},s.appendChild(h))}function Q(){var t,i="perspective",e=["Webkit","Moz","O","ms","Ms"];for(t=!1,t=0;t<e.length;t++)"undefined"!=typeof document.documentElement.style[e[t]+"Perspective"]&&(i=e[t]+"Perspective");return"undefined"!=typeof document.documentElement.style[i]?"webkitPerspective"in document.documentElement.style?(i=document.createElement("style"),e=document.createElement("div"),t=document.head||document.getElementsByTagName("head")[0],i.textContent="@media (-webkit-transform-3d) {#ggswhtml5{height:5px}}",t.appendChild(i),e.id="ggswhtml5",document.documentElement.appendChild(e),t=5===e.offsetHeight,i.parentNode.removeChild(i),e.parentNode.removeChild(e)):t=!0:t=!1,t}function R(){var t;if(t=!!window.WebGLRenderingContext)try{var i=document.createElement("canvas");i.width=100,i.height=100;var e=i.getContext("webgl");e||(e=i.getContext("experimental-webgl")),t=!!e}catch(h){t=!1}return t}function aa(){this.ad={zd:1,Ad:1,Qd:0,Rd:0,pd:0,ce:0,scale:1},this.Ab=!0,this.Sc=[]}var h=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.Ka=function(t,i){this.x=t,this.y=i},t.prototype.hc=function(t,i,e){var h=i.y-t.y;this.x=t.x+(i.x-t.x)*e,this.y=t.y+h*e},t.prototype.pi=function(i,e,h,s,a){var o;o=new t,o.hc(i,h,a),i=new t,i.hc(h,s,a),h=new t,h.hc(s,e,a),e=new t,e.hc(o,i,a),o=new t,o.hc(i,h,a),i=new t,i.hc(e,o,a),this.x=i.x,this.y=i.y},t.prototype.ri=function(i,e,h,s,a){var o=new t,r=.5,n=.25;do{o.pi(i,e,h,s,r);var l=o.x-a,r=0<l?r-n:r+n,n=n/2}while(.01<Math.abs(l));this.x=o.x,this.y=o.y},t}(),y=function(){function t(t,i,e,h,s){this.x=t,this.y=i,this.z=e,this.$b=h,this.$a=s}return t.prototype.Ka=function(t,i,e,h,s){this.x=t,this.y=i,this.z=e,this.$b=h,this.$a=s},t.prototype.toString=function(){return"("+this.x+","+this.y+","+this.z+") - ("+this.$b+","+this.$a+")"},t.prototype.pa=function(t){var i=Math.sin(t);t=Math.cos(t);var e=this.y,h=this.z;this.y=t*e-i*h,this.z=i*e+t*h},t.prototype.Lj=function(){var t=this.y;this.y=-this.z,this.z=t},t.prototype.Kj=function(){var t=this.y;this.y=this.z,this.z=-t},t.prototype.wa=function(t){var i=Math.sin(t);t=Math.cos(t);var e=this.x,h=this.z;this.x=t*e+i*h,this.z=-i*e+t*h},t.prototype.Mj=function(){var t=this.x;this.x=-this.z,this.z=t},t.prototype.Ra=function(t){var i=Math.sin(t);t=Math.cos(t);var e=this.x,h=this.y;this.x=t*e-i*h,this.y=i*e+t*h},t.prototype.Gh=function(){var t=this.x;this.x=-this.y,this.y=t},t.prototype.Wf=function(t){this.pa(t*Math.PI/180)},t.prototype.Fh=function(t){this.wa(t*Math.PI/180)},t.prototype.Jj=function(t){this.Ra(t*Math.PI/180)},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.$b,this.$a)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.Me=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.Cg=function(t,i){var e;e=Math.cos(i*Math.PI/180),this.x=e*Math.sin(t*Math.PI/180),this.y=Math.sin(i*Math.PI/180),this.z=e*Math.cos(t*Math.PI/180)},t.prototype.li=function(){return 180*Math.atan2(-this.x,-this.z)/Math.PI},t.prototype.mi=function(){return 180*Math.asin(this.y/this.length())/Math.PI},t.prototype.hc=function(t,i,e){this.x=t.x*e+i.x*(1-e),this.y=t.y*e+i.y*(1-e),this.z=t.z*e+i.z*(1-e),this.$b=t.$b*e+i.$b*(1-e),this.$a=t.$a*e+i.$a*(1-e)},t}(),N=function(){function t(t){this.m=t,this.enable=!1,this.mg=1,this.he=0,this.type="crossdissolve",this.Kb=this.Ba=this.Zb=0,this.jf=5,this.fe=1,this.kf=!1,this.We=this.Ve=this.bg=0,this.jd=70,this.gi=0,this.Na=this.fi=1,this.ee=this.de=.5,this.sd=this.sh=this.fh=!1,this.uf=1}return t.prototype.Jd=function(){var t,i=this.m.a,e=i.createShader(i.VERTEX_SHADER);t="attribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n",t+="varying vec2 vTextureCoord;\n",t+="uniform bool uZoomIn;\n",t+="uniform float uZoomFactor;\n",t+="uniform vec2 uZoomCenter;\n",t+="void main(void) {\n",t+="\t gl_Position = vec4(aVertexPosition, 1.0);\n",t+="\t if(!uZoomIn) {\n",t+="\t \n",t+="\t   vTextureCoord = aTextureCoord;\n",t+="\t }\n",t+="\t else {\n",t+="\t   vTextureCoord = (aTextureCoord - vec2(0.5, 0.5)) * (1.0/uZoomFactor) + uZoomCenter;\n",t+="\t }\n",t+="}\n",i.shaderSource(e,t),i.compileShader(e),i.getShaderParameter(e,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(e)),e=null);var h=i.createShader(i.FRAGMENT_SHADER);t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n",t+="uniform float uAlpha;\n",t+="uniform sampler2D uSampler;\n",t+="void main(void) {\n",t+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",t+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, uAlpha);\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),this.ga=i.createProgram(),i.attachShader(this.ga,e),i.attachShader(this.ga,h),i.linkProgram(this.ga),i.getProgramParameter(this.ga,i.LINK_STATUS)||alert("Could not initialise shaders"),this.ga.ca=i.getAttribLocation(this.ga,"aVertexPosition"),i.enableVertexAttribArray(this.ga.ca),this.ga.Ga=i.getAttribLocation(this.ga,"aTextureCoord"),i.enableVertexAttribArray(this.ga.Ga),h=i.createShader(i.FRAGMENT_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n",t+="uniform float uColorPercent;\n",t+="uniform float uAlpha;\n",t+="uniform vec3 uDipColor;\n",t+="uniform sampler2D uSampler;\n",t+="void main(void) {\n",t+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",t+=" gl_FragColor = vec4(textureColor.x * (1.0 - uColorPercent) + uDipColor.x * uColorPercent, textureColor.y * (1.0 - uColorPercent) + uDipColor.y * uColorPercent, textureColor.z * (1.0 - uColorPercent) + uDipColor.z * uColorPercent, uAlpha);\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),this.ya=i.createProgram(),i.attachShader(this.ya,e),i.attachShader(this.ya,h),i.linkProgram(this.ya),i.getProgramParameter(this.ya,i.LINK_STATUS)||alert("Could not initialise shaders"),this.ya.ca=i.getAttribLocation(this.ya,"aVertexPosition"),i.enableVertexAttribArray(this.ya.ca),this.ya.Ga=i.getAttribLocation(this.ya,"aTextureCoord"),i.enableVertexAttribArray(this.ya.Ga),h=i.createShader(i.FRAGMENT_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n",t+="uniform bool uRound;\n",t+="uniform float uRadius;\n",t+="uniform vec2 uRectDim;\n",t+="uniform vec2 uIrisCenter;\n",t+="uniform float uSoftEdge;\n",t+="uniform sampler2D uSampler;\n",t+="void main(void) {\n",t+=" float alpha = 0.0;\n",t+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",t+=" if (uRound) {\n",t+="\t  vec2 diff = uIrisCenter - gl_FragCoord.xy;\n",t+="\t   float distFromCenter = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n",t+="\t   if (distFromCenter > uRadius) {\n",t+="      alpha = 1.0;\n",t+="    } else {\n",t+="      alpha = 1.0 - ((uRadius - distFromCenter) / uSoftEdge);\n",t+="    };\n",t+=" }\n",t+=" else {\n",t+="    float alphaFromLeft = 1.0 - ((gl_FragCoord.x -(uIrisCenter.x - uRectDim.x)) / uSoftEdge);\n",t+="    float alphaFromRight = 1.0 - (((uIrisCenter.x + uRectDim.x) - gl_FragCoord.x) / uSoftEdge);\n",t+="    float alphaFromTop = 1.0 - ((gl_FragCoord.y -(uIrisCenter.y - uRectDim.y)) / uSoftEdge);\n",t+="    float alphaFromBottom = 1.0 - (((uIrisCenter.y + uRectDim.y) - gl_FragCoord.y) / uSoftEdge);\n",t+="    alpha = max(max(alphaFromLeft, alphaFromRight), max(alphaFromTop, alphaFromBottom));\n",t+=" }\n",t+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, alpha);\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),this.qa=i.createProgram(),i.attachShader(this.qa,e),i.attachShader(this.qa,h),i.linkProgram(this.qa),i.getProgramParameter(this.qa,i.LINK_STATUS)||alert("Could not initialise shaders"),this.qa.ca=i.getAttribLocation(this.qa,"aVertexPosition"),i.enableVertexAttribArray(this.qa.ca),this.qa.Ga=i.getAttribLocation(this.qa,"aTextureCoord"),i.enableVertexAttribArray(this.qa.Ga),h=i.createShader(i.FRAGMENT_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n",t+="uniform float uPercent;\n",t+="uniform int uDirection;\n",t+="uniform vec2 uCanvasDimensions;\n",t+="uniform float uSoftEdge;\n",t+="uniform sampler2D uSampler;\n",t+="void main(void) {\n",t+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",t+=" float alpha = 0.0;\n",t+=" if (uDirection == 1) {\n",t+="\t if (gl_FragCoord.x > uPercent) {\n",t+="    alpha = 1.0; \n",t+="  } else {\n",t+="    alpha = 1.0 - ((uPercent - gl_FragCoord.x) / uSoftEdge);\n",t+="  }\n",t+=" }\n",t+=" if (uDirection == 2) {\n",t+="\t if (gl_FragCoord.x < uCanvasDimensions.x - uPercent) {\n",t+="    alpha = 1.0; \n",t+="  } else {\n",t+="    alpha = 1.0 - ((gl_FragCoord.x - (uCanvasDimensions.x - uPercent)) / uSoftEdge);\n",t+="  }\n",t+=" }\n",t+=" if (uDirection == 3) {\n",t+="\t if (gl_FragCoord.y < uCanvasDimensions.y - uPercent) {\n",t+="    alpha = 1.0; \n",t+="  } else {\n",t+="    alpha = 1.0 - ((gl_FragCoord.y - (uCanvasDimensions.y - uPercent)) / uSoftEdge);\n",t+="  }\n",t+=" }\n",t+=" if (uDirection == 4) {\n",t+="\t if (gl_FragCoord.y > uPercent) {\n",t+="    alpha = 1.0; \n",t+="  } else {\n",t+="    alpha = 1.0 - ((uPercent - gl_FragCoord.y) / uSoftEdge);\n",t+="  }\n",t+=" }\n",t+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, alpha);\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),this.ta=i.createProgram(),i.attachShader(this.ta,e),i.attachShader(this.ta,h),i.linkProgram(this.ta),i.getProgramParameter(this.ta,i.LINK_STATUS)||alert("Could not initialise shaders"),this.ta.ca=i.getAttribLocation(this.ta,"aVertexPosition"),i.enableVertexAttribArray(this.ta.ca),this.ta.Ga=i.getAttribLocation(this.ta,"aTextureCoord"),i.enableVertexAttribArray(this.ta.Ga)},t.prototype.vc=function(){var t=this.m.a;if(!t)return!1;if(this.kb=t.createFramebuffer()){t.bindFramebuffer(t.FRAMEBUFFER,this.kb),this.kb.width=1024,this.kb.height=1024,this.Pc=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.Pc),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.kb.width,this.kb.height,0,t.RGBA,t.UNSIGNED_BYTE,null);var i=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.kb.width,this.kb.height),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.Pc,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),!0}return!1},t.prototype.vh=function(t){var i=this.m.a,e=this.m.Ta;if(this.Dc){i.useProgram(this.ga),i.bindBuffer(i.ARRAY_BUFFER,this.m.Fa),i.vertexAttribPointer(this.ga.ca,this.m.Fa.Qb,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.m.dd),i.vertexAttribPointer(this.ga.Ga,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.Pc);var e=1+(this.Na-1)*t,h=i.getUniformLocation(this.ga,"uAlpha");i.uniform1f(h,1),h=i.getUniformLocation(this.ga,"uZoomIn"),i.uniform1i(h,1);var h=i.getUniformLocation(this.ga,"uZoomCenter"),s=.5+(this.de-.5)*Math.sqrt(t),a=.5+(this.ee-.5)*Math.sqrt(t);0>s-.5/e&&(s=.5/e),0>a-.5/e&&(a=.5/e),1<s+.5/e&&(s=1-.5/e),1<a+.5/e&&(a=1-.5/e),i.uniform2f(h,s,a),s=i.getUniformLocation(this.ga,"uZoomFactor"),i.uniform1f(s,e),i.uniform1i(i.getUniformLocation(this.ga,"uSampler"),0),i.drawArrays(i.TRIANGLE_STRIP,0,this.m.Fa.yc),i.useProgram(this.m.F)}else{if(this.m.Zd(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.SRC_ALPHA,i.ONE),i.enable(i.BLEND),i.disable(i.DEPTH_TEST),s=.5+(this.de-.5),a=.5+(this.ee-.5),0>s-.5/this.Na&&(s=.5/this.Na),0>a-.5/this.Na&&(a=.5/this.Na),1<s+.5/this.Na&&(s=1-.5/this.Na),1<a+.5/this.Na&&(a=1-.5/this.Na),"crossdissolve"==this.type)i.useProgram(this.ga),i.bindBuffer(i.ARRAY_BUFFER,this.m.Fa),i.vertexAttribPointer(this.ga.ca,this.m.Fa.Qb,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.m.dd),i.vertexAttribPointer(this.ga.Ga,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.Pc),h=i.getUniformLocation(this.ga,"uAlpha"),i.uniform1f(h,1-t),h=i.getUniformLocation(this.ga,"uZoomIn"),i.uniform1i(h,1==this.Ba||2==this.Ba?1:0),h=i.getUniformLocation(this.ga,"uZoomCenter"),i.uniform2f(h,s,a),s=i.getUniformLocation(this.ga,"uZoomFactor"),i.uniform1f(s,this.Na),i.uniform1i(i.getUniformLocation(this.ga,"uSampler"),0);else if("diptocolor"==this.type)i.useProgram(this.ya),i.bindBuffer(i.ARRAY_BUFFER,this.m.Fa),i.vertexAttribPointer(this.ya.ca,this.m.Fa.Qb,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.m.dd),i.vertexAttribPointer(this.ya.Ga,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.Pc),i.uniform1f(i.getUniformLocation(this.ya,"uColorPercent"),Math.min(2*t,1)),h=i.getUniformLocation(this.ya,"uAlpha"),t=Math.max(2*(t-.5),0),i.uniform1f(h,1-t),i.uniform3f(i.getUniformLocation(this.ya,"uDipColor"),(this.he>>16&255)/255,(this.he>>8&255)/255,(255&this.he)/255),h=i.getUniformLocation(this.ya,"uZoomIn"),i.uniform1i(h,1==this.Ba||2==this.Ba?1:0),h=i.getUniformLocation(this.ya,"uZoomCenter"),i.uniform2f(h,s,a),s=i.getUniformLocation(this.ya,"uZoomFactor"),i.uniform1f(s,this.Na),i.uniform1i(i.getUniformLocation(this.ya,"uSampler"),0);else if("irisround"==this.type||"irisrectangular"==this.type){i.useProgram(this.qa),i.bindBuffer(i.ARRAY_BUFFER,this.m.Fa),i.vertexAttribPointer(this.qa.ca,this.m.Fa.Qb,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.m.dd),i.vertexAttribPointer(this.qa.Ga,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.Pc);var o;1==this.Ba||2==this.Ba?o=h=.5:(h=this.de,o=this.ee);var r=h*e.width,n=o*e.height,r=Math.max(r,e.width-r),n=Math.max(n,e.height-n);"irisround"==this.type?i.uniform1f(i.getUniformLocation(this.qa,"uRadius"),(Math.sqrt(r*r+n*n)+this.Zb)*t):(r>n?(n=e.height/e.width*r+this.Zb,r+=this.Zb):(r=e.width/e.height*n+this.Zb,n+=this.Zb),i.uniform2f(i.getUniformLocation(this.qa,"uRectDim"),r*t,n*t)),t=i.getUniformLocation(this.qa,"uSoftEdge"),i.uniform1f(t,this.Zb),i.uniform1i(i.getUniformLocation(this.qa,"uRound"),"irisround"==this.type?1:0),i.uniform2f(i.getUniformLocation(this.qa,"uIrisCenter"),h*e.width,o*e.height),h=i.getUniformLocation(this.qa,"uZoomIn"),i.uniform1i(h,1==this.Ba||2==this.Ba?1:0),h=i.getUniformLocation(this.qa,"uZoomCenter"),i.uniform2f(h,s,a),s=i.getUniformLocation(this.qa,"uZoomFactor"),i.uniform1f(s,this.Na),i.uniform1i(i.getUniformLocation(this.qa,"uSampler"),0)}else"wipeleftright"!=this.type&&"wiperightleft"!=this.type&&"wipetopbottom"!=this.type&&"wipebottomtop"!=this.type&&"wiperandom"!=this.type||(i.useProgram(this.ta),i.bindBuffer(i.ARRAY_BUFFER,this.m.Fa),i.vertexAttribPointer(this.ta.ca,this.m.Fa.Qb,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.m.dd),i.vertexAttribPointer(this.ta.Ga,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.Pc),i.uniform1f(i.getUniformLocation(this.ta,"uPercent"),3>this.uf?t*(e.width+this.Zb):t*(e.height+this.Zb)),t=i.getUniformLocation(this.ta,"uSoftEdge"),i.uniform1f(t,this.Zb),i.uniform1i(i.getUniformLocation(this.ta,"uDirection"),this.uf),i.uniform2f(i.getUniformLocation(this.ta,"uCanvasDimensions"),e.width,e.height),h=i.getUniformLocation(this.ta,"uZoomIn"),i.uniform1i(h,1==this.Ba||2==this.Ba?1:0),h=i.getUniformLocation(this.ta,"uZoomCenter"),i.uniform2f(h,s,a),s=i.getUniformLocation(this.ta,"uZoomFactor"),i.uniform1f(s,this.Na),i.uniform1i(i.getUniformLocation(this.ta,"uSampler"),0));i.drawArrays(i.TRIANGLE_STRIP,0,this.m.Fa.yc),i.useProgram(this.m.F),i.disable(i.BLEND),i.enable(i.DEPTH_TEST)}},t}(),O=function(){function t(t){this.Yd=[],this.m=t,this.enable=!1,this.Ec=2,this.sg=!1}return t.prototype.yf=function(t){if(2==t.mode||3==t.mode||5==t.mode){var i=this.m.lb.currentTime,e=t.zb.gain.value,h=t.xb.gain.value,s=t.yb.gain.value;t.wb.gain.linearRampToValueAtTime(t.wb.gain.value,i),t.wb.gain.linearRampToValueAtTime(0,i+this.Ec),t.zb.gain.linearRampToValueAtTime(e,i),t.zb.gain.linearRampToValueAtTime(0,i+this.Ec),t.xb.gain.linearRampToValueAtTime(h,i),t.xb.gain.linearRampToValueAtTime(0,i+this.Ec),t.yb.gain.linearRampToValueAtTime(s,i),t.yb.gain.linearRampToValueAtTime(0,i+this.Ec)}else i=this.m.lb.currentTime,t.fc.gain.linearRampToValueAtTime(t.fc.gain.value,i),t.fc.gain.linearRampToValueAtTime(0,i+this.Ec);t.zf=!0},t.prototype.fk=function(){for(var t=0;t<this.m.P.length;t++){var i=this.m.P[t];this.m.xc(i.id)||4==i.mode||6==i.mode||(i.c.play(),i.c.currentTime=0)}},t.prototype.Ci=function(){for(var t=(this.m.lb.currentTime-this.ck)/this.Ec,t=Math.min(1,t),i=0;i<this.m.P.length;i++){var e=this.m.P[i];this.m.xc(e.id)&&1>e.aa&&(e.aa=t)}1==t&&clearInterval(this.bk)},t}(),P=function(){function t(t){this.Od=[],this.ac=null,this.ib=[],this.cb=[],this.jb=[],this.m=t,this.yi()}return t.prototype.Jd=function(){var t,i=this.m.a,e=i.createShader(i.VERTEX_SHADER);t="attribute vec3 aVertexPosition;\nvoid main(void) {\n",t+=" gl_Position = vec4(aVertexPosition, 1.0);\n",t+="}\n",i.shaderSource(e,t),i.compileShader(e),i.getShaderParameter(e,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(e)),e=null);var h=i.createShader(i.FRAGMENT_SHADER);t="#ifdef GL_FRAGMENT_PRECISION_HIGH\n",t+="precision highp float;\n",t+="#else\n",t+="precision mediump float;\n",t+="#endif\n",t+="varying vec4 vColor;\n",t+="uniform vec2 uCanvasDimensions;\n",t+="uniform vec2 uFlareCenterPosition;\n",t+="uniform float uBlindingValue;\n",t+="uniform float uAspectRatio;\n",t+="void main(void) {\n",t+=" float canvasDiag = sqrt( (uCanvasDimensions.x * uCanvasDimensions.x) + (uCanvasDimensions.y * uCanvasDimensions.y) );\n",t+=" vec2 diff = uFlareCenterPosition - gl_FragCoord.xy;\n",t+=" diff.y = diff.y * uAspectRatio;\n",t+=" float distFromFlarePoint = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n",t+=" float factor = (distFromFlarePoint / canvasDiag) / 10.0;\n",t+=" gl_FragColor = vec4(1.0, 1.0, 1.0, pow(((1.0 - factor) * 0.8) * uBlindingValue, 2.0));\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),this.nb=i.createProgram(),i.attachShader(this.nb,e),i.attachShader(this.nb,h),i.linkProgram(this.nb),i.getProgramParameter(this.nb,i.LINK_STATUS)||alert("Could not initialise shaders"),this.nb.ca=i.getAttribLocation(this.nb,"aVertexPosition"),i.enableVertexAttribArray(this.nb.ca),h=i.createShader(i.VERTEX_SHADER),e=i.createShader(i.VERTEX_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\n",t+="precision highp float;\n",t+="#else\n",t+="precision mediump float;\n",t+="#endif\n",t+="attribute vec3 aVertexPosition;\n",t+="varying vec4 vColor;\n",t+="uniform vec2 uCirclePosition;\n",t+="uniform float uCircleRadius;\n",t+="uniform vec2 uCanvasDimensions2;\n",t+="uniform float uAspectRatio;\n",t+="void main(void) {\n",t+=" vec2 circleOnScreen = aVertexPosition.xy * uCircleRadius + uCirclePosition;\n",t+=" circleOnScreen.y = circleOnScreen.y / uAspectRatio;\n",t+=" vec2 circleNorm = (circleOnScreen / uCanvasDimensions2) * 2.0 - vec2(1.0, 1.0);\n",t+=" gl_Position = vec4(circleNorm.x, circleNorm.y, 0.0, 1.0);\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),i.shaderSource(e,t),i.compileShader(e),i.getShaderParameter(e,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(e)),h=null);var s=i.createShader(i.FRAGMENT_SHADER);t="#ifdef GL_FRAGMENT_PRECISION_HIGH\n",t+="precision highp float;\n",t+="#else\n",t+="precision mediump float;\n",t+="#endif\n",t+="varying vec4 vColor;\n",t+="uniform vec2 uCircleTexturePosition;\n",t+="uniform vec3 uCircleColor;\n",t+="uniform float uCircleRadius;\n",t+="uniform float uCircleAlpha;\n",t+="uniform float uCircleSoftness;\n",t+="uniform float uAspectRatio;\n",t+="void main(void) {\n",t+=" vec2 diff = uCircleTexturePosition - gl_FragCoord.xy;\n",t+=" diff.y = diff.y * uAspectRatio;\n",t+=" float distFromCircleCenter = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n",t+=" float softnessDistance = uCircleRadius * (1.0 - uCircleSoftness);\n",t+=" if (distFromCircleCenter > uCircleRadius)\n",t+=" {\n",t+="\t  gl_FragColor = vec4(uCircleColor, 0.0);\n",t+=" }\n",t+=" else if (distFromCircleCenter <= (softnessDistance))\n",t+=" {\n",t+="\t  float factor = distFromCircleCenter / softnessDistance;\n",t+="\t  gl_FragColor = vec4(uCircleColor, pow((1.0 - (0.2 * factor)) * uCircleAlpha, 1.8));\n",t+=" }\n",t+=" else\n",t+=" {\n",t+="\t  float factor = (distFromCircleCenter - softnessDistance) / (uCircleRadius - softnessDistance);\n",t+="\t  gl_FragColor = vec4(uCircleColor, pow((0.8 - (0.8 * factor)) * uCircleAlpha, 1.8));\n",t+=" }\n",t+="}\n",i.shaderSource(s,t),i.compileShader(s),i.getShaderParameter(s,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(s)),s=null),this.fa=i.createProgram(),i.attachShader(this.fa,h),i.attachShader(this.fa,s),i.linkProgram(this.fa),i.getProgramParameter(this.fa,i.LINK_STATUS)||alert("Could not initialise shaders"),this.fa.ca=i.getAttribLocation(this.fa,"aVertexPosition"),i.enableVertexAttribArray(this.fa.ca),h=i.createShader(i.FRAGMENT_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\n",t+="precision highp float;\n",t+="#else\n",t+="precision mediump float;\n",t+="#endif\n",t+="varying vec4 vColor;\n",t+="uniform vec2 uRingTexturePosition;\n",t+="uniform float uRingRadius;\n",t+="uniform float uRingAlpha;\n",t+="uniform float uAspectRatio;\n",t+="uniform sampler2D uSampler;\n",t+="void main(void) {\n",t+=" vec2 diff = uRingTexturePosition - gl_FragCoord.xy;\n",t+=" diff.y = diff.y * uAspectRatio;\n",t+=" float distFromRingCenter = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n",t+=" float factor = distFromRingCenter / uRingRadius;\n",t+=" if (distFromRingCenter > uRingRadius)\n",t+=" {\n",t+="\t gl_FragColor = vec4(1.0, 1.0, 1.0, 0.0);\n",t+=" }\n",t+=" else\n",t+=" {\n",t+=" vec4 textureColor = texture2D(uSampler, vec2(factor / uAspectRatio, 0.5));\n",t+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, uRingAlpha);\n",t+=" }\n",t+="}\n",i.shaderSource(h,t),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||(alert(i.getShaderInfoLog(h)),h=null),this.La=i.createProgram(),i.attachShader(this.La,e),i.attachShader(this.La,h),i.linkProgram(this.La),i.getProgramParameter(this.La,i.LINK_STATUS)||alert("Could not initialise shaders"),this.La.ca=i.getAttribLocation(this.La,"aVertexPosition")},t.prototype.vc=function(){var t=this.m.a;this.ec=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.ec),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),t.STATIC_DRAW),this.ec.Qb=3,this.ec.yc=4,this.Wc=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.Wc);for(var i=[0,0,0],e=2*Math.PI/6,h=Math.PI/180*35,s=1,a=h;a<=h+2*Math.PI;a+=e)i.push(Math.sin(a)),i.push(-Math.cos(a)),i.push(0),s++;t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),this.Wc.Qb=3,this.Wc.yc=s,this.Eh=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.Eh),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i=document.createElement("canvas"),i.width=100,i.height=1,e=i.getContext("2d"),e.width=100,e.height=1,h=e.createLinearGradient(0,0,100,0),h.addColorStop(0,this.m.X(16777215,0)),h.addColorStop(.88,this.m.X(0,0)),h.addColorStop(.9,this.m.X(16654848,1)),h.addColorStop(.92,this.m.X(16776448,1)),h.addColorStop(.94,this.m.X(4849466,1)),h.addColorStop(.96,this.m.X(131071,1)),h.addColorStop(.98,this.m.X(8190,1)),h.addColorStop(1,this.m.X(0,0)),e.fillStyle=h,e.fillRect(0,0,100,1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i)},t.prototype.Hj=function(){for(;0<this.Od.length;)this.Od.pop()},t.prototype.yi=function(){var t=[],i=[],e=[],h={i:14,alpha:.2,color:11390415,h:.27};t.push(h),h={i:20,alpha:.25,color:11390415,h:.4},t.push(h),h={i:10,alpha:.2,color:12442332,h:.6},t.push(h),h={i:15,alpha:.2,color:11390415,h:.8},t.push(h),h={i:10,alpha:.2,color:12442332,h:1.5},t.push(h),h={i:15,alpha:.2,color:11390415,h:1.8},t.push(h),h={i:8,alpha:.2,color:12575203,s:.8,h:.7},i.push(h),h={i:7,alpha:.4,color:12575203,s:.5,h:1.6},i.push(h),h={i:5,alpha:.4,color:12575203,s:.6,h:.9},i.push(h),h={i:8,alpha:.3,color:12575203,s:.4,h:1.1},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:30,alpha:.3,color:11390415,h:.5},t.push(h),h={i:10,alpha:.3,color:11390415,h:1},t.push(h),h={i:20,alpha:.3,color:11390415,h:1.3},t.push(h),h={i:10,alpha:.3,color:11390415,h:1.5},t.push(h),h={i:15,alpha:.3,color:11390415,h:1.8},t.push(h),h={i:10,alpha:.3,color:15506856,s:.8,h:.7},i.push(h),h={i:20,alpha:.5,color:15506856,s:.5,h:1.6},i.push(h),h={i:5,alpha:.5,color:15506856,s:.6,h:.9},i.push(h),h={i:60,alpha:.4,color:15506856,s:.2,h:1.1},i.push(h),e.push({i:220,alpha:.035,h:2}),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:30,alpha:.5,color:15465727,h:.5},t.push(h),h={i:40,alpha:.28,color:15726842,h:.8},t.push(h),h={i:25,alpha:.32,color:15726842,h:1.1},t.push(h),h={i:15,alpha:.25,color:15726842,h:1.35},t.push(h),h={i:10,alpha:.28,color:15465727,h:1.65},t.push(h),h={i:10,alpha:.45,color:15465727,s:.8,h:.7},i.push(h),h={i:7,alpha:.5,color:15465727,s:.4,h:.9},i.push(h),h={i:40,alpha:.4,color:15465727,s:.3,h:.38},i.push(h),h={i:50,alpha:.4,color:15465727,s:.5,h:1.25},i.push(h),h={i:18,alpha:.2,color:15465727,s:.5,h:1.25},i.push(h),h={i:10,alpha:.34,color:15726842,s:.8,h:1.5},i.push(h),h={i:38,alpha:.37,color:15465727,s:.3,h:-.5},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:16,alpha:.5,color:16363159,h:.1},t.push(h),h={i:26,alpha:.3,color:16091819,h:.32},t.push(h),h={i:29,alpha:.2,color:16091819,h:1.32},t.push(h),h={i:20,alpha:.18,color:16363159,h:1.53},t.push(h),h={i:27,alpha:.13,color:16425092,h:1.6},t.push(h),h={i:20,alpha:.1,color:16091819,h:1.75},t.push(h),h={i:12,alpha:.45,color:16312238,s:.45,h:.2},i.push(h),h={i:8,alpha:.25,color:16434209,s:.7,h:.33},i.push(h),h={i:9,alpha:.25,color:16091819,s:.4,h:.7},i.push(h),h={i:7,alpha:.2,color:16091819,s:.4,h:.85},i.push(h),h={i:60,alpha:.23,color:16091819,s:.55,h:1.05},i.push(h),h={i:37,alpha:.1,color:16091819,s:.55,h:1.22},i.push(h),h={i:10,alpha:.25,color:16363159,s:.65,h:1.38},i.push(h),h={i:7,alpha:.2,color:16434209,s:.5,h:1.45},i.push(h),h={i:3,alpha:.2,color:16416033,s:.5,h:1.78},i.push(h),h={i:6,alpha:.18,color:16434209,s:.45,h:1.9},i.push(h),h={i:4,alpha:.14,color:16766514,s:.45,h:2.04},i.push(h),h={i:30,alpha:.14,color:16766514,s:.8,h:.04},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:9,alpha:.3,color:14346999,s:.3,h:.3},i.push(h),h={i:5,alpha:.5,color:14148072,s:.8,h:.6},i.push(h),h={i:3,alpha:.37,color:14346999,s:.66,h:.8},i.push(h),h={i:45,alpha:.2,color:14346999,s:.36,h:1.2},i.push(h),h={i:13,alpha:.2,color:14346999,s:.36,h:1.23},i.push(h),h={i:11,alpha:.2,color:14148072,s:.36,h:1.28},i.push(h),h={i:27,alpha:.16,color:14346999,s:.36,h:1.55},i.push(h),h={i:6,alpha:.36,color:14148072,s:.8,h:1.7},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:24,alpha:.2,color:15186464,h:.2},t.push(h),
h={i:7,alpha:.26,color:15186464,h:.35},t.push(h),h={i:23,alpha:.18,color:15186464,h:.65},t.push(h),h={i:13,alpha:.2,color:15186464,h:.8},t.push(h),h={i:11,alpha:.15,color:15186464,h:1.4},t.push(h),h={i:15,alpha:.11,color:15451904,h:1.6},t.push(h),h={i:6,alpha:.45,color:15579138,s:.45,h:.22},i.push(h),h={i:3,alpha:.3,color:15451904,s:.25,h:.4},i.push(h),h={i:4,alpha:.2,color:15451904,s:.25,h:.45},i.push(h),h={i:65,alpha:.17,color:15186464,s:.25,h:.5},i.push(h),h={i:5,alpha:.45,color:15579138,s:.45,h:.88},i.push(h),h={i:140,alpha:.18,color:15579138,s:.32,h:.95},i.push(h),h={i:12,alpha:.22,color:15579138,s:.32,h:1.1},i.push(h),h={i:8,alpha:.32,color:15451904,s:.72,h:1.2},i.push(h),h={i:55,alpha:.2,color:15451904,s:.45,h:1.33},i.push(h),h={i:4,alpha:.3,p•ø    p•ø                    ÀÂí            	õ    Ø•ø            •ø     @      •ø            {i:16,alpha:.4,color:10933495,h:.32},t.push(h),h={i:14,alpha:.3,color:11007484,h:.36},t.push(h),h={i:10,alpha:.3,color:4037331,h:.58},t.push(h),h={i:14,alpha:.22,color:8835068,h:.68},t.push(h),h={i:10,alpha:.27,color:11007484,h:.82},t.push(h),h={i:11,alpha:.27,color:10867450,h:1},t.push(h),h={i:9,alpha:.2,color:6158332,h:1.05},t.push(h),h={i:10,alpha:.17,color:10867450,h:1.78},t.push(h),h={i:10,alpha:.3,color:4037331,h:-.23},t.push(h),h={i:8,alpha:.45,color:8835068,s:.45,h:.175},i.push(h),h={i:7,alpha:.4,color:12574715,s:.55,h:.46},i.push(h),h={i:3,alpha:.3,color:10867450,s:.35,h:.5},i.push(h),h={i:60,alpha:.37,color:4031699,s:.75,h:.75},i.push(h),h={i:3,alpha:.25,color:4031699,s:.25,h:.75},i.push(h),h={i:3,alpha:.2,color:6158332,s:.25,h:.9},i.push(h),h={i:7,alpha:.45,color:8835068,s:.45,h:1.3},i.push(h),h={i:32,alpha:.22,color:8835068,s:.75,h:1.62},i.push(h),h={i:9,alpha:.45,color:4031699,s:.65,h:1.6},i.push(h),h={i:8,alpha:.25,color:4031699,s:.65,h:1.83},i.push(h),h={i:7,alpha:.4,color:12574715,s:.55,h:-.18},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:16,alpha:.4,color:16389120,h:.32},t.push(h),h={i:26,alpha:.22,color:16389120,h:.4},t.push(h),h={i:26,alpha:.25,color:16389120,h:.65},t.push(h),h={i:18,alpha:.3,color:16389120,h:1.23},t.push(h),h={i:14,alpha:.26,color:16389120,h:1.33},t.push(h),h={i:17,alpha:.18,color:16389120,h:1.7},t.push(h),h={i:30,alpha:.16,color:16389120,h:2.15},t.push(h),h={i:100,alpha:.25,color:16389120,s:.22,h:1.45},i.push(h),h={i:7,alpha:.5,color:15628151,s:.3,h:1.5},i.push(h),h={i:3,alpha:.5,color:15628151,s:.3,h:1.52},i.push(h),h={i:4,alpha:.5,color:16389120,s:.3,h:1.745},i.push(h),h={i:9,alpha:.22,color:16389120,s:.3,h:1.8},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:16,alpha:.4,color:10933495,h:.32},t.push(h),h={i:14,alpha:.3,color:11007484,h:.36},t.push(h),h={i:10,alpha:.3,color:4037331,h:.58},t.push(h),h={i:14,alpha:.22,color:8835068,h:.68},t.push(h),h={i:10,alpha:.27,color:11007484,h:.82},t.push(h),h={i:11,alpha:.27,color:10867450,h:1},t.push(h),h={i:9,alpha:.2,color:6158332,h:1.05},t.push(h),h={i:10,alpha:.17,color:10867450,h:1.78},t.push(h),h={i:10,alpha:.3,color:4037331,h:-.23},t.push(h),h={i:8,alpha:.45,color:8835068,s:.45,h:.175},i.push(h),h={i:7,alpha:.4,color:12574715,s:.55,h:.46},i.push(h),h={i:3,alpha:.3,color:10867450,s:.35,h:.5},i.push(h),h={i:60,alpha:.37,color:4031699,s:.75,h:.75},i.push(h),h={i:3,alpha:.25,color:4031699,s:.25,h:.75},i.push(h),h={i:3,alpha:.2,color:6158332,s:.25,h:.9},i.push(h),h={i:7,alpha:.45,color:8835068,s:.45,h:1.3},i.push(h),h={i:32,alpha:.22,color:8835068,s:.75,h:1.62},i.push(h),h={i:9,alpha:.45,color:4031699,s:.65,h:1.6},i.push(h),h={i:8,alpha:.25,color:4031699,s:.65,h:1.83},i.push(h),h={i:7,alpha:.4,color:12574715,s:.55,h:-.18},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:16,alpha:.4,color:16389120,h:.32},t.push(h),h={i:26,alpha:.22,color:16389120,h:.4},t.push(h),h={i:26,alpha:.25,color:16389120,h:.65},t.push(h),h={i:18,alpha:.3,color:16389120,h:1.23},t.push(h),h={i:14,alpha:.26,color:16389120,h:1.33},t.push(h),h={i:17,alpha:.18,color:16389120,h:1.7},t.push(h),h={i:30,alpha:.16,color:16389120,h:2.15},t.push(h),h={i:100,alpha:.25,color:16389120,s:.22,h:1.45},i.push(h),h={i:7,alpha:.5,color:15628151,s:.3,h:1.5},i.push(h),h={i:3,alpha:.5,color:15628151,s:.3,h:1.52},i.push(h),h={i:4,alpha:.5,color:16389120,s:.3,h:1.745},i.push(h),h={i:9,alpha:.22,color:16389120,s:.3,h:1.8},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e),t=[],i=[],e=[],h={i:24,alpha:.2,color:15186464,h:.2},t.push(h),h={i:7,alpha:.26,color:15186464,h:.35},t.push(h),h={i:23,alpha:.18,color:15186464,h:.65},t.push(h),h={i:13,alpha:.2,color:15186464,h:.8},t.push(h),h={i:11,alpha:.15,color:15186464,h:1.4},t.push(h),h={i:15,alpha:.11,color:15451904,h:1.6},t.push(h),h={i:6,alpha:.45,color:15579138,s:.45,h:.22},i.push(h),h={i:3,alpha:.3,color:15451904,s:.25,h:.4},i.push(h),h={i:4,alpha:.2,color:15451904,s:.25,h:.45},i.push(h),h={i:65,alpha:.17,color:15186464,s:.25,h:.5},i.push(h),h={i:5,alpha:.45,color:15579138,s:.45,h:.88},i.push(h),h={i:140,alpha:.18,color:15579138,s:.32,h:.95},i.push(h),h={i:12,alpha:.22,color:15579138,s:.32,h:1.1},i.push(h),h={i:8,alpha:.32,color:15451904,s:.72,h:1.2},i.push(h),h={i:55,alpha:.2,color:15451904,s:.45,h:1.33},i.push(h),h={i:4,alpha:.3,color:15451904,s:.25,h:1.42},i.push(h),this.ib.push(t),this.cb.push(i),this.jb.push(e)},t.prototype.wj=function(){var t,i,e,h,s,a=this.m.a,o=new y(0,0,(-100)),r=this.m.bc();this.m.ka?(h=this.m.Ta.width,s=this.m.Ta.height,this.m.S.Xd&&(h=this.m.S.kb.width,s=this.m.S.kb.height)):(this.H||(this.H=this.ac.getContext("2d")),this.H.width===this.m.l.width&&this.H.height===this.m.l.height||(this.H.width=this.m.l.width,this.H.height=this.m.l.height),this.H.clear?this.H.clear():this.H.clearRect(0,0,this.ac.width,this.ac.height),h=this.H.width,s=this.H.height);var n=Math.sqrt(h*h+s*s),l=n/800;for(i=0;i<this.Od.length;i++){var u=this.Od[i];o.Ka(0,0,-100),o.pa(-u.j*Math.PI/180),o.wa(u.pan*Math.PI/180),o.wa(-this.m.pan.b*Math.PI/180),o.pa(this.m.j.b*Math.PI/180),o.Ra(this.m.G.b*Math.PI/180);var d=!1;if(-.01>o.z){var p,c;c=-r/o.z,p=o.x*c,c*=o.y,Math.abs(p)<h/2+100&&Math.abs(c)<s/2+100&&(d=!0,p+=h/2,c+=s/2)}if(d){this.m.ka&&(a.blendFunc(a.SRC_ALPHA,a.DST_ALPHA),a.enable(a.BLEND),a.disable(a.DEPTH_TEST));var d=h/2,f=s/2;e=Math.sqrt((d-p)*(d-p)+(f-c)*(f-c));var g=n/2,f=h>s?h:s,d=u.ng/100*((g-e)/g);if(0>d&&(d=0),this.m.ka){a.useProgram(this.nb),a.bindBuffer(a.ARRAY_BUFFER,this.m.Fa),a.vertexAttribPointer(this.nb.ca,this.m.Fa.Qb,a.FLOAT,!1,0,0);var b=a.getUniformLocation(this.nb,"uCanvasDimensions");a.uniform2f(b,a.drawingBufferWidth,a.drawingBufferHeight),a.uniform2f(a.getUniformLocation(this.nb,"uFlareCenterPosition"),a.drawingBufferWidth/h*p,s-a.drawingBufferHeight/s*c),a.uniform1f(a.getUniformLocation(this.nb,"uBlindingValue"),d),b=a.getUniformLocation(this.nb,"uAspectRatio"),a.uniform1f(b,this.m.S.Xd?a.drawingBufferWidth/a.drawingBufferHeight:a.drawingBufferWidth/a.drawingBufferHeight/(h/s)),a.drawArrays(a.TRIANGLE_STRIP,0,this.m.Fa.yc)}else b=this.H.createRadialGradient(p,c,1,p,c,f),b.addColorStop(0,"rgba(255, 255, 255, "+d+")"),b.addColorStop(.5,"rgba(255, 255, 255, "+.8*d+")"),b.addColorStop(1,"rgba(255, 255, 255, "+.6*d+")"),this.H.fillStyle=b,this.H.fillRect(0,0,this.H.width,this.H.height);if(0!=Number(u.type)&&!this.m.S.Xd){var d=h/2-p,f=s/2-c,m=1,v=Number(u.type)-1;if(e<.35*g&&(m=e/(.35*g),m*=m),e>.7*g&&(m=(g-e)/(.3*g)),m*=u.alpha/100,0<this.ib[v].length)for(e=0;e<this.ib[v].length;e++){var A=this.ib[v][e],g=A.i*l;t=A.alpha*m,0>t&&(t=0);var T=A.color;if(8!=v&&9!=v&&10!=v||(T=u.color),this.m.ka)a.useProgram(this.fa),a.bindBuffer(a.ARRAY_BUFFER,this.Wc),a.vertexAttribPointer(this.fa.ca,this.Wc.Qb,a.FLOAT,!1,0,0),b=a.getUniformLocation(this.fa,"uCanvasDimensions2"),a.uniform2f(b,a.drawingBufferWidth,a.drawingBufferHeight),a.uniform2f(a.getUniformLocation(this.fa,"uCirclePosition"),a.drawingBufferWidth/h*(p+d*A.h),a.drawingBufferWidth/h*(s-(c+f*A.h))),a.uniform2f(a.getUniformLocation(this.fa,"uCircleTexturePosition"),a.drawingBufferWidth/h*(p+d*A.h),s-(c+f*A.h)),a.uniform1f(a.getUniformLocation(this.fa,"uCircleRadius"),g),a.uniform3f(a.getUniformLocation(this.fa,"uCircleColor"),(T>>16&255)/255,(T>>8&255)/255,(255&T)/255),a.uniform1f(a.getUniformLocation(this.fa,"uCircleAlpha"),t),a.uniform1f(a.getUniformLocation(this.fa,"uCircleSoftness"),.1),b=a.getUniformLocation(this.fa,"uAspectRatio"),a.uniform1f(b,a.drawingBufferWidth/a.drawingBufferHeight/(h/s)),a.drawArrays(a.TRIANGLE_FAN,0,this.Wc.yc);else{this.H.save(),this.H.translate(p+d*A.h,c+f*A.h),b=this.H.createRadialGradient(0,0,1,0,0,1.1*g),b.addColorStop(0,this.m.X(T,t)),b.addColorStop(.65,this.m.X(T,.9*t)),b.addColorStop(.8,this.m.X(T,.7*t)),b.addColorStop(1,this.m.X(T,.2*t)),this.H.beginPath();var T=2*Math.PI/6,A=Math.PI/180*35,x=!0;for(t=A;t<=A+2*Math.PI;t+=T)x?(this.H.moveTo(g*Math.sin(t),g*Math.cos(t)),x=!1):this.H.lineTo(g*Math.sin(t),g*Math.cos(t));this.H.closePath(),this.H.fillStyle=b,this.H.fill(),this.H.restore()}}if(0<this.cb[v].length)for(e=0;e<this.cb[v].length;e++)A=this.cb[v][e],g=A.i*l,t=A.alpha*m,0>t&&(t=0),T=A.color,8!=v&&9!=v&&10!=v||(T=u.color),this.m.ka?(a.useProgram(this.fa),a.bindBuffer(a.ARRAY_BUFFER,this.ec),a.vertexAttribPointer(this.fa.ca,this.ec.Qb,a.FLOAT,!1,0,0),b=a.getUniformLocation(this.fa,"uCanvasDimensions2"),a.uniform2f(b,a.drawingBufferWidth,a.drawingBufferHeight),b=a.getUniformLocation(this.fa,"uCirclePosition"),a.uniform2f(b,a.drawingBufferWidth/h*(p+d*A.h),a.drawingBufferWidth/h*(s-(c+f*A.h))),b=a.getUniformLocation(this.fa,"uCircleTexturePosition"),a.uniform2f(b,a.drawingBufferWidth/h*(p+d*A.h),s-(c+f*A.h)),b=a.getUniformLocation(this.fa,"uCircleRadius"),a.uniform1f(b,g),a.uniform3f(a.getUniformLocation(this.fa,"uCircleColor"),(T>>16&255)/255,(T>>8&255)/255,(255&T)/255),a.uniform1f(a.getUniformLocation(this.fa,"uCircleAlpha"),t),a.uniform1f(a.getUniformLocation(this.fa,"uCircleSoftness"),A.s),b=a.getUniformLocation(this.fa,"uAspectRatio"),a.uniform1f(b,a.drawingBufferWidth/a.drawingBufferHeight/(h/s)),a.drawArrays(a.TRIANGLE_FAN,0,this.ec.yc)):(this.H.save(),this.H.translate(p+d*A.h,c+f*A.h),b=this.H.createRadialGradient(0,0,1,0,0,g),b.addColorStop(0,this.m.X(T,t)),b.addColorStop(1-A.s,this.m.X(T,.8*t)),b.addColorStop(1,this.m.X(T,0)),this.H.beginPath(),this.H.arc(0,0,g,0,2*Math.PI,!1),this.H.closePath(),this.H.fillStyle=b,this.H.fill(),this.H.restore());if(0<this.jb[v].length)for(e=0;e<this.jb[v].length;e++)u=this.jb[v][e],g=u.i*l,t=u.alpha*m,0>t&&(t=0),this.m.ka?(a.useProgram(this.La),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this.Eh),a.bindBuffer(a.ARRAY_BUFFER,this.ec),a.vertexAttribPointer(this.La.ca,this.ec.Qb,a.FLOAT,!1,0,0),b=a.getUniformLocation(this.La,"uCanvasDimensions2"),a.uniform2f(b,h,s),b=a.getUniformLocation(this.La,"uCirclePosition"),a.uniform2f(b,p+d*u.h,s-(c+f*u.h)),b=a.getUniformLocation(this.La,"uRingTexturePosition"),a.uniform2f(b,a.drawingBufferWidth/h*(p+d*u.h),s-(c+f*u.h)),b=a.getUniformLocation(this.La,"uCircleRadius"),a.uniform1f(b,g),a.uniform2f(a.getUniformLocation(this.La,"uRingPosition"),p+d*u.h,s-(c+f*u.h)),a.uniform1f(a.getUniformLocation(this.La,"uRingRadius"),g),a.uniform1f(a.getUniformLocation(this.La,"uRingAlpha"),t),b=a.getUniformLocation(this.La,"uAspectRatio"),a.uniform1f(b,a.drawingBufferWidth/a.drawingBufferHeight/(h/s)),a.uniform1i(a.getUniformLocation(this.La,"uSampler"),0),a.drawArrays(a.TRIANGLE_FAN,0,this.ec.yc)):(this.H.save(),this.H.translate(p+d*u.h,c+f*u.h),b=this.H.createRadialGradient(0,0,0,0,0,g),b.addColorStop(0,this.m.X(16777215,0)),b.addColorStop(.88,this.m.X(0,0)),b.addColorStop(.9,this.m.X(16654848,t)),b.addColorStop(.92,this.m.X(16776448,t)),b.addColorStop(.94,this.m.X(4849466,t)),b.addColorStop(.96,this.m.X(131071,t)),b.addColorStop(.98,this.m.X(8190,t)),b.addColorStop(1,this.m.X(0,0)),this.H.beginPath(),this.H.arc(0,0,g,0,2*Math.PI,!1),this.H.closePath(),this.H.fillStyle=b,this.H.fill(),this.H.restore())}this.m.ka&&(a.useProgram(this.m.F),a.disable(a.BLEND),a.enable(a.DEPTH_TEST))}}},t}();window.ggHasHtml5Css3D=Q,window.ggHasWebGL=R;var S=this&&this.Kk||function(t,i){function e(){this.constructor=t}for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},T=function(){function t(t){this.m=null,this.Dd=this.Tg=this.hb=!1,this.Ra=this.wa=this.pa=0,this.f=70,this.za=0,this.autoplay=this.Hd=!1,this.id="",this.j=this.pan=0,this.m=t,this.Xb=this.Ob=100,this.gc=1}return t.prototype.Za=function(t){var i;(i=t.getAttributeNode("id"))&&(this.id=i.nodeValue.toString()),(i=t.getAttributeNode("pan"))&&(this.pan=Number(i.nodeValue)),(i=t.getAttributeNode("tilt"))&&(this.j=Number(i.nodeValue))},t.prototype.Yh=function(t){var i="",e=this.m;e.Eb&&(i+="perspective("+t+"px) "),i=i+("translate3d(0px,0px,"+t+"px) ")+("rotateZ("+e.G.b.toFixed(10)+"deg) "),i+="rotateX("+e.j.b.toFixed(10)+"deg) ",i+="rotateY("+(-e.pan.b).toFixed(10)+"deg) ",i+="rotateY("+this.pan.toFixed(10)+"deg) ",i+="rotateX("+(-this.j).toFixed(10)+"deg) ",t=1e4;var h=this.c.videoWidth,s=this.c.videoHeight;0!=h&&0!=s||(h=640,s=480),0<this.Ob&&(h=this.Ob),0<this.Xb&&(s=this.Xb),0<h&&0<s&&(this.c.width=h,this.c.height=s,this.c.style.width=h+"px",this.c.style.height=s+"px"),0<this.f&&(t=h/(2*Math.tan(this.f/2*Math.PI/180))),i+="translate3d(0px,0px,"+(-t).toFixed(10)+"px) ",i+="rotateZ("+this.Ra.toFixed(10)+"deg) ",i+="rotateY("+(-this.wa).toFixed(10)+"deg) ",i+="rotateX("+this.pa.toFixed(10)+"deg) ",this.gc&&1!=this.gc&&(i+="scaleY("+this.gc+") "),i+="translate3d("+-h/2+"px,"+-s/2+"px,0px) ",this.c.style[e.Aa+"Origin"]="0% 0%",this.hb&&(i="",1==this.za&&(i+="scale("+Math.min(e.l.width/h,e.l.height/s)+") "),i+="translate3d("+-h/2+"px,"+-s/2+"px,0px) "),this.gj!=i&&(this.gj=i,this.c.style[e.Aa]=i,this.c.style.visibility="visible",this.Dd&&this.Tg==this.hb&&(this.c.style[e.Vb]="all 0s linear 0s"),this.Tg=this.hb)},t.prototype.Qc=function(){var t=this.m;this.c.style.left=t.margin.left+t.l.width/2+"px",this.c.style.top=t.margin.top+t.l.height/2+"px"},t}(),U=function(t){function i(i){t.call(this,i),this.Rf=this.zf=this.md=!1,this.url=[],this.loop=0,this.level=1,this.Lb=0,this.mode=1,this.zg=10,this.bf=this.Xa=0,this.aa=1,this.Sb=this.Jb=this.Ib=this.Rb=0}return S(i,t),i.prototype.ak=function(){0==this.loop?this.c.play():0<this.rc&&(this.rc--,this.c.currentTime=0,this.zf&&(this.fc&&0==this.fc.gain.value||0==this.wb.gain.value&&0==this.zb.gain.value&&0==this.xb.gain.value&&0==this.yb.gain.value)||this.c.play())},i.prototype.kg=function(){var t=this.m.lb;t&&(this.source=t.createMediaElementSource(this.c),2==this.mode||3==this.mode||5==this.mode?(this.wd=t.createChannelSplitter(2),this.wb=t.createGain(),this.xb=t.createGain(),this.yb=t.createGain(),this.zb=t.createGain(),this.vd=t.createChannelMerger(2),this.source.connect(this.wd),this.wd.connect(this.wb,0),this.wd.connect(this.xb,0),this.wd.connect(this.yb,1),this.wd.connect(this.zb,1),this.wb.connect(this.vd,0,0),this.xb.connect(this.vd,0,1),this.yb.connect(this.vd,0,0),this.zb.connect(this.vd,0,1),this.vd.connect(t.destination)):(this.fc=t.createGain(),this.source.connect(this.fc),this.fc.connect(t.destination)))},i.prototype.Ud=function(){var t=this.m.lb;this.hb||this.Rf||(this.wb.gain.setValueAtTime(this.Rb,t.currentTime),this.zb.gain.setValueAtTime(this.Sb,t.currentTime),this.xb.gain.setValueAtTime(this.Ib,t.currentTime),this.yb.gain.setValueAtTime(this.Jb,t.currentTime))},i.prototype.gg=function(){var t=this.m,i=this.m.lb;if(this.c){var e,h=this.pan-t.pan.b;for(e=this.j-t.j.b;-180>h;)h+=360;for(;180<h;)h-=360;var s=this.Lb,a=this.zg;if(0==a&&(a=.01),0>a&&(a=t.f.b),this.$a||(this.$a=new y,this.$a.Cg(this.pan,this.j)),0!=this.mode&&1!=this.mode||!i||this.fc&&this.fc.gain.setValueAtTime(this.level*t.ba*this.aa,i.currentTime),2==this.mode&&i){var o=.5*Math.cos(h*Math.PI/180)+.5;this.Rb=Math.sqrt(o)*this.aa,this.Sb=Math.sqrt(o)*this.aa,this.Ib=Math.sqrt(1-o)*this.aa,this.Jb=Math.sqrt(1-o)*this.aa,this.Ud()}if(3==this.mode){0>h?h<-this.Xa?h+=this.Xa:h=0:h=h>this.Xa?h-this.Xa:0,o=this.level,e=Math.abs(e),e=e<this.bf?0:e-this.bf;var r=1-e/a;if(Math.abs(h)>a||0>r){var n=o*s*t.ba;i?(this.Rb=n*this.aa,this.Sb=n*this.aa,this.Jb=this.Ib=0,this.Ud()):this.c.volume=o*s*t.ba}else if(n=1-Math.abs(h/a),i){var l=o*(s+(1-s)*r*n)*t.ba,n=o*s*t.ba;0<=h?(this.Rb=l*this.aa,this.Sb=n*this.aa):(this.Rb=n*this.aa,this.Sb=l*this.aa),2*Math.abs(h)<a?(n=1-Math.abs(2*h)/a,l=o*(s+(1-s)*r*n)*t.ba,n=.5*o*(1-s)*r*(1-n)*t.ba,0<=h?(this.Sb=l*this.aa,this.Jb=n*this.aa,this.Ib=0):(this.Rb=l*this.aa,this.Ib=n*this.aa,this.Jb=0)):(n=1-(Math.abs(2*h)-a)/a,l=.5*o*(1-s)*r*n*t.ba,0<=h?(this.Jb=l*this.aa,this.Ib=0):(this.Ib=l*this.aa,this.Jb=0)),this.Ud()}else this.c.volume=o*(s+(1-s)*r*n)*t.ba}4==this.mode&&(Math.abs(h)<this.Xa&&Math.abs(e)<this.bf?this.md||(this.md=!0,this.c.play()):this.md=!1),5==this.mode&&(e=180*Math.acos(t.sf.Me(this.$a))/Math.PI,e<this.Xa?i?(this.Rb=this.level*t.ba*this.aa,this.Sb=this.level*t.ba*this.aa,this.Jb=this.Ib=0,this.Ud()):this.c.volume=this.level*t.ba:i?e<this.Xa+a?(h=0>h?h>-this.Xa?0:h+this.Xa:h<this.Xa?0:h-this.Xa,l=1-Math.max(e-this.Xa,0)/a,n=Math.max(1-Math.abs(h)*Math.cos(this.j*Math.PI/180)/a,0),0<h?(this.Rb=this.level*(l*(1-this.Lb)+this.Lb)*this.aa,this.Sb=this.level*(l*n*(1-this.Lb)+this.Lb)*this.aa,this.Ib=0,this.Jb=this.level*l*(1-n)*this.aa):(this.Rb=this.level*(l*n*(1-this.Lb)+this.Lb)*this.aa,this.Sb=this.level*(l*(1-this.Lb)+this.Lb)*this.aa,this.Ib=this.level*l*(1-n)*this.aa,this.Jb=0),this.Ud()):(l=this.level*this.Lb,this.Rb=l*this.aa,this.Sb=l*this.aa,this.Jb=this.Ib=0):(e-=this.Xa,this.c.volume=e<a&&0<a?this.level*(s+(1-s)*(1-Math.abs(e/a)))*t.ba:s*t.ba)),6==this.mode&&(e=180*Math.acos(t.sf.Me(this.$a))/Math.PI,Math.abs(e)<this.Xa?this.md||(this.md=!0,this.c.play()):this.md=!1)}},i.prototype.addElement=function(){var t=-1,i=this,e=this.m,h=this.m.lb;try{for(var s=!1,a=0;a<e.P.length;a++)e.P[a].id==i.id&&(t=a,null!=e.P[a].c&&e.P[a].url.join()==i.url.join()&&e.P[a].loop==i.loop&&e.P[a].mode==i.mode&&(s=!0));if(!s){if(0<=t){var o=e.P[t];if(null!=o.c)if(h&&e.ra.enabled)e.ra.Yd.push(o),1!=e.S.Ba&&2!=e.S.Ba&&e.ra.yf(o);else{try{o.c.pause()}catch(r){}try{o.ed()}catch(r){}}}for(i.c=document.createElement("audio"),i.c.setAttribute("class","ggmedia"),e.Yc&&i.c.setAttribute("id",e.Yc+i.id),a=0;a<i.url.length;a++){var n;n=document.createElement("source"),""!=i.url[a]&&"#"!=i.url[a]&&(n.setAttribute("src",e.ub(i.url[a])),i.c.appendChild(n))}i.c.volume=i.level*e.ba,1<=i.loop&&(i.rc=i.loop-1),0<=t?e.P[t]=i:e.P.push(i),0<i.c.childNodes.length&&(e.L.appendChild(i.c),i.c.addEventListener("ended",function(){i.ak()},!1),h&&(i.kg(),i.zf=!1,0==i.loop&&i.source.mediaElement&&(i.source.mediaElement.loop=!0))),1!=i.mode&&2!=i.mode&&3!=i.mode&&5!=i.mode||!(0<=i.loop)||h&&e.ra.enabled||(i.c.autoplay=!0,i.autoplay=!0),0==i.mode&&0<=i.loop&&(i.autoplay=!0)}}catch(r){}},i.prototype.ed=function(){try{this.m.L.removeChild(this.c),delete this.c,this.c=null}catch(t){}},i.prototype.Za=function(i){t.prototype.Za.call(this,i);var e;for((e=i.getAttributeNode("url"))&&this.url.push(e.nodeValue.toString()),(e=i.getAttributeNode("level"))&&(this.level=Number(e.nodeValue)),(e=i.getAttributeNode("loop"))&&(this.loop=Number(e.nodeValue)),(e=i.getAttributeNode("mode"))&&(this.mode=Number(e.nodeValue)),(e=i.getAttributeNode("field"))&&(this.zg=Number(e.nodeValue)),(e=i.getAttributeNode("ambientlevel"))&&(this.Lb=Number(e.nodeValue)),(e=i.getAttributeNode("pansize"))&&(this.Xa=Number(e.nodeValue)),(e=i.getAttributeNode("tiltsize"))&&(this.bf=Number(e.nodeValue)),i=i.firstChild;i;)"source"==i.nodeName&&(e=i.getAttributeNode("url"))&&this.url.push(e.nodeValue.toString()),i=i.nextSibling},i}(T),V=function(t){function i(i){t.call(this,i),this.poster="",this.Ra=this.wa=this.pa=0,this.f=50,this.za=0,this.Hd=!1}return S(i,t),i.prototype.Yb=function(){1!=this.za&&4!=this.za||this.Ed(!this.hb),2==this.za&&this.m.xh(this.id)},i.prototype.Ed=function(t){var i=this.m.lb;if(1==this.za||4==this.za)if(this.hb=t,this.m.Sa)(i=this.m.Y)&&i.activateSound(this.id,this.hb?1:0);else{if(this.hb)this.c.play(),this.c.style.zIndex="80000",this.c.style[this.m.Vb]="all 1s ease 0s",this.m.bd(this.id);else{this.c.style.zIndex="0",this.c.style[this.m.Vb]="all 1s ease 0s",this.Rf=!0;var e=this;setTimeout(function(){e.Rf=!1},1e3)}if(i){var i=i.currentTime,h=this.wb.gain.value,s=this.zb.gain.value,a=this.xb.gain.value,o=this.yb.gain.value;this.hb?(this.wb.gain.linearRampToValueAtTime(h,i),this.wb.gain.linearRampToValueAtTime(this.level*this.m.ba,i+1),this.zb.gain.linearRampToValueAtTime(s,i),this.zb.gain.linearRampToValueAtTime(this.level*this.m.ba,i+1),this.xb.gain.linearRampToValueAtTime(a,i),this.xb.gain.linearRampToValueAtTime(0,i+1),this.yb.gain.linearRampToValueAtTime(o,i),this.yb.gain.linearRampToValueAtTime(0,i+1)):(this.wb.gain.linearRampToValueAtTime(h,i),this.wb.gain.linearRampToValueAtTime(this.Rb,i+1),this.zb.gain.linearRampToValueAtTime(s,i),this.zb.gain.linearRampToValueAtTime(this.Sb,i+1),this.xb.gain.linearRampToValueAtTime(a,i),this.xb.gain.linearRampToValueAtTime(this.Ib,i+1),this.yb.gain.linearRampToValueAtTime(o,i),this.yb.gain.linearRampToValueAtTime(this.Jb,i+1))}this.Dd=!0,this.m.Zh()}2==this.za&&(t?this.m.bd(this.id):this.m.Qf(this.id))},i.prototype.Fd=function(){this.Dd=!1,this.c.style[this.m.Vb]="none"},i.prototype.Dk=function(){0==this.loop?this.c.play():0<this.rc?(this.rc--,this.c.currentTime=0,this.c.play()):this.eh=!1},i.prototype.Za=function(i){t.prototype.Za.call(this,i);var e;(e=i.getAttributeNode("poster"))&&(this.poster=String(e.nodeValue)),(e=i.getAttributeNode("rotx"))&&(this.pa=Number(e.nodeValue)),(e=i.getAttributeNode("roty"))&&(this.wa=Number(e.nodeValue)),(e=i.getAttributeNode("rotz"))&&(this.Ra=Number(e.nodeValue)),(e=i.getAttributeNode("fov"))&&(this.f=Number(e.nodeValue)),(e=i.getAttributeNode("width"))&&(this.Ob=Number(e.nodeValue)),(e=i.getAttributeNode("height"))&&(this.Xb=Number(e.nodeValue)),this.gc=(e=i.getAttributeNode("stretch"))?Number(e.nodeValue):1,(e=i.getAttributeNode("clickmode"))&&(this.za=Number(e.nodeValue)),(e=i.getAttributeNode("handcursor"))&&(this.Hd=1==Number(e.nodeValue))},i.prototype.addElement=function(){var t=this,i=this.m;try{t.c=document.createElement("video"),t.c.setAttribute("class","ggmedia"),t.c.hidden=!0,i.Yc&&t.c.setAttribute("id",i.Yc+t.id),i.ae?t.c.setAttribute("style","display: none; max-width:none;"):(t.c.setAttribute("style","max-width:none;pointer-events:none;"),(1==t.za||4==t.za)&&(t.c.addEventListener(i.ei(),function(){t.Fd()},!1),t.c.addEventListener("transitionend",function(){t.Fd()},!1)));var e;for(e=0;e<t.url.length;e++){var h;h=document.createElement("source"),h.setAttribute("src",i.ub(t.url[e])),t.c.appendChild(h)}""!=t.poster&&(t.c.poster=i.ub(t.poster),0>t.loop&&(t.c.ii="none")),t.c.volume=t.level*i.ba,1<=t.loop&&(t.rc=t.loop-1),(1==t.mode||2==t.mode||3==t.mode||5==t.mode)&&0<=t.loop&&(t.c.autoplay=!0,t.eh=!0,t.autoplay=!0),i.J.push(this),i.ae?i.L.appendChild(t.c):(t.c.style.position="absolute",t.Ob&&(t.c.width=t.Ob),t.Xb&&(t.c.height=t.Xb),i.w.appendChild(t.c),t.kg()),t.c.onclick=function(){t.Yb()},t.c.addEventListener("ended",function(){t.Dk()},!1)}catch(s){}},i.prototype.ed=function(){var t=this.m;t.ae&&(t.a.deleteTexture(this.Gb),this.Gb=0,t.L.removeChild(this.c)),t.$h&&t.w.removeChild(this.c),delete this.c,this.c=null},i}(U),W=function(t){function i(i){t.call(this,i),this.url="",this.Ra=this.wa=this.pa=0,this.f=50,this.za=0,this.Hd=!1,this.Xb=this.Ob=100,this.gc=1}return S(i,t),i.prototype.Za=function(i){t.prototype.Za.call(this,i);var e;for((e=i.getAttributeNode("url"))&&(this.url=e.nodeValue.toString()),(e=i.getAttributeNode("rotx"))&&(this.pa=Number(e.nodeValue)),(e=i.getAttributeNode("roty"))&&(this.wa=Number(e.nodeValue)),(e=i.getAttributeNode("rotz"))&&(this.Ra=Number(e.nodeValue)),(e=i.getAttributeNode("fov"))&&(this.f=Number(e.nodeValue)),(e=i.getAttributeNode("width"))&&(this.Ob=Number(e.nodeValue)),(e=i.getAttributeNode("height"))&&(this.Xb=Number(e.nodeValue)),this.gc=(e=i.getAttributeNode("stretch"))?Number(e.nodeValue):1,(e=i.getAttributeNode("clickmode"))&&(this.za=Number(e.nodeValue)),(e=i.getAttributeNode("handcursor"))&&(this.Hd=1==Number(e.nodeValue)),i=i.firstChild;i;)"source"==i.nodeName&&(e=i.getAttributeNode("url"))&&(this.url=e.nodeValue.toString()),i=i.nextSibling},i.prototype.Fd=function(){this.Dd=!1,this.c.style[this.m.Vb]="none"},i.prototype.Yb=function(){1!==this.za&&4!==this.za||this.Ed(!this.hb)},i.prototype.Ed=function(t){var i=this.m;1!==this.za&&4!==this.za||(this.hb=t,this.m.Sa?(t=this.m.Y)&&t.activateSound(this.id,this.hb?1:0):(this.c.style.zIndex=this.hb?"80000":"0",this.c.style[i.Vb]="all 1s ease 0s",this.Dd=!0,i.Uh()))},i.prototype.addElement=function(){var t=this,i=this.m;try{t.c=document.createElement("img"),t.c.setAttribute("style","-webkit-user-drag:none; max-width:none;"),t.c.setAttribute("class","ggmedia"),t.c.hidden=!0,i.Yc&&t.c.setAttribute("id",i.Yc+t.id),t.c.ondragstart=function(){return!1},1!==t.za&&4!==t.za||(t.c.addEventListener(i.ei(),function(){t.Fd()},!1),t.c.addEventListener("transitionend",function(){t.Fd()},!1)),t.c.setAttribute("src",i.ub(t.url)),t.Ob&&(t.c.width=t.Ob),t.Xb&&(t.c.height=t.Xb),i.Ua.push(t),t.c.style.position="absolute",t.Yb&&(t.c.onclick=function(){t.Yb()}),i.w.appendChild(t.c)}catch(e){}},i.prototype.ed=function(){this.m.w.removeChild(this.c),delete this.c,this.c=null},i}(T),X=function(t){function i(i){t.call(this,i),this.alpha=this.ng=50,this.type=0,this.color=16777215}return S(i,t),i.prototype.Za=function(i){t.prototype.Za.call(this,i);var e;(e=i.getAttributeNode("blinding"))&&(this.ng=Number(e.nodeValue)),(e=i.getAttributeNode("alpha"))&&(this.alpha=Number(e.nodeValue)),(e=i.getAttributeNode("type"))&&(this.type=Number(e.nodeValue)),(e=i.getAttributeNode("color"))&&(this.color=1*Number(e.nodeValue))},i}(T),Y=function(){function t(t){this.type="empty",this.Lh=this.id=this.target=this.description=this.title=this.url="",this.gf=100,this.ye=20,this.hf=!1,this.c=null,this.Ha=this.ea=this.j=this.pan=0,this.ob=t.v.ob,this.mb=t.v.mb,this.Nb=t.v.Nb,this.Mb=t.v.Mb,this.Xc=t.v.Xc,this.be=[]}return t.prototype.Vc=function(){this.id=this.id,this.pan=this.pan,this.tilt=this.j,this.url=this.url,this.target=this.target,this.title=this.title,this.description=this.description,this.skinid=this.Lh,this.obj=this.c},t.prototype.Za=function(t){var i;for((i=t.getAttributeNode("url"))&&(this.url=i.nodeValue.toString()),(i=t.getAttributeNode("target"))&&(this.target=i.nodeValue.toString()),(i=t.getAttributeNode("title"))&&(this.title=i.nodeValue.toString()),(i=t.getAttributeNode("description"))&&(this.description=i.nodeValue.toString()),(i=t.getAttributeNode("id"))&&(this.id=i.nodeValue.toString()),(i=t.getAttributeNode("skinid"))&&(this.Lh=i.nodeValue.toString()),(i=t.getAttributeNode("width"))&&(this.gf=Number(i.nodeValue)),(i=t.getAttributeNode("height"))&&(this.ye=Number(i.nodeValue)),(i=t.getAttributeNode("wordwrap"))&&(this.hf=1==Number(i.nodeValue)),i=t.getAttributeNode("pan"),this.pan=1*(i?Number(i.nodeValue):0),i=t.getAttributeNode("tilt"),this.j=1*(i?Number(i.nodeValue):0),(i=t.getAttributeNode("bordercolor"))&&(this.ob=1*Number(i.nodeValue)),(i=t.getAttributeNode("backgroundcolor"))&&(this.mb=1*Number(i.nodeValue)),(i=t.getAttributeNode("borderalpha"))&&(this.Nb=1*Number(i.nodeValue)),(i=t.getAttributeNode("backgroundalpha"))&&(this.Mb=1*Number(i.nodeValue)),(i=t.getAttributeNode("handcursor"))&&(this.Xc=1==Number(i.nodeValue)),t=t.firstChild;t;){if("vertex"==t.nodeName){var e={pan:0,j:0};i=t.getAttributeNode("pan"),e.pan=1*(i?Number(i.nodeValue):0),i=t.getAttributeNode("tilt"),e.j=1*(i?Number(i.nodeValue):0),this.be.push(e)}t=t.nextSibling}this.Vc()},t}(),ba=function(){function t(){var t;for(this.Ja=Array(6),t=0;6>t;t++)this.Ja[t]=new aa}return t.prototype.xi=function(t,i,e,h){for(var s=0;6>s;s++){var a;if(a=this.Ja[s]){var o;o=[],o.push(new y((-1),(-1),(-1),0,0)),o.push(new y(1,(-1),(-1),1,0)),o.push(new y(1,1,(-1),1,1)),o.push(new y((-1),1,(-1),0,1));for(var r=0;r<o.length;r++)4>s?o[r].wa(-Math.PI/2*s):o[r].pa(Math.PI/2*(4===s?-1:1)),h&&(o[r].Ra(h.G*Math.PI/180),o[r].pa(-h.pitch*Math.PI/180)),o[r].wa(-t*Math.PI/180),o[r].pa(i*Math.PI/180),o[r].Ra(e*Math.PI/180);a.Ab=0<o.length}}},t}(),Z=function(){function t(t,i){this.pan={b:0,fb:0,min:0,max:360,d:0,Nf:0},this.j={b:0,fb:0,min:-90,max:90,d:0},this.G={b:0,fb:0,min:-180,max:180,d:0},this.f={b:90,fb:90,min:1,Td:0,max:170,cd:0,d:0,mode:0,Nh:0,ug:0},this.oa={G:0,pitch:0},this.l={width:10,height:10},this.rb=0,this.sf=new y,this.N={start:{x:0,y:0},W:{x:0,y:0},kc:{x:0,y:0},b:{x:0,y:0},V:{x:0,y:0}},this.M={Da:-1,startTime:0,start:{x:0,y:0},W:{x:0,y:0},kc:{x:0,y:0},b:{x:0,y:0},V:{x:0,y:0}},this.se=!0,this.B={enabled:!0,W:{x:0,y:0},V:{x:0,y:0},f:{active:!1,Ia:0}},this.o={src:[],ge:4,width:640,height:480,Zc:!1,Ce:!1,Fc:"loop",c:null,Gb:null,hg:null,Xe:null,Gf:null,format:"",xe:0},this.Jc=0,this.Y=this.la=this.va=this.L=this.pb=this.Oa=this.w=null,this.Gc="pano",this.Af="flashcontainer",this.tf="",this.control=null,this.bb=[],this.Ca=!1,this.pe=1,this.D=null,this.rd=this.Id=!1,this.lc="",this.fd=this.Eb=!1,this.Ke=0,this.le=[],this.Uc=[],this.Wd=this.nc=1,this.td=1024,this.Oe=!1,this.Ph=0,this.u={enabled:!1,timeout:5,active:!1,Vd:!1,speed:.4,af:0,Ie:0,Mf:!0,ai:!1,startTime:0,jc:0},this.R={active:!1,qd:!1,speed:.1,pan:0,j:0,G:0,f:70,jd:70,hh:0,jh:0,ih:0,gh:0},this.xa=null,this.od={},this.v={mode:1,Md:-1,ea:0,Ha:0,Tb:.05,ob:255,Nb:1,mb:255,Mb:.3,Xc:!0,dg:{enabled:!0,width:180,height:20,eg:0,cg:1,background:!0,mb:16777215,Mb:1,ob:0,Nb:1,lf:3,mf:1,hf:!0}},this.na=null,this.I=[],this.P=[],this.J=[],this.Ua=[],this.Oc=[],this.sa=[],this.qc=[],this.ba=1,this.pc=this.Tc=null,this.yd={},this.addListener=function(t,i){(this.yd[t]=this.yd[t]||[]).push(i)},this.Rh=function(t,i){var e,h,s=this.yd[t];if(s)for(h=0,e=s.length;h<e;h++)s[h].apply(null,i)},this.removeEventListener=function(t,i){var e=this.yd[t];if(e){var h,s;for(s=0,h=e.length;s<h;s++)if(e[s]===i){1===h?delete this.yd[t]:e.splice(s,1);break}}},this.g={K:[],mc:"0x000000",yh:!1,mh:.4,nh:.4,Z:512,Va:1,kh:0,oh:"",width:0,height:0,Dh:0},this.vj={target:0,current:0,Tb:.01,zi:2,wf:0,oe:!1,oi:!1},this.margin={left:0,top:0,right:0,bottom:0},this.C={Pd:!1,Kf:!1,Wa:!1,Lf:!1,wc:!0,Zg:!1,Mh:1,vf:!0,ke:!0,ze:!1,sensitivity:8},this.Sd=[],this.cc=!0,this.ha={x:0,y:0},this.ae=this.Sa=this.$d=this.Hb=this.ka=!1,this.ff=this.$h=!0,this.Ff=!1,this.te=!0,this.Ef=!1,this.ja=0,this.Ye=5,this.Nc=0,this.qh=200,this.ua=this.oc="",this.Vb="transition",this.Aa="transform",this.dc="perspective",this.xg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC",this.Ta={width:0,height:0},this.Fg=new y,this.Eg=new y,this.Gg=new y,this.Hg=new y,this.Dg=new y,this.Kd=!1,this.currentNode="",this.ig=[],this.df=[],this.uh=this.$g=this.Jf=this.dh=this.Hf=this.If=this.Ae=this.ah=this.Hh=this.Ic=this.bh=!1,this.Pa=new ba,this.fg=!1,this.xd=function(t,i){if(0==t.length)return t;var e,h,s,a,o,r,n,l;for(l=[],e=i.Me(t[0])-0,a=0;a<t.length;a++)r=a,n=a+1,n==t.length&&(n=0),h=i.Me(t[n])-0,0<=e&&0<=h?l.push(t[r]):(0<=e||0<=h)&&(s=h/(h-e),0>s&&(s=0),1<s&&(s=1),o=new y,o.hc(t[r],t[n],s),0>e||l.push(t[r]),l.push(o)),e=h;return l},this.ag=0,this.yg=1,this.eb=[],this.O=A(),this.qb=A(),this.Ee=-1,this.Cd=function(t){return t?t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:t.clientX||t.clientY?{x:t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:t.clientY+document.body.scrollTop+document.documentElement.scrollTop}:t.touches&&t.touches[0]?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:0,y:0}:{x:0,y:0}},this.Ge=1,this.Di=this.Bf=this.xf=this.Vf=this.Ne=0,this.re=!0,this.Qa=new Y(this),this.Qa.Xc=!1,this.wg(),this.gd(this.Qa),this.checkLoaded=this.bb,this.isLoaded=!1,i&&i.hasOwnProperty("useFlash")&&i.useFlash&&(this.Sa=!0,this.ka=this.Hb=!1,i.hasOwnProperty("flashPlayerId")?this.Gc=i.flashPlayerId:this.Gc="pano",
i.hasOwnProperty("flashContainerId")?this.Af=i.flashContainerId:this.Af=t+"flash"),this.ia(),this.Sa||(this.Ea=new P(this)),this.rg(t),this.ni(),this.userdata=this.od=this.qe(),this.emptyHotspot=this.Qa,this.mouse=this.ha,this.Ij(),this.S=new N(this),this.ra=new O(this)}return t.prototype.wg=function(){var t=0;this.bh=!!navigator.userAgent.match(/(MSIE)/g),(this.Ic=!!navigator.userAgent.match(/(Safari)/g))&&(t=navigator.userAgent.indexOf("Safari"),this.Cc=navigator.userAgent.substring(t+7),t=navigator.userAgent.indexOf("Version"),-1!=t&&(this.Cc=navigator.userAgent.substring(t+8)),this.Cc=this.Cc.substring(0,this.Cc.indexOf(" ")),this.Cc=this.Cc.substring(0,this.Cc.indexOf(".")),this.Hh=!0),(this.ah=!!navigator.userAgent.match(/(Chrome)/g))&&(this.Ic=!1),this.Ae=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),this.If=!!navigator.userAgent.match(/(iPhone|iPod)/g),this.Hf=!!navigator.userAgent.match(/(android)/i),this.dh=!!navigator.userAgent.match(/(IEMobile)/i),this.Jf=this.Ae||this.Hf||this.dh;var i,t=["Webkit","Moz","O","ms","Ms"];for(this.ua="",this.Vb="transition",this.Aa="transform",this.dc="perspective",i=0;i<t.length;i++)"undefined"!=typeof document.documentElement.style[t[i]+"Transform"]&&(this.ua="-"+t[i].toLowerCase()+"-",this.Vb=t[i]+"Transition",this.Aa=t[i]+"Transform",this.dc=t[i]+"Perspective");this.Ff=Q(),this.ka=R(),this.Hb=this.Ff,this.ka&&(this.Hb=!1),this.Eb=!0,this.fd=!1,(this.Ae||this.Hf)&&(this.Jh(80),this.Ye=2),this.$c("Pano2VR player - Prefix:"+this.up•ø    p•ø                    ÀÂí            	õ    Ø•ø            •ø     @      •ø            ailable"));try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.lb=new AudioContext}catch(e){this.lb=null}(this.Ic&&!(this.Hh&&9<=Number(this.Cc))||this.Ae)&&(this.lb=null)},t.prototype.$c=function(t){var i=document.getElementById("debug");i&&(i.innerHTML=t+"<br />"),window.console&&window.console.log(t)},t.prototype.Ij=function(){this.requestAnimationFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return t?t:function(t){window.setTimeout(t,10)}}()},t.prototype.Jh=function(t){this.qh=t},t.prototype.Pj=function(t){this.Yc=t},t.prototype.Ui=function(){return this.Ke},t.prototype.Nj=function(t){this.oc=t},t.prototype.Fi=function(){return this.oc},t.prototype.Li=function(){return this.Jf},t.prototype.Ji=function(){return this.u.active},t.prototype.Qj=function(t){this.Jf=Boolean(t)},t.prototype.bc=function(){return 1*this.l.height/(2*Math.tan(Math.PI/180*(this.Wb()/2)))},t.prototype.Kh=function(t,i){this.isFullscreen&&(t=window.innerWidth,i=window.innerHeight);var e=t-this.margin.left-this.margin.right,h=i-this.margin.top-this.margin.bottom;if(!(10>e||10>h)){var s=window.devicePixelRatio||1;if(this.Oe&&(s=1),this.w.style.width=e+"px",this.w.style.height=h+"px",this.w.style.left=this.margin.left+"px",this.w.style.top=this.margin.top+"px",this.ka)try{this.Oa&&(this.Oa.style.position="absolute",this.Oa.style.display="inline",this.Oa.style.width=e+"px",this.Oa.style.height=h+"px",this.Oa.width=e*s,this.Oa.height=h*s),this.a&&(this.Ta.width=e*s,this.Ta.height=h*s,this.a.viewport(0,0,this.a.drawingBufferWidth,this.a.drawingBufferHeight))}catch(a){alert(a)}this.pb&&(this.pb.style.width=t+"px",this.pb.style.height=i+"px",this.pb.width=t,this.pb.height=i),this.va&&(this.va.style.width=t+"px",this.va.style.height=i+"px",this.la.style.width=t+"px",this.la.style.height=i+"px",this.la.width=t,this.la.height=i,this.la.style.left=this.margin.left+"px",this.la.style.top=this.margin.top+"px",this.D&&this.D!=this.va&&(this.D.style.width=t+"px",this.D.style.height=i+"px")),this.Ea&&(e=this.Ea.ac,e.style.width=t+"px",e.style.height=i+"px",e.width=t,e.height=i,e.style.left=this.margin.left+"px",e.style.top=this.margin.top+"px"),this.Id&&(this.Ca=!0),e=this.w.offsetWidth,h=this.w.offsetHeight,this.l.width==e&&this.l.height==h||(this.l.width=e,this.l.height=h),this.Ck(),this.D&&this.D.ggUpdateSize&&this.D.ggUpdateSize(t,i)}},t.prototype.Qc=function(){this.fg=!0},t.prototype.Rc=function(){this.Kh(this.Tc.offsetWidth,this.Tc.offsetHeight)},t.prototype.fj=function(){var t={width:0,height:0};return t.width=this.l.width,t.height=this.l.height,t},t.prototype.Hc=function(){var t={x:0,y:0},i=this.w;if(i.offsetParent)do t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;while(i);return t},t.prototype.Wj=function(t){this.xa=t},t.prototype.Sj=function(t,i,e,h){this.margin.left=t,this.margin.top=i,this.margin.right=e,this.margin.bottom=h,this.xa=this.skinObj,this.Qc()},t.prototype.ui=function(t){0==t&&(this.C.wc=!1),1==t&&(this.C.wc=!0),2==t&&(this.C.wc=!this.C.wc)},t.prototype.dj=function(){return 1==this.C.wc?1:0},t.prototype.pg=function(t,i){this.v.mode=1==i&&0<this.v.mode?0:Math.round(t),this.update(),this.Y&&(this.Y.changePolygonMode(t,i),this.Y.update())},t.prototype.Wi=function(){return this.v.mode},t.prototype.vi=function(){},t.prototype.ej=function(){return 0},t.prototype.Wg=function(t,i,e){t=Math.atan2(t+1,e);var h=Math.atan2(i+1,e);i=Math.sin(t),e=Math.sin(h),t=Math.cos(t),h=Math.cos(h),this.Fg.Ka(0,0,-1),this.Eg.Ka(t,0,-i),this.Gg.Ka(-t,0,-i),this.Hg.Ka(0,h,-e),this.Dg.Ka(0,-h,-e)},t.prototype.qf=function(t){return t=this.xd(t,this.Fg),t=this.xd(t,this.Eg),t=this.xd(t,this.Gg),t=this.xd(t,this.Hg),t=this.xd(t,this.Dg)},t.prototype.Th=function(t){if(!this.Eb&&this.kj!=t){this.kj=t;var i;i=this.margin.left+this.l.width/2+"px ",i+=this.margin.top+this.l.height/2+"px ",this.va.style[this.dc]=t+"px",this.va.style[this.dc+"Origin"]=i,this.w.style[this.dc]=t+"px",this.w.style[this.dc+"Origin"]=i}},t.prototype.ef=function(){var t,i,e,h,s=new y(0,0,(-100)),a=this.bc();e=100/this.f.b,h=this.g.width/this.g.height,i=this.l.height*e*h,e*=this.l.height;for(var o=0;o<this.I.length;o++){var r,n,l=this.I[o];if("point"==l.type&&(n=!1,2==this.rb?(t=(this.pan.b-l.pan)/100/h*i,r=(this.j.b-l.j)/100*e,Math.abs(t)<this.l.width/2+500&&Math.abs(r)<this.l.height/2+500&&(n=!0)):(s.Ka(0,0,-100),s.pa(-l.j*Math.PI/180),s.wa(l.pan*Math.PI/180),s.wa(-this.pan.b*Math.PI/180),s.pa(this.j.b*Math.PI/180),s.Ra(this.G.b*Math.PI/180),.01>s.z?(r=-a/s.z,t=s.x*r,r*=s.y,Math.abs(t)<this.l.width/2+500&&Math.abs(r)<this.l.height/2+500&&(n=!0)):r=t=0),l.sb=t+this.l.width/2,l.Ya=r+this.l.height/2,l.c&&l.c.__div&&("none"!=l.c.__div.style[this.Vb]&&(l.c.__div.style[this.Vb]="none"),l.c.ggUse3d?(this.Eb||this.Th(a),l.c.__div.style.width="1px",l.c.__div.style.height="1px",t="",this.Eb&&(t+="perspective("+a+"px) "),t+="translate3d(0px,0px,"+a+"px) ",t+="rotateZ("+this.G.b.toFixed(10)+"deg) ",t+="rotateX("+this.j.b.toFixed(10)+"deg) ",t+="rotateY("+(-this.pan.b).toFixed(10)+"deg) ",t+="rotateY("+l.pan.toFixed(10)+"deg) ",t+="rotateX("+(-l.j).toFixed(10)+"deg) ",t+="translate3d(0px,0px,"+(-1*l.c.gg3dDistance).toFixed(10)+"px) ",l.c.__div.style[this.Aa+"Origin"]="0% 0%",l.c.__div.style[this.Aa]=t,l.c.__div.style.left=this.margin.left+this.l.width/2+"px",l.c.__div.style.top=this.margin.top+this.l.height/2+"px"):!n||this.S.ld||this.S.Dc?(l.c.__div.style.left="-1000px",l.c.__div.style.top="-1000px"):(l.c.__div.style.left=this.margin.left+t+this.l.width/2+"px",l.c.__div.style.top=this.margin.top+r+this.l.height/2+"px"))),"poly"==l.type){var u=[];if(2==this.rb)for(l.zc=[],n=0;n<l.be.length;n++)r=l.be[n],t=(this.pan.b-r.pan)/100/h*i,r=(this.j.b-r.j)/100*e,t+=this.margin.left+this.l.width/2,r+=this.margin.top+this.l.height/2,l.zc.push({sb:t,Ya:r});else{for(n=0;n<l.be.length;n++)r=l.be[n],s.Ka(0,0,-100),s.pa(-r.j*Math.PI/180),s.wa(r.pan*Math.PI/180),s.wa(-this.pan.b*Math.PI/180),s.pa(this.j.b*Math.PI/180),s.Ra(this.G.b*Math.PI/180),u.push(s.clone());if(u=this.qf(u),0<u.length)for(n=0;n<u.length;n++)s=u[n],.1>s.z?(r=-a/s.z,t=this.l.width/2+s.x*r,r=this.l.height/2+s.y*r):r=t=0,s.sb=t,s.Ya=r;l.zc=u}}}},t.prototype.Gi=function(){for(var t=[],i=0;i<this.I.length;i++){var e=this.I[i];"point"==e.type&&e.c&&e.c.__div&&t.push(e.c.__div)}return t},t.prototype.X=function(t,i){return t=Number(t),isNaN(i)&&(i=0),0>i&&(i=0),1<i&&(i=1),"rgba("+(t>>16&255)+","+(t>>8&255)+","+(255&t)+","+i+")"},t.prototype.xj=function(){var t,i;if(this.la&&(this.v.Md!=this.v.mode&&(this.v.Md=this.v.mode,this.la.style.visibility=0<this.v.mode?"inherit":"hidden"),0<this.v.mode)){this.U||(this.U=this.la.getContext("2d")),this.U.width==this.l.width&&this.U.height==this.l.height||(this.U.width=this.l.width,this.U.height=this.l.height),this.U.clear?this.U.clear():this.U.clearRect(0,0,this.la.width,this.la.height);var e=1;for(3==this.v.mode&&(e=this.v.ea),t=0;t<this.I.length;t++)if(i=this.I[t],"poly"==i.type){var h=i.zc;if(2==this.v.mode&&(e=i.ea),this.U.fillStyle=this.X(i.mb,i.Mb*e),this.U.strokeStyle=this.X(i.ob,i.Nb*e),0<h.length){for(this.U.beginPath(),i=0;i<h.length;i++){var s=h[i];0==i?this.U.moveTo(s.sb,s.Ya):this.U.lineTo(s.sb,s.Ya)}this.U.closePath(),this.U.stroke(),this.U.fill()}}}},t.prototype.yj=function(){var t,i;if(this.la.style.visibility="hidden",this.v.Md!=this.v.mode&&(this.v.Md=this.v.mode),0<this.v.mode&&!this.S.Xd){var e=1;for(3==this.v.mode&&(e=this.v.ea),t=0;t<this.I.length;t++){var h=this.I[t];if("poly"==h.type){var s=h.zc;if(2==this.v.mode&&(e=h.ea),0<s.length){var a=[];for(i=0;i<s.length;i++)a.push(s[i].sb),a.push(s[i].Ya),a.push(0);this.a.useProgram(this.Db),this.a.enable(this.a.BLEND),this.a.blendFuncSeparate(this.a.SRC_ALPHA,this.a.ONE_MINUS_SRC_ALPHA,this.a.SRC_ALPHA,this.a.ONE),this.a.disable(this.a.DEPTH_TEST),i=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,i),this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(a),this.a.STATIC_DRAW),this.a.uniform2f(this.a.getUniformLocation(this.Db,"uCanvasDimensions"),this.l.width,this.l.height),i=this.a.getUniformLocation(this.Db,"uColor"),this.a.uniform3f(i,(h.ob>>16&255)/255,(h.ob>>8&255)/255,(255&h.ob)/255),s=this.a.getUniformLocation(this.Db,"uAlpha"),this.a.uniform1f(s,h.Nb*e),this.a.vertexAttribPointer(this.Db.ca,3,this.a.FLOAT,!1,0,0),this.a.drawArrays(this.a.LINE_LOOP,0,a.length/3),this.a.uniform3f(i,(h.mb>>16&255)/255,(h.mb>>8&255)/255,(255&h.mb)/255),this.a.uniform1f(s,h.Mb*e),this.a.enable(this.a.STENCIL_TEST),this.a.clearStencil(0),this.a.clear(this.a.STENCIL_BUFFER_BIT),this.a.colorMask(!1,!1,!1,!1),this.a.stencilFunc(this.a.ALWAYS,1,1),this.a.stencilOp(this.a.INCR,this.a.INCR,this.a.INCR),this.a.drawArrays(this.a.TRIANGLE_FAN,0,a.length/3),this.a.colorMask(!0,!0,!0,!0),this.a.stencilFunc(this.a.EQUAL,1,1),this.a.stencilOp(this.a.ZERO,this.a.ZERO,this.a.ZERO),this.a.drawArrays(this.a.TRIANGLE_FAN,0,a.length/3),this.a.disable(this.a.BLEND),this.a.enable(this.a.DEPTH_TEST),this.a.disable(this.a.STENCIL_TEST),this.a.useProgram(this.F)}}}}},t.prototype.Vg=function(t,i,e){var h,s,a=!1;for(h=0,s=t.length-1;h<t.length;s=h++){var o=t[h];s=t[s],o.Ya>e!=s.Ya>e&&i<(s.sb-o.sb)*(e-o.Ya)/(s.Ya-o.Ya)+o.sb&&(a=!a)}return a},t.prototype.pf=function(t,i){var e=-1;if(0<=this.v.mode)for(var h=0;h<this.I.length;h++){var s=this.I[h];"poly"==s.type&&s.zc&&0<s.zc.length&&this.Vg(s.zc,t,i)&&(e=h,s.sb=t,s.Ya=i)}return 0<=e&&this.I[e]},t.prototype.Wb=function(){var t;switch(this.f.mode){case 0:t=this.f.b/2;break;case 1:t=180*Math.atan(this.l.height/this.l.width*Math.tan(this.f.b/2*Math.PI/180))/Math.PI;break;case 2:t=180*Math.atan(this.l.height/Math.sqrt(this.l.width*this.l.width+this.l.height*this.l.height)*Math.tan(this.f.b/2*Math.PI/180))/Math.PI;break;case 3:t=4*this.l.height/3>this.l.width?this.f.b/2:180*Math.atan(4*this.l.height/(3*this.l.width)*Math.tan(this.f.b/2*Math.PI/180))/Math.PI}return 2*t},t.prototype.Ue=function(t){t/=2;var i;switch(this.f.mode){case 0:this.f.b=2*t;break;case 1:t=180*Math.atan(this.l.width/this.l.height*Math.tan(t*Math.PI/180))/Math.PI,this.f.b=2*t;break;case 2:i=Math.sqrt(this.l.width*this.l.width+this.l.height*this.l.height),t=180*Math.atan(i/this.l.height*Math.tan(t*Math.PI/180))/Math.PI,this.f.b=2*t;break;case 3:4*this.l.height/3>this.l.width||(t=180*Math.atan(3*this.l.width/(4*this.l.height)*Math.tan(t*Math.PI/180))/Math.PI),this.f.b=2*t}},t.prototype.ab=function(){var t,i,e=this.l.width/this.l.height;if(2==this.rb){0<this.f.Td&&(t=this.nc,this.g.K&&0<this.g.K.length&&(t=this.g.K[0].height),this.f.min=100*this.l.height/(t*this.f.Td)),i=this.f.b/2,t=e*i;var h=50*this.g.width/(.01+this.g.height);this.f.b<this.f.min&&(this.f.b=this.f.min),this.f.b>this.f.max&&(this.f.b=this.f.max),100<this.f.b&&(this.f.b=100),this.f.b>2*h/e&&(this.f.b=2*h/e),this.f.b>this.j.max-this.j.min&&(this.f.b=this.j.max-this.j.min),this.f.b>this.pan.max-this.pan.min&&(this.f.b=this.pan.max-this.pan.min),50<this.j.b+i&&(this.j.b=50-i),-50>this.j.b-i&&(this.j.b=-50+i),this.pan.b+t>h&&(this.pan.b=h-t,this.u.active&&(this.u.speed=-this.u.speed,this.pan.d=0)),this.pan.b-t<-h&&(this.pan.b=-h+t,this.u.active&&(this.u.speed=-this.u.speed,this.pan.d=0)),this.j.b+i>this.j.max&&(this.j.b=this.j.max-i),this.j.b-i<this.j.min&&(this.j.b=this.j.min+i)}else if(0<this.f.Td&&(t=this.nc,this.g.K&&0<this.g.K.length&&(t=this.g.K[0].height),this.f.min=360*Math.atan2(this.l.height/2,t/2*this.f.Td)/Math.PI),this.f.b<this.f.min&&(this.f.b=this.f.min),this.f.b>this.f.max&&(this.f.b=this.f.max),i=this.Wb()/2,t=180*Math.atan(this.l.width/this.l.height*Math.tan(i*Math.PI/180))/Math.PI,2*i>this.j.max-this.j.min&&(i=(this.j.max-this.j.min)/2,this.Ue(2*i)),90>this.j.max?this.j.b+i>this.j.max&&(this.j.b=this.j.max-i):this.j.b>this.j.max&&(this.j.b=this.j.max),-90<this.j.min?this.j.b-i<this.j.min&&(this.j.b=this.j.min+i):this.j.b<this.j.min&&(this.j.b=this.j.min),e=this.pan.max-this.pan.min,359.99>e){var h=90,s=Math.tan(i*Math.PI/180),a=Math.tan((Math.abs(this.j.b)+i)*Math.PI/180),a=Math.sqrt(a*a+1)/Math.sqrt(s*s+1);i=180*Math.atan(a*Math.tan(t*Math.PI/180))/Math.PI,2*i>e&&(a=Math.tan(e*Math.PI/360)/Math.tan(t*Math.PI/180),e=a*Math.sqrt(s*s+1),a=Math.sqrt(e*e-1),h=180/Math.PI*Math.atan(a)),this.pan.b+i>this.pan.max&&(this.pan.b=this.pan.max-i,this.u.active&&(this.u.speed=-this.u.speed,this.pan.d=0)),this.pan.b-i<this.pan.min&&(this.pan.b=this.pan.min+i,this.u.active&&(this.u.speed=-this.u.speed,this.pan.d=0)),this.j.b+t>h&&(this.j.b=h-t),this.j.b-t<-h&&(this.j.b=-h+t)}},t.prototype.update=function(t){void 0===t&&(t=0),this.Ca=!0,t&&(this.pe=t)},t.prototype.Mi=function(){return this.Y?Boolean(this.Y.isTileLoading):0<this.ja||0<this.Nc},t.prototype.Zd=function(){var t,i=Date.now();this.Sa?this.Y&&(this.sk(),2===this.rb?(this.ab(),this.ab(),this.ef()):0===this.rb&&(t=this.bc(),this.Wg(this.l.width/2,this.l.height/2,t),this.ef())):(this.ab(),2===this.rb?(this.ab(),this.ef(),this.wk()):0===this.rb&&(t=this.bc(),this.Wg(this.l.width/2,this.l.height/2,t),this.ef(),this.ae?this.Bk():this.$h&&this.Zh(),this.Uh(),this.ka?(this.o.Zc?this.Ak():0<this.g.K.length?this.zk():this.yk(),this.yj()):(this.Hb?0<this.g.K.length?this.vk():this.uk():this.$d&&this.rk(),this.xj()),this.Ea&&this.Ea.wj())),50<Date.now()-i?this.Oe||(2<this.ag?(this.Oe=!0,this.Rc()):this.ag++):this.ag=0,this.Id&&this.g.Dh++},t.prototype.yk=function(){var t;if(this.ab(),this.l.width==this.w.offsetWidth&&this.l.height==this.w.offsetHeight||(this.l.width=this.w.offsetWidth,this.l.height=this.w.offsetHeight),this.te&&(this.vc(0),this.Rc()),this.a)for(this.g.mc&&6<this.g.mc.length&&(t=parseInt(this.g.mc),this.a.clearColor((t>>16&255)/255,(t>>8&255)/255,(t>>0&255)/255,1)),this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT),D(this.qb),L(this.Wb(),this.Ta.width/this.Ta.height,this.qb),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),t=0;6>t;t++)D(this.O),K(this.O,-this.G.b*Math.PI/180,[0,0,1]),K(this.O,-this.j.b*Math.PI/180,[1,0,0]),K(this.O,(180-this.pan.b)*Math.PI/180,[0,1,0]),this.oa&&(K(this.O,-this.oa.pitch*Math.PI/180,[1,0,0]),K(this.O,this.oa.G*Math.PI/180,[0,0,1])),4>t?K(this.O,-Math.PI/2*t,[0,1,0]):K(this.O,Math.PI/2*(5==t?1:-1),[1,0,0]),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.rf),this.a.vertexAttribPointer(this.F.ca,3,this.a.FLOAT,!1,0,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.ne),this.a.vertexAttribPointer(this.F.Ga,2,this.a.FLOAT,!1,0,0),6<=this.eb.length&&this.eb[t].loaded&&(this.a.activeTexture(this.a.TEXTURE0),this.a.bindTexture(this.a.TEXTURE_2D,this.eb[t]),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.me),this.a.uniform1i(this.F.Pe,0),this.a.uniformMatrix4fv(this.F.He,!1,this.O),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),this.a.drawElements(this.a.TRIANGLES,6,this.a.UNSIGNED_SHORT,0))},t.prototype.kk=function(t){var i=this;return function(){if(i.Ca=!0,i.cc=!0,t.loaded=!0,i.ja&&i.ja--,0==i.ja&&i.D&&i.D.ggLoadedLevels&&i.D.ggLoadedLevels(),i.a.pixelStorei(i.a.UNPACK_FLIP_Y_WEBGL,1),null!=t.g&&t.g.complete){t.Pb=i.a.createTexture();try{i.a.bindTexture(i.a.TEXTURE_2D,t.Pb),i.a.texImage2D(i.a.TEXTURE_2D,0,i.a.RGBA,i.a.RGBA,i.a.UNSIGNED_BYTE,t.g)}catch(e){}i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_MAG_FILTER,i.a.LINEAR),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_MIN_FILTER,i.a.LINEAR),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_WRAP_S,i.a.CLAMP_TO_EDGE),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_WRAP_T,i.a.CLAMP_TO_EDGE),i.a.bindTexture(i.a.TEXTURE_2D,null)}i.update()}},t.prototype.qj=function(t){var i=this;return function(){i.Ca=!0,i.cc=!0;try{if(null!=t&&t.complete){var e,h={width:t.width,height:t.width,cache:!0,Sf:!0,Ma:1,Fb:1,$:[]};for(e=0;6>e;e++){var s={A:null,da:null,g:null,Pb:null};s.A=document.createElement("canvas"),i.ka?(s.A.width=h.width,s.A.height=h.height):(s.A.width=i.g.Z+2*i.g.Va,s.A.height=i.g.Z+2*i.g.Va),s.da=s.A.getContext("2d"),s.A.Rg=s.da,s.A.style[i.Aa+"Origin"]="0% 0%",s.A.style.overflow="hidden",s.A.style.position="absolute",s.g=t,s.da&&(i.Hb?s.da.drawImage(t,0,e*h.height,h.width,h.height,0,0,h.width+2,h.height+2):s.da.drawImage(t,0,e*h.height,h.width,h.height,0,0,h.width,h.height)),i.ka&&i.a&&(i.a.pixelStorei(i.a.UNPACK_FLIP_Y_WEBGL,1),s.Pb=i.a.createTexture(),i.a.bindTexture(i.a.TEXTURE_2D,s.Pb),i.a.texImage2D(i.a.TEXTURE_2D,0,i.a.RGBA,i.a.RGBA,i.a.UNSIGNED_BYTE,s.A),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_MAG_FILTER,i.a.LINEAR),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_MIN_FILTER,i.a.LINEAR),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_WRAP_S,i.a.CLAMP_TO_EDGE),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_WRAP_T,i.a.CLAMP_TO_EDGE),i.a.bindTexture(i.a.TEXTURE_2D,null)),i.Hb&&(s.A.uc=-1,i.w.insertBefore(s.A,i.w.firstChild)),h.$[e]=s}i.g.K.push(h)}}catch(a){}i.update()}},t.prototype.Qh=function(){var t=this;return function(){t.Ca=!0,t.cc=!0,t.ja&&t.ja--,0==t.ja&&t.D&&t.D.ggLoadedLevels&&t.D.ggLoadedLevels()}},t.prototype.zk=function(){this.ab();var t,i,e;if(this.te&&(this.vc(0),this.Rc()),this.a){if(this.g.mc&&6<this.g.mc.length){var h=parseInt(this.g.mc);this.a.clearColor((h>>16&255)/255,(h>>8&255)/255,(h>>0&255)/255,1)}this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT),this.a.enable(this.a.DEPTH_TEST),D(this.qb),L(this.Wb(),this.Ta.width/this.Ta.height,this.qb),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),this.Nc=0,this.Wh(),this.ph();var s,a=this.Ag(),h=this.g.K;for(s=h.length-1;s>=a;){var o=h[s],r=1;s==h.length-1&&0==this.g.Va&&(r=this.g.Z/(this.g.Z-.5));for(var n=0;6>n;n++){var l=void 0,l=this.Pa.Ja[n],u=l.ad;if(l.Ab&&0<u.pd&&0<u.ce&&0<u.scale||o.cache){l.Ca=!1;var d;for(l.Sc[s]||(l.Sc[s]={gb:0,vb:0,Bb:0,Cb:0}),d=l.Sc[s],o.cache?(d.gb=0,d.vb=0,d.Bb=o.Ma-1,d.Cb=o.Fb-1):this.Qg(o,u,d),u=!0,i=d.vb;i<=d.Cb;i++)for(t=d.gb;t<=d.Bb;t++){e=t+i*o.Ma+n*o.Ma*o.Fb;var p=o.$[e];if(p||(p=o.$[e]={}),this.ja<this.Ye?p.g||(p.g=new Image,p.g.onload=this.kk(p),p.g.onerror=this.Qh(),p.g.onabort=this.Qh(),p.g.setAttribute("src",this.$e(n,s,t,i)),o.cache&&this.bb.push(p.g),0==this.ja&&this.D&&this.D.ggReLoadedLevels&&this.D.ggReLoadedLevels(),this.ja++,this.Ca=!0):this.Nc++,p.Pb){if(!p.Gd){var c;c=.5*s+1,p.Gd=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,p.Gd);var f=[-1,-1,1,1,-1,1,1,1,1,-1,1,1];for(f[3]=t*this.g.Z-this.g.Va,f[0]=Math.min((t+1)*this.g.Z,o.width)+this.g.Va,f[7]=i*this.g.Z-this.g.Va,f[1]=Math.min((i+1)*this.g.Z,o.height)+this.g.Va,f[4]=f[1],f[6]=f[3],f[9]=f[0],f[10]=f[7],e=0;12>e;e++)f[e]=0==e%3?r*c*(-2*f[e]/o.width+1):1==e%3?r*c*(-2*f[e]/o.height+1):c;this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(f),this.a.STATIC_DRAW)}}else u=!1;p.visible=l.Ab}d.lh=u}}s--}for(n=0;6>n;n++)if(l=this.Pa.Ja[n],l.Ab)for(u=l.ad,D(this.O),K(this.O,-this.G.b*Math.PI/180,[0,0,1]),K(this.O,-this.j.b*Math.PI/180,[1,0,0]),K(this.O,(180-this.pan.b)*Math.PI/180,[0,1,0]),this.oa&&(K(this.O,-this.oa.pitch*Math.PI/180,[1,0,0]),K(this.O,this.oa.G*Math.PI/180,[0,0,1])),4>n?K(this.O,-Math.PI/2*n,[0,1,0]):K(this.O,Math.PI/2*(5==n?1:-1),[1,0,0]),this.a.uniform1i(this.F.Pe,0),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),this.a.uniformMatrix4fv(this.F.He,!1,this.O),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.ne),this.a.vertexAttribPointer(this.F.Ga,2,this.a.FLOAT,!1,0,0),this.a.activeTexture(this.a.TEXTURE0),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.me),this.a.useProgram(this.F),s=a;s<=h.length-1;){if(o=h[s],l.Ab&&0<u.pd&&l.Sc[s]&&0<=l.Sc[s].gb){for(d=l.Sc[s],i=d.vb;i<=d.Cb;i++)for(t=d.gb;t<=d.Bb;t++)e=t+i*o.Ma+n*o.Ma*o.Fb,(p=o.$[e])||(p=o.$[e]={}),p.Pb&&(this.a.uniform1f(this.F.hi,1e-4*(t%2+i%2*2)),this.a.bindBuffer(this.a.ARRAY_BUFFER,p.Gd),this.a.vertexAttribPointer(this.F.ca,3,this.a.FLOAT,!1,0,0),this.a.bindTexture(this.a.TEXTURE_2D,p.Pb),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.a.drawElements(this.a.TRIANGLES,6,this.a.UNSIGNED_SHORT,0)),p.visible=l.Ab;d.lh&&(s=h.length)}s++}for(t=0;t<h.length;t++)if(o=h[t],!o.cache)for(var g in o.$)o.$.hasOwnProperty(g)&&(p=o.$[g],p.visible||(p.Pb&&this.a.deleteTexture(p.Pb),p.g=null,p.Gd&&this.a.deleteBuffer(p.Gd),delete o.$[g]));this.cc=!1}},t.prototype.Bk=function(){this.a.disable(this.a.DEPTH_TEST);var t;for(t=0;t<this.J.length;t++){var i=this.J[t];D(this.O),K(this.O,-this.G.b*Math.PI/180,[0,0,1]),K(this.O,-this.j.b*Math.PI/180,[1,0,0]),K(this.O,(180-this.pan.b)*Math.PI/180,[0,1,0]),K(this.O,i.pan*Math.PI/180,[0,1,0]),K(this.O,-i.j*Math.PI/180,[1,0,0]),F(this.O,[0,0,1]),K(this.O,i.Ra*Math.PI/180,[0,0,1]),K(this.O,-i.wa*Math.PI/180,[0,1,0]),K(this.O,i.pa*Math.PI/180,[1,0,0]);var e=Math.tan(i.f/2*Math.PI/180),h=i.lg;h||(h=16/9);var s=this.O,e=[e,e/h,1],h=e[0],a=e[1],e=e[2];s[0]*=h,s[1]*=h,s[2]*=h,s[3]*=h,s[4]*=a,s[5]*=a,s[6]*=a,s[7]*=a,s[8]*=e,s[9]*=e,s[10]*=e,s[11]*=e,F(this.O,[0,0,-1]),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.rf),this.a.vertexAttribPointer(this.F.ca,3,this.a.FLOAT,!1,0,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.ne),this.a.vertexAttribPointer(this.F.Ga,2,this.a.FLOAT,!1,0,0),this.a.activeTexture(this.a.TEXTURE0),this.a.bindTexture(this.a.TEXTURE_2D,i.Gb),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.me),this.a.uniform1i(this.F.Pe,0),this.a.uniformMatrix4fv(this.F.He,!1,this.O),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),this.a.drawElements(this.a.TRIANGLES,6,this.a.UNSIGNED_SHORT,0)}this.a.enable(this.a.DEPTH_TEST)},t.prototype.Ak=function(){this.ab();var t;if(this.l.width==this.w.offsetWidth&&this.l.height==this.w.offsetHeight||(this.l.width=this.w.offsetWidth,this.l.height=this.w.offsetHeight),this.te&&(this.vc(0),this.Rc()),this.a)for(D(this.qb),L(this.Wb(),this.Ta.width/this.Ta.height,this.qb),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),this.a.bindTexture(this.a.TEXTURE_2D,this.o.Gb),t=0;1>t;t++)D(this.O),K(this.O,-this.G.b*Math.PI/180,[0,0,1]),K(this.O,-this.j.b*Math.PI/180,[1,0,0]),K(this.O,(180-this.pan.b)*Math.PI/180,[0,1,0]),this.oa&&(K(this.O,-this.oa.pitch*Math.PI/180,[1,0,0]),K(this.O,this.oa.G*Math.PI/180,[0,0,1])),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.o.hg),this.a.vertexAttribPointer(this.F.ca,3,this.a.FLOAT,!1,0,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.o.Xe),this.a.vertexAttribPointer(this.F.Ga,2,this.a.FLOAT,!1,0,0),this.a.activeTexture(this.a.TEXTURE0),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.o.Gf),this.a.uniform1i(this.F.Pe,0),this.a.uniformMatrix4fv(this.F.He,!1,this.O),this.a.uniformMatrix4fv(this.F.Mc,!1,this.qb),this.a.drawElements(this.a.TRIANGLES,36,this.a.UNSIGNED_SHORT,0)},t.prototype.uk=function(){this.ab();var t=!1;this.l.width==this.w.offsetWidth&&this.l.height==this.w.offsetHeight||(this.l.width=this.w.offsetWidth,this.l.height=this.w.offsetHeight,this.w.style[this.Aa+"OriginX"]=this.l.width/2+"px",this.w.style[this.Aa+"OriginY"]=this.l.height/2+"px",t=!0);var i=Math.round(this.bc());for(this.Nd==i&&!t||this.Eb||(this.Nd=i,this.w.style[this.dc]=i+"px"),this.Pa.xi(this.pan.b,this.j.b,this.G.b,this.oa),t=0;6>t;t++){var e,h;(e=this.Pa.Ja[t])&&(h="",this.Eb?(h+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,0px) ",h+="perspective("+i+"px) ",h+="translate3d(0px,0px,"+i+"px) "):h+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,"+i+"px) ",h+="rotateZ("+Number(this.G.b).toFixed(10)+"deg) ",h+="rotateX("+Number(this.j.b).toFixed(10)+"deg) ",h+="rotateY("+Number(-this.pan.b).toFixed(10)+"deg) ",e.Sg&&(h+=e.Sg,e.Ab||(h="translate3d(-10px,-10px,0px) scale(0.001,0.001)"),e.A.style[this.Aa]=h))}},t.prototype.rk=function(){this.ab();var t;if(this.pb&&(t=this.pb.getContext("2d")),this.l.width===this.w.offsetWidth&&this.l.height===this.w.offsetHeight||(this.l.width=this.w.offsetWidth,this.l.height=this.w.offsetHeight),t){var i=t.canvas.width/2,e=t.canvas.height/2,h=t.createRadialGradient(i,e,5,i,e,Math.max(i,e));h.addColorStop(0,"#333"),h.addColorStop(1,"#fff"),t.rect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=h,t.fill(),t.fillStyle="#f00",t.font="20px Helvetica",t.textAlign="center",t.fillText("Pan: "+this.pan.b.toFixed(1),i,e-60),t.fillText("Tilt: "+this.j.b.toFixed(1),i,e-30),t.fillText("Fov: "+this.f.b.toFixed(1),i,e+0),t.fillText("Node: "+this.Kg(),i,e+30),t.fillText("Title: "+this.od.title,i,e+60)}},t.prototype.sk=function(){this.ab(),this.l.width===this.w.offsetWidth&&this.l.height===this.w.offsetHeight||(this.l.width=this.w.offsetWidth,this.l.height=this.w.offsetHeight),this.Y&&this.Y.setPan&&(this.Y.setPan(this.pan.b),this.Y.setTilt(this.j.b),this.Y.setFov(this.f.b))},t.prototype.wk=function(){this.la.style.visibility="inherit",this.U||(this.U=this.la.getContext("2d")),this.U.width==this.l.width&&this.U.height==this.l.height||(this.U.width=this.l.width,this.U.height=this.l.height),this.U.clear?this.U.clear():this.U.clearRect(0,0,this.la.width,this.la.height),this.Nc=0,this.ab();var t,i,e;i=100/this.f.b,e=this.g.width/this.g.height;var h=this.l.height*i*e;i*=this.l.height,t=(this.pan.b/100/e-.5)*h+this.l.width/2;for(var s,a,o,r,n=(this.j.b/100-.5)*i+this.l.height/2,l=0;this.g.K.length>=l+2&&this.g.K[l+1].width>h;)l++;var u,d;for(d=[],u=this.g.K.length-1;u>=l;){e=this.g.K[u];var p;if(e.cache)p={gb:0,vb:0},p.Bb=e.Ma-1,p.Cb=e.Fb-1;else{p={};var c=-n/i*(e.height/this.g.Z);s=(-t+this.l.width)/h*(e.width/this.g.Z),a=(-n+this.l.height)/i*(e.height/this.g.Z),p.gb=Math.min(Math.max(0,Math.floor(-t/h*(e.width/this.g.Z))),e.Ma-1),p.vb=Math.min(Math.max(0,Math.floor(c)),e.Fb-1),p.Bb=Math.min(Math.max(0,Math.floor(s)),e.Ma-1),p.Cb=Math.min(Math.max(0,Math.floor(a)),e.Fb-1)}d[u]=p;var f=!0;for(a=p.vb;a<=p.Cb;a++)for(s=p.gb;s<=p.Bb;s++)r=s+a*e.Ma,(c=e.$[r])||(c=e.$[r]={}),this.ja<this.Ye?c.g||(c.g=new Image,c.g.onload=this.jk(),c.g.onerror=this.Ze(c),c.g.onabort=this.Ze(c),c.g.setAttribute("src",this.$e(0,u,s,a)),e.cache&&this.bb.push(c.g),0==this.ja&&this.D&&this.D.ggReLoadedLevels&&this.D.ggReLoadedLevels(),this.ja++,this.Ca=!0):this.Nc++,c.g&&c.g.complete||(f=!1),c.visible=!0;p.lh=f,u--}for(u=this.g.K.length-1;u>=l;){if(e=this.g.K[u],d[u]&&0<=d[u].gb)for(p=d[u],a=p.vb;a<=p.Cb;a++)for(s=p.gb;s<=p.Bb;s++)r=s+a*e.Ma,(c=e.$[r])||(c=e.$[r]={}),c.g&&c.g.complete&&this.U.drawImage(c.g,t+(-this.g.Va+this.g.Z*s)*h/e.width,n+(-this.g.Va+this.g.Z*a)*i/e.height,c.g.width*h/e.width,c.g.height*i/e.height),c.visible=!0;u--}for(h=0;h<this.g.K.length;h++)if(e=this.g.K[h],!e.cache)for(o in e.$)e.$.hasOwnProperty(o)&&(c=e.$[o],c.visible||(c.g=null,delete e.$[o]));if(0<this.v.mode)for(h=1,3==this.v.mode&&(h=this.v.ea),o=0;o<this.I.length;o++)if(e=this.I[o],"poly"==e.type&&(i=e.zc,2==this.v.mode&&(h=e.ea),0<i.length)){for(this.U.fillStyle=this.X(e.mb,e.Mb*h),this.U.strokeStyle=this.X(e.ob,e.Nb*h),this.U.beginPath(),e=0;e<i.length;e++)t=i[e],0==e?this.U.moveTo(t.sb,t.Ya):this.U.lineTo(t.sb,t.Ya);this.U.closePath(),this.U.stroke(),this.U.fill()}this.cc=!1},t.prototype.ik=function(t){var i=this;return function(){i.Ca=!0,i.cc=!0,t.loaded=!0,t.g&&!t.A&&i.w.appendChild(t.g),i.ja&&i.ja--,0==i.ja&&i.D&&i.D.ggLoadedLevels&&i.D.ggLoadedLevels(),t.g&&t.da&&(t.da.drawImage(t.g,0,0),t.g=null)}},t.prototype.jk=function(){var t=this;return function(){t.Ca=!0,t.cc=!0,t.ja&&t.ja--,0==t.ja&&t.D&&t.D.ggLoadedLevels&&t.D.ggLoadedLevels()}},t.prototype.Ze=function(t){var i=this;return function(){i.Ca=!0,i.cc=!0,i.ja&&i.ja--,0==i.ja&&i.D&&i.D.ggLoadedLevels&&i.D.ggLoadedLevels(),t.g=null}},t.prototype.Qg=function(t,i,e){e.gb=t.width/this.g.Z*i.zd,e.vb=t.height/this.g.Z*i.Ad,e.Bb=t.width/this.g.Z*i.Qd,e.Cb=t.height/this.g.Z*i.Rd,e.gb=Math.min(Math.max(0,Math.floor(e.gb)),t.Ma-1),e.vb=Math.min(Math.max(0,Math.floor(e.vb)),t.Fb-1),e.Bb=Math.min(Math.max(0,Math.floor(e.Bb)),t.Ma-1),e.Cb=Math.min(Math.max(0,Math.floor(e.Cb)),t.Fb-1)},t.prototype.Uj=function(t){t=Math.round(t),this.Eb=0<(1&t),this.fd=0<(2&t),this.ff=0<(4&t),this.Oe=0<(8&t),4096<=t&&(this.Hb=0<(4096&t),this.ka=0<(8192&t),this.$d=0<(32768&t))},t.prototype.Zi=function(){var t=0;return this.Eb&&(t|=1),this.fd&&(t|=2),this.ff&&(t|=4),this.Hb&&(t|=4096),this.ka&&(t|=8192),this.$d&&(t|=32768),t},t.prototype.Wh=function(){var t;if(!(6>this.Pa.Ja.length))for(t=0;6>t;t++){var i;i=this.Pa.Ja[t];var e;e=[],e.push(new y((-1),(-1),(-1),0,0)),e.push(new y(1,(-1),(-1),1,0)),e.push(new y(1,1,(-1),1,1)),e.push(new y((-1),1,(-1),0,1));for(var h=0;4>h;h++)4>t?e[h].wa(-Math.PI/2*t):e[h].pa(Math.PI/2*(4==t?-1:1)),this.oa&&(e[h].Ra(this.oa.G*Math.PI/180),e[h].pa(-this.oa.pitch*Math.PI/180)),e[h].wa(-this.pan.b*Math.PI/180),e[h].pa(this.j.b*Math.PI/180),e[h].Ra(this.G.b*Math.PI/180);if(e=this.qf(e),i.Ab=0<e.length,i.Ab){for(i=i.ad,i.zd=e[0].$b,i.Qd=e[0].$b,i.Ad=e[0].$a,i.Rd=e[0].$a,h=1;h<e.length;h++)i.zd=Math.min(i.zd,e[h].$b),i.Qd=Math.max(i.Qd,e[h].$b),i.Ad=Math.min(i.Ad,e[h].$a),i.Rd=Math.max(i.Rd,e[h].$a);i.pd=i.Qd-i.zd,i.ce=i.Rd-i.Ad,i.scale=Math.max(i.pd,i.ce)}else i.ad.pd=-1,i.ad.ce=-1}},t.prototype.ph=function(){for(var t=0;t<this.g.K.length;t++){var i,e=this.g.K[t];for(i in e.$)e.$.hasOwnProperty(i)&&(e.$[i].visible=!1)}},t.prototype.Ag=function(){for(var t=0,i=Math.tan(this.Wb()*Math.PI/360),e=this.l.height/(2*i),e=e*(1+this.l.width/this.l.height*i/2),e=e*Math.pow(2,1<(window.devicePixelRatio||1)?this.g.nh:this.g.mh);this.g.K.length>=t+2&&!this.g.K[t+1].Sf&&this.g.K[t+1].width>e;)t++;return t},t.prototype.vk=function(){this.ab();var t,i,e,h=!1,s=!1,s=!1;this.yg++,this.l.width===this.w.offsetWidth&&this.l.height===this.w.offsetHeight||(this.l.width=this.w.offsetWidth,this.l.height=this.w.offsetHeight,this.w.style[this.Aa+"OriginX"]=this.l.width/2+"px",this.w.style[this.Aa+"OriginY"]=this.l.height/2+"px",h=!0);var a=Math.round(this.bc());if((this.Nd!=a||h)&&(this.Nd=a,this.Eb||(this.w.style[this.dc]=a+"px",this.w.style[this.dc+"Origin"]="50% 50%")),this.Nc=0,0<this.g.K.length){this.Wh(),this.ph();var o;for(o="",t=0;6>t;t++){var r;r=this.Pa.Ja[t],r.Ab&&(o=o+t+",")}var n,l=this.Ag();for(n=this.g.K.length-1;n>=l;){var h=this.g.K[n],u=1;for(n==this.g.K.length-1&&0==this.g.Va&&(u=this.g.Z/(this.g.Z-2)),
t=0;6>t;t++){r=this.Pa.Ja[t];var d=r.ad;if(r.Ab&&0<d.pd&&0<d.ce&&0<d.scale||h.cache){r.Ca=!1;var p;for(p={},h.cache?(p.gb=0,p.vb=0,p.Bb=h.Ma-1,p.Cb=h.Fb-1):this.Qg(h,d,p),e=p.vb;e<=p.Cb;e++)for(i=p.gb;i<=p.Bb;i++){if(o=i+e*h.Ma+t*h.Ma*h.Fb,(d=h.$[o])||(d=h.$[o]={}),!d.A&&this.ja<this.Ye){if(0<this.df.length){for(d.A=this.df.shift(),o=this.w.firstChild;o&&o.uc&&(-1==o.uc||o.uc>=n);)o=o.nextSibling;this.w.insertBefore(d.A,o),d.da=d.A.Rg}else if(this.Ph<this.qh){for(this.Ph++,d.A=document.createElement("canvas"),d.A.width=this.g.Z+2*this.g.Va,d.A.height=this.g.Z+2*this.g.Va,d.da=d.A.getContext("2d"),d.A.Rg=d.da,d.A.style[this.Aa+"Origin"]="0% 0%",d.A.style.overflow="hidden",d.A.style.position="absolute",o=this.w.firstChild;o&&o.uc&&(-1==o.uc||o.uc>=n);)o=o.nextSibling;this.w.insertBefore(d.A,o)}d.A&&(d.g=new Image,d.g.style[this.Aa+"Origin"]="0% 0%",d.g.style.position="absolute",d.g.style.overflow="hidden",d.A.uc=n,s&&(d.A.id="tile"+t+"_"+n+"___"+e+"_"+i),d.g.onload=this.ik(d),d.g.onerror=this.Ze(d),d.g.onabort=this.Ze(d),d.g.setAttribute("src",this.$e(t,n,i,e)),h.cache&&this.bb.push(d.g),0==this.ja&&this.D&&this.D.ggReLoadedLevels&&this.D.ggReLoadedLevels(),this.ja++,this.Ca=!0)}else this.Nc++;if(d.A){o="",this.Eb?(o+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,0px) ",o+=" perspective("+a+"px) ",o+="translate3d(0px,0px,"+a+"px) "):o+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,"+a+"px) ",o+="rotateZ("+Number(this.G.b).toFixed(10)+"deg) rotateX("+Number(this.j.b).toFixed(10)+"deg) rotateY("+Number(-this.pan.b).toFixed(10)+"deg) ",this.oa&&(o+="rotateX("+Number(-this.oa.pitch).toFixed(10)+"deg) rotateZ("+Number(this.oa.G).toFixed(10)+"deg) "),o=4>t?o+("rotateY("+-90*t+"deg)"):o+("rotateX("+(4==t?-90:90)+"deg)");var c=1;this.fd?(c=this.td/this.g.Z*(this.g.Z/h.width)*(2*n+1),c=this.Ic?2/Math.tan(this.f.b*Math.PI/360)*c:2*c,o+=" scale("+c*u*u+")"):c=1/(u*u),o+=" translate3d("+(1/u*i*this.g.Z-this.g.Va-h.width/2)+"px,"+(1/u*e*this.g.Z-this.g.Va-h.width/2)+"px,"+-h.width*c/2+"px)",s&&(d.A.id="rtile_"+this.yg+"_"+t+"_"+n+"___"+e+"_"+i),r.Ab&&(d.visible=!0,d.A?d.A.style[this.Aa]=o:d.g&&(d.g.style[this.Aa]=o))}}}}n--}for(a=0;a<this.g.K.length;a++){var f,h=this.g.K[a];for(f in h.$)h.$.hasOwnPropertyp•ø    p•ø                    ÀÂí            	õ    Ø•ø            •ø     @      •ø            tyle[this.Aa]=o,s&&(d.A.id="cache")):d.g&&(d.g.style[this.Aa]="")):(d.da&&(d.da.clear?d.da.clear():d.da.clearRect(0,0,d.da.canvas.width,d.da.canvas.height)),this.df.push(d.A),d.A?(s&&(d.A.id="unused"),o="translate3d(-10px,-10px,0px) scale(0.001,0.001)",d.A.style[this.Aa]=o,d.A.uc=-1):d.loaded&&this.w.removeChild(d.g),d.A=null,d.g=null,d.da=null,delete h.$[f])))}this.cc=!1}},t.prototype.Uh=function(){var t,i=Math.round(this.bc());for(this.Eb||this.Th(i),t=0;t<this.Ua.length;t++){var e;e=this.Ua[t],e.Yh(i),e.c.hidden=!1}},t.prototype.Zh=function(){for(var t=Math.round(this.bc()),i=0;i<this.J.length;i++){var e;e=this.J[i],e.Yh(t),e.c.hidden=!1}},t.prototype.Ck=function(){for(var t=0;t<this.J.length;t++){var i=void 0,i=this.J[t];i.Qc()}for(t=0;t<this.Ua.length;t++)i=this.Ua[t],i.Qc()},t.prototype.vc=function(t){this.te=!1;try{if(t?this.Oa=t:this.Oa=document.createElement("canvas"),this.Oa.width=100,this.Oa.height=100,this.Oa.style.display="none",this.Oa.style.Nk="none",this.w.insertBefore(this.Oa,this.w.firstChild),this.a=this.Oa.getContext("webgl",{premultipliedAlpha:!1,stencil:!0}),this.a||(this.a=this.Oa.getContext("experimental-webgl",{premultipliedAlpha:!1,stencil:!0})),this.a){var i=this.a;this.Ta.width=500,this.Ta.height=500,i.clearColor(0,0,0,0),i.enable(this.a.DEPTH_TEST),i.viewport(0,0,500,500),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.Jd(),this.Xg(this.Wd),this.Yg(),this.S&&(this.S.Jd(),this.S.vc()),this.Ea&&(this.Ea.Jd(),this.Ea.vc())}}catch(e){}this.a?this.ka=!0:alert("Could not initialise WebGL!")},t.prototype.Jd=function(){var t,i=this.a.createShader(this.a.FRAGMENT_SHADER);t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n",t+="void main(void) {\n",t+=" gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",t+="}\n",this.a.shaderSource(i,t),this.a.compileShader(i),this.a.getShaderParameter(i,this.a.COMPILE_STATUS)||(console&&console.log(this.a.getShaderInfoLog(i)),alert(this.a.getShaderInfoLog(i)),i=null);var e=this.a.createShader(this.a.VERTEX_SHADER);t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nattribute vec3 aVertexPosition;\n",t+="attribute vec2 aTextureCoord;\n",t+="uniform mat4 uMVMatrix;\n",t+="uniform mat4 uPMatrix;\n",t+="uniform float uZoffset;\n",t+="varying vec2 vTextureCoord;\n",t+="void main(void) {\n",t+=" gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n",t+=" gl_Position.z += uZoffset;\n",t+=" vTextureCoord = aTextureCoord;\n",t+="}\n",this.a.shaderSource(e,t),this.a.compileShader(e),this.a.getShaderParameter(e,this.a.COMPILE_STATUS)||(console&&console.log(this.a.getShaderInfoLog(i)),alert(this.a.getShaderInfoLog(e)),e=null),this.F=this.a.createProgram(),this.a.attachShader(this.F,e),this.a.attachShader(this.F,i),this.a.linkProgram(this.F),this.a.getProgramParameter(this.F,this.a.LINK_STATUS)||alert("Could not initialise shaders"),this.a.useProgram(this.F),this.F.ca=this.a.getAttribLocation(this.F,"aVertexPosition"),this.a.enableVertexAttribArray(this.F.ca),this.F.Ga=this.a.getAttribLocation(this.F,"aTextureCoord"),this.a.enableVertexAttribArray(this.F.Ga),this.F.Mc=this.a.getUniformLocation(this.F,"uPMatrix"),this.F.He=this.a.getUniformLocation(this.F,"uMVMatrix"),this.F.Pe=this.a.getUniformLocation(this.F,"uSampler"),this.F.hi=this.a.getUniformLocation(this.F,"uZoffset"),i=this.a.createShader(this.a.VERTEX_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nattribute vec3 aVertexPosition;\n",t+="uniform vec2 uCanvasDimensions;\n",t+="void main(void) {\n",t+=" vec2 pointNorm = (aVertexPosition.xy / uCanvasDimensions) * 2.0 - vec2(1.0, 1.0);\n",t+=" gl_Position = vec4(pointNorm.x, pointNorm.y * -1.0, 0.0, 1.0);\n",t+="}\n",this.a.shaderSource(i,t),this.a.compileShader(i),this.a.getShaderParameter(i,this.a.COMPILE_STATUS)||(alert(this.a.getShaderInfoLog(i)),i=null),e=this.a.createShader(this.a.FRAGMENT_SHADER),t="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform vec3 uColor;\n",t+="uniform float uAlpha;\n",t+="void main(void) {\n",t+=" gl_FragColor = vec4(uColor, uAlpha);\n",t+="}\n",this.a.shaderSource(e,t),this.a.compileShader(e),this.a.getShaderParameter(e,this.a.COMPILE_STATUS)||(alert(this.a.getShaderInfoLog(e)),e=null),this.Db=this.a.createProgram(),this.a.attachShader(this.Db,i),this.a.attachShader(this.Db,e),this.a.linkProgram(this.Db),this.a.getProgramParameter(this.Db,this.a.LINK_STATUS)||alert("Could not initialise shaders"),this.Db.ca=this.a.getAttribLocation(this.Db,"aVertexPosition"),this.a.enableVertexAttribArray(this.Db.ca)},t.prototype.Df=function(t){var i=this;return function(){try{if(t.sj)return;i.a.pixelStorei(i.a.UNPACK_FLIP_Y_WEBGL,1);var e=!1;null!=t.Fe&&t.Fe.complete?t.Ug||(i.a.bindTexture(i.a.TEXTURE_2D,t),i.a.texImage2D(i.a.TEXTURE_2D,0,i.a.RGBA,i.a.RGBA,i.a.UNSIGNED_BYTE,t.Fe),e=t.Ug=!0):null!=t.Le&&t.Le.complete&&(i.a.bindTexture(i.a.TEXTURE_2D,t),i.a.texImage2D(i.a.TEXTURE_2D,0,i.a.RGBA,i.a.RGBA,i.a.UNSIGNED_BYTE,t.Le),e=!0),e&&(i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_MAG_FILTER,i.a.LINEAR),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_MIN_FILTER,i.a.LINEAR),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_WRAP_S,i.a.CLAMP_TO_EDGE),i.a.texParameteri(i.a.TEXTURE_2D,i.a.TEXTURE_WRAP_T,i.a.CLAMP_TO_EDGE),t.loaded=!0),i.a.bindTexture(i.a.TEXTURE_2D,null)}catch(h){}i.update()}},t.prototype.ub=function(t){return t?"{"==t.charAt(0)||"/"==t.charAt(0)||0<t.indexOf("://")||0==t.indexOf("javascript:")?t:this.oc+t:this.oc},t.prototype.Bc=function(t,i,e){var h=new RegExp("%0*"+i,"i").exec(t.toString());if(h){var h=h.toString(),s=e.toString();for(h.charAt(h.length-1)!=i&&(s=(1+e).toString());s.length<h.length-1;)s="0"+s;t=t.replace(h,s)}return t},t.prototype.$e=function(t,i,e,h){var s=this.g.kh-1-i,a=this.g.oh,o="x";switch(t){case 0:o="f";break;case 1:o="r";break;case 2:o="b";break;case 3:o="l";break;case 4:o="u";break;case 5:o="d"}for(var r=0;3>r;r++)a=this.Bc(a,"c",t),a=this.Bc(a,"s",o),a=this.Bc(a,"r",i),a=this.Bc(a,"l",s),a=this.Bc(a,"x",e),a=this.Bc(a,"y",h),a=this.Bc(a,"v",h),a=this.Bc(a,"h",e);return this.ub(a)},t.prototype.Yg=function(){var t,i;if(this.eb)for(;0<this.eb.length;)this.a.deleteTexture(this.eb.pop());this.eb=[];for(var e=0;6>e;e++)i=this.a.createTexture(),i.Le=null,i.Fe=null,i.Ug=!1,this.a.bindTexture(this.a.TEXTURE_2D,i),this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,1,1,0,this.a.RGB,this.a.UNSIGNED_BYTE,null),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.Uc[e]&&(t=new Image,t.crossOrigin="anonymous",t.src=this.ub(this.Uc[e]),i.Le=t,t.addEventListener&&t.addEventListener("load",this.Df(i),!1),this.bb.push(t)),this.eb.push(i);for(e=0;6>e;e++)this.le[e]&&(t=new Image,t.crossOrigin="anonymous",t.src=this.ub(this.le[e]),t.addEventListener?t.addEventListener("load",this.Df(this.eb[e]),!1):t.onload=this.Df(this.eb[e]),this.eb[e].Fe=t,this.bb.push(t));for(e=0;e<this.J.length;e++)this.J[e].Gb=this.a.createTexture(),this.a.bindTexture(this.a.TEXTURE_2D,this.J[e].Gb),this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,1,1,0,this.a.RGB,this.a.UNSIGNED_BYTE,null),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE);this.o.Gb=this.a.createTexture(),this.a.bindTexture(this.a.TEXTURE_2D,this.o.Gb),this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,1,1,0,this.a.RGB,this.a.UNSIGNED_BYTE,null),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.a.bindTexture(this.a.TEXTURE_2D,null)},t.prototype.Xg=function(t){var i,e,h,s;this.rf=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.rf);var a=[-1,-1,1,1,-1,1,1,1,1,-1,1,1];for(i=0;12>i;i++)2>i%3&&(a[i]*=t);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(a),this.a.STATIC_DRAW),this.ne=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.ne);var o=[1,0,0,0,0,1,1,1];this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(o),this.a.STATIC_DRAW),this.me=this.a.createBuffer(),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.me);var r=[0,1,2,0,2,3];this.a.bufferData(this.a.ELEMENT_ARRAY_BUFFER,new Uint16Array(r),this.a.STATIC_DRAW);var a=[],r=[],o=[],n=new y;for(t=0;6>t;t++){for(h=t%3,s=3>t?1:0,e=0;4>e;e++){for(n.x=-1,n.y=-1,n.z=1,i=0;i<e;i++)n.Gh();if(o.push((0>n.x?.33:0)+.33*h,(0>n.y?0:.5)+.5*s),4>t)for(i=0;i<t;i++)n.Mj();else 5==t?n.Lj():n.Kj();a.push(n.x,n.y,n.z)}i=4*t,r.push(0+i,1+i,2+i,0+i,2+i,3+i)}this.o.hg=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.o.hg),this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(a),this.a.STATIC_DRAW),this.o.Xe=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.o.Xe),this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(o),this.a.STATIC_DRAW),this.o.Gf=this.a.createBuffer(),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.o.Gf),this.a.bufferData(this.a.ELEMENT_ARRAY_BUFFER,new Uint16Array(r),this.a.STATIC_DRAW),this.Fa=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.Fa),this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0]),this.a.STATIC_DRAW),this.Fa.Qb=3,this.Fa.yc=4,this.dd=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.dd),o=[0,0,1,0,0,1,1,1],this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(o),this.a.STATIC_DRAW)},t.prototype.ue=function(){return this.pan.b},t.prototype.Si=function(){return this.R.pan},t.prototype.Ti=function(){for(var t=this.pan.b;-180>t;)t+=360;for(;180<t;)t-=360;return t},t.prototype.ve=function(){for(var t=this.pan.b-this.pan.Nf;-180>t;)t+=360;for(;180<t;)t-=360;return t},t.prototype.Xf=function(t){this.ia(),isNaN(t)||(this.pan.b=Number(t)),this.update()},t.prototype.Yf=function(t){this.ia(),isNaN(t)||(this.pan.b=Number(t)+this.pan.Nf),this.update()},t.prototype.ie=function(t,i){isNaN(t)||(this.Xf(this.ue()+t),i&&(this.pan.d=t))},t.prototype.si=function(t,i){this.ie(t*this.tc(),i)},t.prototype.we=function(){return this.j.b},t.prototype.aj=function(){return this.R.j},t.prototype.$f=function(t){this.ia(),isNaN(t)||(this.j.b=Number(t)),this.update()},t.prototype.je=function(t,i){this.$f(this.we()+t),i&&(this.j.d=t)},t.prototype.ti=function(t,i){this.je(t*this.tc(),i)},t.prototype.Vj=function(t){this.ia(),isNaN(t)||(this.G.b=Number(t)),this.update()},t.prototype.$i=function(){return this.G.b},t.prototype.Bd=function(){return this.f.b},t.prototype.Hi=function(){return this.R.jd},t.prototype.Re=function(t){if(this.ia(),!isNaN(t)&&0<t&&180>t){var i=this.f.b;this.f.b=Number(t),this.ab(),i!=this.f.b&&this.update()}},t.prototype.og=function(t,i){this.Re(this.Bd()+t),i&&(this.f.d=t)},t.prototype.ud=function(t,i){if(!isNaN(t)){var e;e=t/90*Math.cos(Math.min(this.f.b,90)*Math.PI/360),e=this.f.b*Math.exp(e),this.Re(e),i&&(this.f.d=t)}},t.prototype.Tj=function(t,i){this.ia(),isNaN(t)||(this.pan.b=t),isNaN(i)||(this.j.b=i),this.update()},t.prototype.Zf=function(t,i,e){this.ia(),isNaN(t)||(this.pan.b=t),isNaN(i)||(this.j.b=i),!isNaN(e)&&0<e&&180>e&&(this.f.b=e),this.update()},t.prototype.Oj=function(){this.Zf(this.pan.fb,this.j.fb,this.f.fb)},t.prototype.Rj=function(t){this.Te(t),this.Ih(t),this.Se(t)},t.prototype.Te=function(t){this.C.Wa=t},t.prototype.Se=function(t){this.C.Pd=t},t.prototype.Ih=function(t){this.C.Lf=t},t.prototype.moveTo=function(t,i,e,h,s){this.ia(),this.R.active=!0,this.R.qd=!1;var a=t.toString().split("/");1<a.length&&(t=Number(a[0]),h=i,i=Number(a[1]),2<a.length&&(e=Number(a[2]))),this.R.pan=isNaN(t)?this.pan.b:t,this.R.j=isNaN(i)?this.j.b:i,this.R.f=!isNaN(e)&&0<e&&180>e?e:this.f.b,!isNaN(h)&&0<h?this.R.speed=h:this.R.speed=1,this.R.G=isNaN(s)?this.G.b:s},t.prototype.oj=function(t){this.moveTo(this.pan.fb,this.j.fb,this.f.fb,t)},t.prototype.ki=function(t,i,e,h){var s=new Y(this);s.type="point",s.pan=i,s.j=e,s.id=t,s.c={},s.c.player=this,s.Vc(),s.c.hotspot=s,s.c.__div=document.createElement("div"),s.c.__div.appendChild(h),this.I.push(s),s.c.__div.style.position="absolute",s.c.__div.style.left="-1000px",s.c.__div.style.top="-1000px",this.va.insertBefore(s.c.__div,this.va.firstChild),this.Ca=!0},t.prototype.tk=function(t,i,e){for(var h=0;h<this.I.length;h++){var s=this.I[h];s.id==t&&(s.pan=i,s.j=e,s.Vc())}this.Ca=!0},t.prototype.Gj=function(t){for(var i,e=-1,h=0;h<this.I.length;h++)i=this.I[h],i.id==t&&(e=h);-1<e&&(i=this.I.splice(e,1).pop(),i.c&&i.c.__div&&this.va.removeChild(i.c.__div))},t.prototype.Vi=function(){for(var t=[],i=0;i<this.I.length;i++){var e=this.I[i];"point"==e.type&&t.push(String(e.id))}return t},t.prototype.Ii=function(t){for(var i=0;i<this.I.length;i++){var e=this.I[i];if(e.id==t)return i={},i.id=t,i.pan=e.pan,i.tilt=e.j,e.c&&e.c.__div&&(i.div=e.c.__div),i}},t.prototype.di=function(t,i){this.N.start.x=t,this.N.start.y=i,this.N.W.x=t,this.N.W.y=i,this.B.W.x=t,this.B.W.y=i,this.Vf++},t.prototype.bi=function(t,i){var e=this.Wb();this.pan.b+=t*e/this.l.height,this.j.b+=i*e/this.l.height,this.ab()},t.prototype.ci=function(t,i){this.N.b.x=t,this.N.b.y=i,this.N.V.x=this.N.b.x-this.N.W.x,this.N.V.y=this.N.b.y-this.N.W.y,this.C.wc&&(this.N.W.x=this.N.b.x,this.N.W.y=this.N.b.y,this.update())},t.prototype.ia=function(){this.u.active&&(this.u.active=!1,this.pan.d=0,this.j.d=0,this.f.d=0),this.R.active&&(this.R.active=!1,this.pan.d=0,this.j.d=0,this.f.d=0),this.rd=this.R.qd=!1,this.De=(new Date).getTime()},t.prototype.Ni=function(){return this.De},t.prototype.Og=function(t,i){t||(t=this.ha.x,i=this.ha.y);var e=this.l.height/(2*Math.tan(this.f.b*Math.PI/360)),h=t-this.l.width/2,s=i-this.l.height/2,a={};return a.pan=180*Math.atan(h/e)/Math.PI,a.tilt=180*Math.atan(-s/Math.sqrt(h*h+e*e))/Math.PI,a},t.prototype.Xi=function(t,i){var e,h;if(t||(t=this.ha.x,i=this.ha.y),2===this.rb)h=this.f.b/this.l.height,e=-(t-this.l.width/2)*h+this.pan.b,h=-(i-this.l.height/2)*h+this.j.b;else{for(h=new y(0,0,1),e=this.Og(t,i),h.Wf(-e.tilt),h.Fh(e.pan),h.Wf(-this.j.b),h.Fh(-this.pan.b),h.Wf(-this.oa.pitch),h.Jj(this.oa.G),e=h.li()-180;-180>e;)e+=360;h=h.mi()}var s={};return s.pan=e,s.tilt=h,s},t.prototype.ic=function(t){return!(t!=this.control&&(!t||!t.ggType||"container"!=t.ggType&&"cloner"!=t.ggType&&"timer"!=t.ggType))},t.prototype.of=function(t,i){var e,h,s,a=this.bc();for(e=0;e<this.J.length+this.Ua.length;e++){var o=void 0,o=e<this.J.length?this.J[e]:this.Ua[e-this.J.length];if(o.hb)return o}for(e=0;e<this.J.length+this.Ua.length;e++){var r,n,l,o=e<this.J.length?this.J[e]:this.Ua[e-this.J.length],u=[],d=new y;for(0<o.f&&(n=Math.tan(o.f/2*Math.PI/180),l=0<o.Ob?n*o.Xb/o.Ob:n,o.gc&&1!=o.gc&&(l*=o.gc)),r=0;4>r;r++){switch(r){case 0:d.Ka(-n,-l,-1);break;case 1:d.Ka(n,-l,-1);break;case 2:d.Ka(n,l,-1);break;case 3:d.Ka(-n,l,-1)}d.pa(-o.j*Math.PI/180),d.wa(o.pan*Math.PI/180),d.wa(-this.pan.b*Math.PI/180),d.pa(this.j.b*Math.PI/180),d.Ra(this.G.b*Math.PI/180),u.push(d.clone())}if(u=this.qf(u),0<u.length){for(r=0;r<u.length;r++)d=u[r],.1>d.z?(s=-a/d.z,h=this.l.width/2+d.x*s,s=this.l.height/2+d.y*s):s=h=0,d.sb=h,d.Ya=s;if(this.Vg(u,t,i))return o}}return null},t.prototype.Be=function(){return document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement&&null!=document.msFullscreenElement||document.fullScreen},t.prototype.nj=function(t){if(this.Vh(t),this.Ub&&this.Ub.onclick(),this.pc=null,!this.C.Wa){if(t=t?t:window.event,(t.which||0==t.which||1==t.which)&&this.ic(t.target)){var i;(i=this.of(this.ha.x,this.ha.y))&&i.Yb&&(this.pc=i),this.di(t.pageX,t.pageY),this.M.Da=1,this.M.startTime=(new Date).getTime(),t.preventDefault(),this.ia()}this.N.V.x=0,this.N.V.y=0}},t.prototype.nd=function(t,i){var e=this.v.dg;e.enabled&&(this.ma!=this.Qa&&0<=t&&0<=i&&""!=this.ma.title?(this.na.innerHTML=this.ma.title,this.na.style.color=this.X(e.eg,e.cg),e.background?this.na.style.backgroundColor=this.X(e.mb,e.Mb):this.na.style.backgroundColor="transparent",this.na.style.border="solid "+this.X(e.ob,e.Nb)+" "+e.mf+"px",this.na.style.borderRadius=e.lf+"px",this.na.style.textAlign="center",0<e.width?(this.na.style.left=t-e.width/2+this.margin.left+"px",this.na.style.width=e.width+"px"):(this.na.style.width="auto",this.na.style.left=t-this.na.offsetWidth/2+this.margin.left+"px"),this.na.style.height=0<e.height?e.height+"px":"auto",this.na.style.top=i+25+ +this.margin.top+"px",this.na.style.visibility="inherit",this.na.style.overflow="hidden"):(this.na.style.visibility="hidden",this.na.innerHTML=""))},t.prototype.Vh=function(t){var i=this.Hc();return this.Be()?(this.ha.x=t.pageX-this.margin.left,this.ha.y=t.pageY-this.margin.top):(this.ha.x=t.pageX-i.x,this.ha.y=t.pageY-i.y),i},t.prototype.gd=function(t){t&&null!==t&&"object"==typeof t?this.ma=t:this.ma=this.Qa,this.ma.Vc&&this.ma.Vc(),this.hotspot=this.ma},t.prototype.mj=function(t){t=t?t:window.event;var i=this.Vh(t);if(!this.C.Wa){0<=this.M.Da&&(t.preventDefault(),(t.which||0==t.which||1==t.which)&&this.ci(t.pageX,t.pageY),this.ia());var e=!1;if(this.ma==this.Qa||"poly"==this.ma.type){var h=this.Qa;0<this.I.length&&this.ic(t.target)&&(h=this.pf(this.ha.x,this.ha.y)),this.Qe(h),this.nd(t.pageX-i.x,t.pageY-i.y),0!=h&&(e=!0)}t=null,e||(t=this.of(this.ha.x,this.ha.y)),this.va.style.cursor=this.ma!=this.Qa&&this.ma.Xc&&e||t&&t.Hd?"pointer":"auto"}},t.prototype.Qe=function(t){!1===t&&(t=this.Qa),this.ma!=t&&(this.ma!=this.Qa&&(0<this.v.mode&&(this.ma.Ha=0),this.xa&&this.xa.hotspotProxyOut&&this.xa.hotspotProxyOut(this.ma.id)),t!=this.Qa?(this.gd(t),this.xa&&this.xa.hotspotProxyOver&&this.xa.hotspotProxyOver(this.ma.id),0<this.v.mode&&(this.v.Ha=1,this.ma.Ha=1)):(this.gd(this.Qa),0<this.v.mode&&(this.v.Ha=0)),this.Y&&this.Y.changeCurrentHotspot(this.ma.id))},t.prototype.lj=function(t){if(t=t?t:window.event,this.Ee=-1,!this.C.Wa&&0<=this.M.Da){this.ia(),t.preventDefault(),this.M.Da=-3,this.N.V.x=0,this.N.V.y=0,t=(new Date).getTime();var i=-1,i=Math.abs(this.N.start.x-this.N.W.x)+Math.abs(this.N.start.y-this.N.W.y);400>t-this.M.startTime&&0<=i&&20>i&&(this.pc&&this.pc.Yb(),(i=this.pf(this.ha.x,this.ha.y))&&this.Sh(i),i=Math.abs(this.N.kc.x-this.N.W.x)+Math.abs(this.N.kc.y-this.N.W.y),700>t-this.Ld&&0<=i&&20>i?(this.C.vf&&this.cf(),this.Ld=0):this.Ld=t,this.N.kc.x=this.N.W.x,this.N.kc.y=this.N.W.y)}},t.prototype.rh=function(t){if(!this.C.Lf&&(t=t?t:window.event,this.ic(t.target))){var i=t.detail?-1*t.detail:t.wheelDelta/40;this.C.Zg&&(i=-i),t.axis&&(-1==this.Ee?this.Ee=t.axis:this.Ee!=t.axis&&(i=0));var e=0<i?1:-1;0!=i&&(this.ud(e*this.C.Mh,!0),this.update()),t.preventDefault(),this.ia()}},t.prototype.qk=function(t){t||(t=window.event);var i=t.touches,e=this.Hc();if(this.ha.x=i[0].pageX-e.x,this.ha.y=i[0].pageY-e.y,this.kd=this.pc=null,this.se&&(this.se=!1,this.Bg()),!this.C.Wa){if(0>this.M.Da&&i[0]){if(this.M.startTime=(new Date).getTime(),this.M.start.x=i[0].pageX,this.M.start.y=i[0].pageY,this.M.W.x=i[0].pageX,this.M.W.y=i[0].pageY,this.tb=i[0].target,this.ic(t.target)){var h;(h=this.of(this.ha.x,this.ha.y))&&h.Yb&&(this.pc=h),(h=this.pf(this.ha.x,this.ha.y))&&(this.kd=h,this.Qe(h),h=this.Cd(t),this.nd(h.x-e.x,h.y-e.y)),this.di(i[0].pageX,i[0].pageY),this.M.Da=i[0].identifier,t.preventDefault(),this.ia()}if(this.tb){for(e=this.tb,h=!1;e&&e!=this.control;)e.onmouseover&&e.onmouseover(),e.onmousedown&&!h&&(e.onmousedown(),h=!0),e=e.parentNode;h&&t.preventDefault()}}1<i.length&&(this.M.Da=-5),!this.Ef&&2==i.length&&i[0]&&i[1]&&(t=i[0].pageX-i[1].pageX,i=i[0].pageY-i[1].pageY,this.f.Nh=Math.sqrt(t*t+i*i),this.f.cd=this.f.b),this.N.V.x=0,this.N.V.y=0}},t.prototype.Bg=function(){for(var t=0;t<this.P.length;t++){var i=this.P[t];!this.xc(i.id)&&0<=i.loop&&i.autoplay&&this.bd(i.id,i.loop)}for(t=0;t<this.J.length;t++)i=this.J[t],this.xc(i.id)||!i.autoplay||this.If||this.bd(i.id,i.loop)},t.prototype.pk=function(t){t||(t=window.event);var i=t.touches,e=this.Hc();if(this.ha.x=i[0].pageX-e.x,this.ha.y=i[0].pageY-e.y,!this.C.Wa){if(i[0]&&(this.M.W.x=i[0].pageX,this.M.W.y=i[0].pageY),0<=this.M.Da){t.preventDefault();for(var h=0;h<i.length;h++)if(i[h].identifier==this.M.Da){this.ci(i[h].pageX,i[h].pageY);break}this.kd&&(h=this.Cd(t),this.nd(h.x-e.x,h.y-e.y)),this.ia()}2==i.length&&i[0]&&i[1]&&(this.M.Da=-6,this.Ef||(e=i[0].pageX-i[1].pageX,i=i[0].pageY-i[1].pageY,this.f.ug=Math.sqrt(e*e+i*i),this.B.f.active=!0,this.B.f.Ia=this.f.cd*Math.sqrt(this.f.Nh/this.f.ug),this.B.f.Ia>this.f.max&&(this.B.f.Ia=this.f.max),this.B.f.Ia<this.f.min&&(this.B.f.Ia=this.f.min),this.ia(),t.preventDefault()))}},t.prototype.nk=function(t){var i,e=this.Hc(),h=!1;if(this.se&&(this.se=!1,this.Bg()),!this.C.Wa){0<=this.M.Da&&this.ia();var s,a=(new Date).getTime();if(i=Math.abs(this.M.start.x-this.M.W.x)+Math.abs(this.M.start.y-this.M.W.y),0<=i&&20>i){if(t.preventDefault(),h=!0,this.ic(this.tb)&&this.pc&&this.pc.Yb(),this.tb)for(i=this.tb,s=!1;i&&i!=this.control;)i.onclick&&!s&&(i.onclick(),s=!0,h=!1),i=i.parentNode;if(i=Math.abs(this.M.kc.x-this.M.W.x)+Math.abs(this.M.kc.y-this.M.W.y),700>a-this.Ld&&0<=i&&20>i){if(t.preventDefault(),this.ic(this.tb)&&this.C.vf){var o=this;setTimeout(function(){o.cf()},1)}if(this.tb)for(i=this.tb,s=!1;i&&i!=this.control;)i.ondblclick&&!s&&(i.ondblclick(),s=!0,h=!1),i=i.parentNode;this.Ld=0}else this.Ld=a;this.M.kc.x=this.M.W.x,this.M.kc.y=this.M.W.y}if(this.tb)for(t.preventDefault(),i=this.tb,s=!1;i&&i!=this.control;)i.onmouseout&&i.onmouseout(),i.onmouseup&&!s&&(i.onmouseup(),s=!0),i=i.parentNode;this.tb=null,this.M.Da=-11,this.Qe(this.Qa),t=this.Cd(t),this.nd(t.x-e.x,t.y-e.y),this.kd&&h&&this.Sh(this.kd),this.kd=null}},t.prototype.mk=function(t){var i=this.Hc();this.C.Wa||(this.M.Da=-2),this.kd=null,this.Qe(this.Qa),t=this.Cd(t),this.nd(t.x-i.x,t.y-i.y)},t.prototype.hj=function(){return null!=this.tb||0<=this.M.Da},t.prototype.th=function(t){!this.Kc&&window.MSGesture&&(this.Kc=new MSGesture,this.Kc.target=this.control),this.Kc&&this.Kc.addPointer(t.pointerId)},t.prototype.Jg=function(t){this.Ef=!0,this.Ge=1,this.C.Wa||(t.touches?(this.tb=t.touches.target,this.ic(t.target)&&(t.preventDefault(),this.f.cd=this.f.b,this.ia())):(t.preventDefault(),this.f.cd=this.f.b,this.ia()))},t.prototype.Ei=function(t){!this.C.Wa&&this.ic(t.target)&&(t.preventDefault(),this.B.f.active=!0,this.B.f.Ia=this.f.cd/Math.sqrt(t.scale),this.B.f.Ia>this.f.max&&(this.B.f.Ia=this.f.max),this.B.f.Ia<this.f.min&&(this.B.f.Ia=this.f.min),this.update(),this.ia())},t.prototype.pj=function(t){this.C.Wa||(t.preventDefault(),1!=t.scale&&(this.B.f.active=!0,this.Ge*=t.scale,this.B.f.Ia=this.f.cd/Math.sqrt(this.Ge),this.B.f.Ia>this.f.max&&(this.B.f.Ia=this.f.max),this.B.f.Ia<this.f.min&&(this.B.f.Ia=this.f.min),this.update(),this.ia()))},t.prototype.Ig=function(t){this.C.Wa||(this.B.f.active=!1,t.preventDefault(),this.ia(),this.Kc&&this.Kc.reset&&this.Kc.reset())},t.prototype.ij=function(t){this.C.Pd||(this.isFullscreen&&t.preventDefault(),this.Jc=t.keyCode,this.ia())},t.prototype.jj=function(t){this.Jc&&(this.Jc=0,t.preventDefault(),this.ia())},t.prototype.uj=function(){this.Jc=0},t.prototype.Je=function(){this.isFullscreen&&(this.Be()||this.exitFullscreen(),this.Be()&&(this.L.style.left="0px",this.L.style.top="0px"))},t.prototype.Sh=function(t){this.xa&&this.xa.hotspotProxyClick&&this.xa.hotspotProxyClick(t.id),""!=t.url&&(this.Of(t.url,t.target),this.nd(-1,-1))},t.prototype.tc=function(){return Math.min(1,2*Math.tan(Math.PI*this.f.b/360))},t.prototype.wh=function(){var t=this;setTimeout(function(){t.wh()},100),9!=t.Ne||t.$g||requestAnimationFrame(function(){t.$c("restart recover timer")}),10<t.Ne&&1<t.Vf&&(t.$c("recover timer - disabling requestAnimationFrame"),t.$g=!0,t.Pf()),t.Ne++},t.prototype.xk=function(){var t=this.a;if(0<this.J.length)for(var i=0;i<this.J.length;i++){var e=this.J[i];if(e.eh&&e.xe!=e.c.currentTime&&(e.xe=e.c.currentTime,!e.lg&&0<e.c.videoHeight&&(e.lg=e.c.videoWidth/e.c.videoHeight),this.ae))try{e.Gb&&(t.bindTexture(t.TEXTURE_2D,e.Gb),t.texImage2D(t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE,e.c),this.update())}catch(h){}}if(this.o.c&&this.o.xe!=this.o.c.currentTime){this.o.xe=this.o.c.currentTime;try{this.o.Gb&&this.o.Ce&&0<this.o.c.readyState&&(this.o.Zc=!0,t.bindTexture(t.TEXTURE_2D,this.o.Gb),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),t.texImage2D(t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE,this.o.c),this.update())}catch(h){}}},t.prototype.zj=function(t){var i;if(this.R.active){if(this.pan.d=this.R.pan-this.pan.b,360==this.pan.max-this.pan.min){for(;-180>this.pan.d;)this.pan.d+=360;for(;180<this.pan.d;)this.pan.d-=360}this.j.d=this.R.j-this.j.b,this.G.d=this.R.G-this.G.b,this.f.d=this.R.f-this.f.b;var e=this.R.speed*this.tc(),s=Math.sqrt(this.pan.d*this.pan.d+this.j.d*this.j.d+this.G.d*this.G.d+this.f.d*this.f.d);i=this.pan.b-this.R.hh;var a=this.j.b-this.R.jh,o=this.G.b-this.R.ih,r=this.f.b-this.R.gh;100*Math.sqrt(i*i+a*a+o*o+r*r)<e&&(this.R.qd=!0),this.R.hh=this.pan.b,this.R.jh=this.j.b,this.R.ih=this.G.b,this.R.gh=this.f.b,100*s<e||this.R.qd?(this.R.active=!1,this.pan.d=0,this.j.d=0,this.G.d=0,this.f.d=0,this.pan.b=this.R.pan,this.j.b=this.R.j,this.G.b=this.R.G,this.f.b=this.R.f,this.onMoveComplete&&this.onMoveComplete()):(s=s>5*e?e/s:.2,this.pan.d*=s,this.j.d*=s,this.f.d*=s),this.pan.b+=this.pan.d,this.j.b+=this.j.d,this.G.b+=this.G.d,this.f.b+=this.f.d,this.De=t.getTime(),this.update()}else if(this.u.active)if(s=t.getTime()-this.u.startTime,this.u.ai&&0<this.qc.length){if(s/=100,a=!1,this.lc!=this.T.cliptitle){for(i=0;i<this.qc.length;i++)if(""==this.lc||""!=this.lc&&this.qc[i].cliptitle==this.lc){a=!0,this.T=this.qc[i],this.lc=this.T.cliptitle;break}!a&&0<this.qc.length&&(a=!0,this.T=this.qc[0],this.lc=this.T.cliptitle)}else a=!0;if(a)if(this.rd)if(s>=this.T.length)if(this.rd=!1,this.lc=this.T.nextcliptitle,this.lc==this.T.cliptitle){if(1<this.sa.length&&0<this.u.Ie){if(this.u.Mf){i=1e3;do e=this.sa[Math.floor(Math.random()*this.sa.length)];while(i--&&e==this.currentNode)}else e=this.Ng();this.Lc("{"+e+"}"),this.u.startTime=t.getTime(),this.rd=!1,this.u.active=!0,this.S.sd=!0}}else this.Kd&&this.T.nextclipnodeid!=this.currentNode&&(this.Lc("{"+this.T.nextclipnodeid+"}"),this.S.enabled?(this.u.active=!1,this.S.sd=!0):this.u.active=!0),this.u.startTime=t.getTime();else{t={Ik:{value:0,name:"pan"},Jk:{value:1,name:"tilt"},Hk:{value:2,name:"fov"}};for(e in t){for(i=t[e],a=0,a=Math.floor(s);!this.Lg(a,i.value)&&0<a;)a--;var r=this.Lg(a,i.value),n=this.Oi(r);if(n){var a=new h(r.time,r.value),o=new h(n.time,n.value),l=(s-r.time)/(n.time-r.time);if(0!=r.type||0!=n.type&&3!=n.type)if(3==r.type)a=r.value;else{var l=new h,u=new h,d=n.time-r.time;0==r.type?u.Ka(r.time+.3*d,r.value):u.Ka(r.bezierouttime,r.bezieroutvalue),0==n.type||3==n.type?l.Ka(n.time-.3*d,n.value):l.Ka(n.bezierintime,n.bezierinvalue),r=new h,r.ri(a,o,u,l,s),a=r.y}else r=new h,r.hc(a,o,l),a=r.y}else a=r.value;switch(i.value){case 0:i=this.pan.b,this.pan.b=a,this.pan.d=this.pan.b-i;break;case 1:i=this.j.b,this.j.b=a,this.j.d=this.j.b-i;break;case 2:i=this.f.b,this.f.b=a,this.f.d=this.f.b-i}}this.update()}else e=this.T.keyframes[0],s=this.T.keyframes[1],i=this.T.keyframes[2],this.R.qd||this.ue()==e.value&&this.we()==s.value&&this.Bd()==i.value?(this.rd=!0,this.u.startTime=t.getTime()):(this.moveTo(e.value,s.value,i.value,1),this.u.active=!0)}else if(0<this.u.Ie&&this.Kd&&s>=1e3*this.u.Ie){if(1<this.sa.length){if(this.u.Mf){i=1e3;do e=this.sa[Math.floor(Math.random()*this.sa.length)];while(i--&&e==this.currentNode)}else i=this.sa.indexOf(this.currentNode),i++,i>=this.sa.length&&(i=0),e=this.sa[i];this.u.startTime=t.getTime(),this.u.jc=t.getTime(),this.u.timeout=0,this.Lc("{"+e+"}"),this.u.active=!0,this.S.sd=!0}}else e=t.getTime(),t=s=1e3/60,0!=this.u.jc&&(t=e-this.u.jc),this.j.d=this.u.af*(0-this.j.b)/100,this.f.d=this.u.af*(this.f.fb-this.f.b)/100,this.pan.d=.95*this.pan.d+-this.u.speed*this.tc()*.05,s=t/s,this.pan.b+=this.pan.d*s,this.j.b+=this.j.d*s,this.f.b+=this.f.d*s,this.u.jc=e,this.update();else this.u.enabled&&0>this.M.Da&&t.getTime()-this.De>1e3*this.u.timeout&&(this.u.Vd&&this.isLoaded||!this.u.Vd)&&(this.u.active=!0,this.u.startTime=t.getTime(),this.u.jc=0,this.pan.d=0,this.j.d=0,this.f.d=0),this.B.enabled&&0==this.Jc&&0>this.M.Da&&(0!=this.pan.d||0!=this.j.d||0!=this.f.d)&&(this.pan.d*=.9,this.j.d*=.9,this.f.d*=.9,this.pan.b+=this.pan.d,this.j.b+=this.j.d,this.ud(this.f.d),1e-4>this.pan.d*this.pan.d+this.j.d*this.j.d+this.f.d*this.f.d&&(this.pan.d=0,this.j.d=0,this.f.d=0),this.update())},t.prototype.Aj=function(t){var i=this.S;if(i.Dc){var e=t.getTime()-i.gi,e=e/(1e3*i.fi);if(1<=e){for(i.Dc=!1,e=0;e<this.ra.Yd.length;e++)this.ra.yf(this.ra.Yd[e]);i.bg=t.getTime(),this.Oh(),i.ld=!0,1!=i.Kb&&2!=i.Kb&&3!=i.Kb||i.kf||this.moveTo(i.Ve,i.We,i.jd,i.fe)}else i.vh(e)}else i.ld&&(e=t.getTime()-i.bg,e/=1e3*i.mg,1<=e?(i.ld=!1,this.De=t.getTime(),this.update(),1!=i.Kb&&2!=i.Kb&&3!=i.Kb||!i.kf||this.moveTo(i.Ve,i.We,i.jd,i.fe),this.Te(i.sh),this.Se(i.fh),this.u.active=i.sd,this.u.jc=0,i.sd=!1):i.vh(e));i=this.vj,i.oi&&(i.oe?t.getTime()-i.wf>=1e3*i.zi&&(i.oe=!1):(i.current+=i.Tb,0>i.current&&(i.current=0,i.Tb=-i.Tb,i.oe=!0,i.wf=t.getTime()),1<i.current&&(i.current=1,i.Tb=-i.Tb,i.oe=!0,i.wf=t.getTime())))},t.prototype.Ej=function(){
var t;if(2==this.v.mode)for(t=0;t<this.I.length;t++){var i=this.I[t];"poly"==i.type&&i.Ha!=i.ea&&(i.Ha>i.ea?(i.ea+=this.v.Tb,i.Ha<i.ea&&(i.ea=i.Ha)):(i.ea-=this.v.Tb,i.Ha>i.ea&&(i.ea=i.Ha)),this.update())}3==this.v.mode&&this.v.Ha!=this.v.ea&&(this.v.Ha>this.v.ea?(this.v.ea+=this.v.Tb,this.v.Ha<this.v.ea&&(this.v.ea=this.v.Ha)):(this.v.ea-=this.v.Tb,this.v.Ha>this.v.ea&&(this.v.ea=this.v.Ha)),this.update())},t.prototype.Bj=function(){0<=this.M.Da&&(this.C.wc?(this.B.V.x=.4*(this.N.W.x-this.B.W.x),this.B.V.y=.4*(this.N.W.y-this.B.W.y),this.B.W.x+=this.B.V.x,this.B.W.y+=this.B.V.y):(this.B.V.x=.1*-this.N.V.x*this.C.sensitivity/8,this.B.V.y=.1*-this.N.V.y*this.C.sensitivity/8),this.bi(this.B.V.x,this.B.V.y),this.update()),this.B.f.active&&(this.og(.4*(this.B.f.Ia-this.f.b)),.001>Math.abs(this.B.f.Ia-this.f.b)/this.f.b&&(this.B.f.active=!1),this.update()),this.B.enabled&&(0!=this.B.V.x||0!=this.B.V.y)&&0>this.M.Da&&(this.B.V.x=.9*this.B.V.x,this.B.V.y=.9*this.B.V.y,.1>this.B.V.x*this.B.V.x+this.B.V.y*this.B.V.y?(this.B.V.x=0,this.B.V.y=0):(this.bi(this.B.V.x,this.B.V.y),this.update()))},t.prototype.Cj=function(){if(0!=this.Jc){var t=this.C.sensitivity/8;switch(this.Jc){case 37:case 65:this.ie(t*this.tc(),!0);break;case 38:case 87:this.je(t*this.tc(),!0);break;case 39:case 68:this.ie(-t*this.tc(),!0);break;case 40:case 83:this.je(-t*this.tc(),!0);break;case 43:case 107:case 16:case 81:this.C.Kf||this.ud(-t,!0);break;case 17:case 18:case 109:case 45:case 91:case 69:this.C.Kf||this.ud(t,!0)}this.update()}},t.prototype.Dj=function(){if(!this.isLoaded&&this.Id&&5<this.g.Dh){var t,i=0,e=this.bb.length;if(this.$d)e=50,this.xf<e&&this.xf++,i=this.xf;else for(t=0;t<e;t++)(this.bb[t].complete&&this.bb[t].src!=this.xg||""==this.bb[t].src)&&i++;i==e?(this.Ke=1,this.isLoaded=!0,this.D&&this.D.ggLoaded&&this.D.ggLoaded(),this.u.Vd&&this.u.enabled&&!this.R.active&&!this.S.Dc&&(this.u.active=!0,this.u.jc=0)):this.Ke=i/(1*e)}},t.prototype.Pf=function(){var t=new Date;for(this.Sa&&""!==this.Gc&&!this.Y&&document.hasOwnProperty(this.Gc)&&document[this.Gc].setPan&&0==this.Di--&&(this.Y=document[this.Gc],this.Hb=this.ka=!1,this.la&&(this.la.style.visibility="hidden"),this.Y.setLocked(!0),this.Y.setSlaveMode(!0),this.Y.readConfigString(this.tf),this.$c("Flash player '"+this.Gc+"' connected.")),this.Bf++,120<=this.Bf&&(this.Bf=0),this.Vf=this.Ne=0,this.fg&&(this.Rc(),this.fg=!1),this.Bj(),this.Cj(),this.Dj();360<this.pan.b;)this.pan.b-=360;for(;-360>this.pan.b;)this.pan.b+=360;this.zj(t),this.Aj(t),this.xk(),0<this.v.mode&&this.Ej(),this.gg(),this.Ca&&(0<this.pe?this.pe--:(this.Ca=!1,this.pe=0),this.S.ld||this.S.Dc||this.Zd());var i=this;setTimeout(function(){i.Pf()},1e3/60)},t.prototype.Xh=function(){var t=this;setTimeout(function(){t.hd(!1)},10),setTimeout(function(){t.hd(!1)},100)},t.prototype.gg=function(){this.sf.Cg(this.pan.b,this.j.b);for(var t=0;t<this.P.length+this.J.length;t++)(t<this.P.length?this.P[t]:this.J[t-this.P.length]).gg()},t.prototype.vg=function(t){p•ø    p•ø                    ÀÂí            	õ    Ø•ø            •ø     @      •ø            hijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),i=i<<2|e>>4,e=(15&e)<<4|h>>2,a=(3&h)<<6|o,s+=String.fromCharCode(i),64!=h&&(s+=String.fromCharCode(e)),64!=o&&(s+=String.fromCharCode(a));while(r<t.length);return s},t.prototype.$j=function(t,i){var e,h,s=this;if(0!=s.Sd.length||!s.C.ze||s.C.ke)if(s.Ub)s.Ub=null,s.L.removeChild(s.Ub);else{s.Ub=document.createElement("div");var a=s.Ub;for(e="left: "+t+"px;"+("top:\t "+i+"px;"),e+="z-index: 32000;",e+="position:relative;",e+="display: table;",e+="background-color: white;",e+="border: 1px solid lightgray;",e+="box-shadow: 1px 1px 3px #333;",e+="font-family: Verdana, Arial, Helvetica, sans-serif;",e+="font-size: 9pt;",e+="opacity : 0.95;",a.setAttribute("style",e),a.setAttribute("class","gg_contextmenu"),e=document.createElement("style"),h=document.createTextNode(".gg_context_row:hover { background-color: #3399FF }"),e.type="text/css",e.styleSheet?e.styleSheet.cssText=h.nodeValue:e.appendChild(h),a.appendChild(e),h=0;h<s.Sd.length;h++){var o=s.Sd[h],r=document.createElement("div");e="text-align: left;",e+="margin: 0;",e+="padding: 5px 20px;",e+="vertical-align: left;",r.setAttribute("style",e),r.setAttribute("class","gg_context_row"),e=document.createElement("a"),e.href=o.url,e.target="_blank",e.innerHTML=o.text,e.setAttribute("style","color: black; text-decoration: none;"),r.appendChild(e),a.appendChild(r)}0<s.Sd.length&&(!s.C.ze||s.C.ke)&&a.appendChild(document.createElement("hr")),s.C.ke&&(h=document.createElement("div"),h.setAttribute("class","gg_context_row"),e="text-align: left;margin: 0;",e+="padding: 5px 20px;",e+="vertical-align: left;",e+="cursor: pointer;",h.setAttribute("style",e),h.onclick=function(){s.cf()},h.innerHTML=s.Be()?"Exit Fullscreen":"Enter Fullscreen",a.appendChild(h)),s.C.ze||(h=document.createElement("div"),e="text-align: left;margin: 0;",e+="padding: 5px 20px;",e+="vertical-align: left;",h.setAttribute("style",e),h.setAttribute("class","gg_context_row"),e=document.createElement("a"),e.href=s.vg("aHR0cDovL3Bhbm8ydnIuY29tLw=="),e.target="_blank",e.innerHTML=s.vg("Q3JlYXRlZCB3aXRoIFBhbm8yVlI="),e.setAttribute("style","color: black; text-decoration: none;"),h.appendChild(e),a.appendChild(h)),s.L.insertBefore(s.Ub,s.L.firstChild),a.onclick=function(){s.Ub&&(s.L.removeChild(s.Ub),s.Ub=null)},a.oncontextmenu=a.onclick}},t.prototype.ni=function(){var t,i=this;t=i.va,i.control=t,i.control=t,i.Xh(),setTimeout(function(){i.Pf()},10),setTimeout(function(){i.wh()},200),setTimeout(function(){i.Qc(),i.Zd()},10),t.addEventListener&&(t.addEventListener("touchstart",function(t){i.qk(t)},!1),t.addEventListener("touchmove",function(t){i.pk(t)},!1),t.addEventListener("touchend",function(t){i.nk(t)},!1),t.addEventListener("touchcancel",function(t){i.mk(t)},!1),t.addEventListener("pointerdown",function(t){i.th(t)},!1),t.addEventListener("MSPointerDown",function(t){i.th(t)},!1),t.addEventListener("MSGestureStart",function(t){i.Jg(t)},!1),t.addEventListener("MSGestureEnd",function(t){i.Ig(t)},!1),t.addEventListener("MSGestureChange",function(t){i.pj(t)},!1),t.addEventListener("gesturestart",function(t){i.Jg(t)},!1),t.addEventListener("gesturechange",function(t){i.Ei(t)},!1),t.addEventListener("gestureend",function(t){i.Ig(t)},!1),t.addEventListener("mousedown",function(t){i.nj(t)},!1),t.addEventListener("mousemove",function(t){i.mj(t)},!1),document.addEventListener("mouseup",function(t){i.lj(t)},!1),t.addEventListener("mousewheel",function(t){i.rh(t)},!1),t.addEventListener("DOMMouseScroll",function(t){i.rh(t)},!1),document.addEventListener("keydown",function(t){i.ij(t)},!1),document.addEventListener("keyup",function(t){i.jj(t)},!1),window.addEventListener("orientationchange",function(){i.Xh()},!1),window.addEventListener("resize",function(){i.Qc()},!1),window.addEventListener("blur",function(){i.uj()},!1),i.L.addEventListener("webkitfullscreenchange",function(){i.Je()},!1),document.addEventListener("mozfullscreenchange",function(){i.Je()},!1),window.addEventListener("webkitfullscreenchange",function(){i.Je()},!1),document.addEventListener("MSFullscreenChange",function(){i.Je()},!1)),t.oncontextmenu=function(t){if(void 0===t&&(t=window.event),t.target&&!i.ic(t.target))return!0;if(!t.ctrlKey){t=i.Cd(t);var e=i.Hc();return i.$j(t.x-e.x,t.y-e.y),!1}return!0}},t.prototype.jg=function(){for(var t=0;t<this.I.length;t++)if("point"==this.I[t].type&&(this.xa&&this.xa.addSkinHotspot?(this.I[t].Vc(),this.I[t].c=new this.xa.addSkinHotspot(this.I[t])):this.I[t].c=new M(this,this.I[t]),this.I[t].c.__div.style.left="-1000px",this.I[t].c.__div.style.top="-1000px",this.I[t].c&&this.I[t].c.__div)){var i=this.va.firstChild;i?this.va.insertBefore(this.I[t].c.__div,i):this.va.appendChild(this.I[t].c.__div)}},t.prototype.ei=function(){var t,i=document.createElement("fakeelement"),e={OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionEnd"};for(t in e)if(void 0!==i.style[t])return e[t]},t.prototype.sc=function(t){var i=[];t=new RegExp(t,"");for(var e=0;e<this.P.length;e++)t.test(this.P[e].id)&&i.push(this.P[e]);for(e=0;e<this.J.length;e++)t.test(this.J[e].id)&&i.push(this.J[e]);for(e=0;e<this.Ua.length;e++)t.test(this.Ua[e].id)&&i.push(this.Ua[e]);return i},t.prototype.xc=function(t){if(this.Sa){var i=this.Y;if(i)return i.isPlaying(t)}else{if("_main"===t)return!0;if(t=this.sc(t),0<t.length)return!t[0].c.ended&&!t[0].c.paused}return!1},t.prototype.bd=function(t,i){if(this.Sa){var e=this.Y;e&&e.playSound(t,i)}else try{for(var e=this.sc(t),h=0;h<e.length;h++){var s=e[h];s.rc=i&&!isNaN(Number(i))?Number(i)-1:s.loop-1,-1==s.rc&&(s.rc=1e7),s.c.play()}}catch(a){}},t.prototype.xh=function(t,i){for(var e=this.sc(t),h=0;h<e.length;h++){var s=e[h];this.xc(s.id)?this.Qf(s.id):this.bd(s.id,i)}},t.prototype.Qf=function(t){if(this.Sa){var i=this.Y;i&&i.pauseSound(t)}else try{if("_main"==t){for(i=0;i<this.P.length;i++)this.P[i].c.pause();for(i=0;i<this.J.length;i++)this.J[i].c.pause()}else for(var e=this.sc(t),i=0;i<e.length;i++)e[i].c.pause()}catch(h){}},t.prototype.ji=function(t,i){for(var e=this.sc(t),h=0;h<e.length;h++){var s=e[h];0==i||1==i?s.Ed&&s.Ed(1==i):2==i&&s.Yb&&s.Yb()}},t.prototype.hk=function(t){var i;if(this.Sa)(i=this.Y)&&i.stopSound(t);else try{if("_main"===t){for(i=0;i<this.P.length;i++)this.P[i].c.pause(),this.P[i].c.currentTime=0;for(i=0;i<this.J.length;i++)this.J[i].c.pause(),this.J[i].c.currentTime=0}else{var e=this.sc(t);for(i=0;i<e.length;i++){var h=e[i];h.c&&h.c.pause&&(h.c.pause(),h.c.currentTime=0)}}}catch(s){}},t.prototype.Yj=function(t,i){if(this.Sa){var e=this.Y;e&&e.setVolume(t,i)}else try{var h=Number(i);if(1<h&&(h=1),0>h&&(h=0),"_video"===t&&this.o.c&&(this.o.c.volume=h),"_main"===t){for(this.ba=h,e=0;e<this.P.length;e++)this.P[e].c.volume=this.P[e].level*this.ba;for(e=0;e<this.J.length;e++)this.J[e].c.volume=this.J[e].level*this.ba;this.o.c&&(this.o.c.volume=this.ba)}else for(var s=this.sc(t),e=0;e<s.length;e++){var a=s[e];a.c&&a.c.volume&&(a.level=h,a.c.volume=h*this.ba)}}catch(o){}},t.prototype.wi=function(t,i){if(this.Sa){var e=this.Y;e&&e.changeVolume(t,i)}else try{var h;if("_video"===t&&this.o.c&&(this.o.c.volume=this.o.c.volume+Number(i)),"_main"===t){for(e=this.ba,e+=Number(i),1<e&&(e=1),0>e&&(e=0),this.ba=e,h=0;h<this.P.length;h++)this.P[h].c.volume=this.P[h].level*this.ba;for(h=0;h<this.J.length;h++)this.J[h].c.volume=this.J[h].level*this.ba;this.o.c&&(this.o.c.volume=this.ba)}else{var s=this.sc(t);for(h=0;h<s.length;h++){var a=s[h],e=a.level,e=e+Number(i);1<e&&(e=1),0>e&&(e=0),a.level=e,a.c.volume=e*this.ba}}}catch(o){}},t.prototype.Oh=function(){try{for(var t=this,i=!1,e=!1,h=0;h<this.P.length;h++){var s=this.P[h];-1!=s.loop&&(this.lb&&this.ra.enabled&&4!=s.mode&&6!=s.mode?this.ra.sg?(s.c.play(),s.c.currentTime=0,s.aa=0,e=!0):i=!0:4==s.mode||6==s.mode||"_background"==s.id&&this.xc(s.id)||(s.c.play(),s.c.currentTime&&(s.c.currentTime=0)))}i&&setTimeout(function(){t.ra.fk()},1e3*this.ra.Ec),e&&(this.ra.ck=this.lb.currentTime,this.ra.bk=setInterval(function(){t.ra.Ci()},10))}catch(a){}},t.prototype.Bh=function(){for(var t;0<this.I.length;)t=this.I.pop(),t.c&&(this.va.removeChild(t.c.__div),delete t.c),t.c=null},t.prototype.Zj=function(){this.L.style.zIndex="auto",this.w.style.zIndex="auto",this.Ea&&this.Ea.ac&&(this.Ea.ac.zIndex=900..toString()),this.va.style.zIndex=1e3.toString(),this.la.style.zIndex=900..toString(),this.na.style.zIndex=1100..toString()},t.prototype.hd=function(t){var i=this.isFullscreen!==t;if(this.isFullscreen!==t&&(this.isFullscreen=t,this.update(100)),this.isFullscreen){if(this.ff)try{this.L.webkitRequestFullScreen?this.L.webkitRequestFullScreen():this.L.mozRequestFullScreen?this.L.mozRequestFullScreen():this.L.msRequestFullscreen?this.L.msRequestFullscreen():this.L.requestFullScreen?this.L.requestFullScreen():this.L.requestFullscreen&&this.L.requestFullscreen()}catch(e){}this.L.style.position="absolute",t=this.Hc(),this.L.style.left=window.pageXOffset-t.x+this.margin.left+"px",this.L.style.top=window.pageYOffset-t.y+this.margin.top+"px",document.body.style.overflow="hidden",i&&this.D&&this.D.ggEnterFullscreen&&this.D.ggEnterFullscreen()}else{if(this.ff)try{document.webkitIsFullScreen?document.webkitCancelFullScreen():document.mozFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.fullScreen&&(document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen&&document.exitFullscreen())}catch(e){}this.L.style.position="relative",this.L.style.left="0px",this.L.style.top="0px",document.body.style.overflow="",i&&this.D&&this.D.ggExitFullscreen&&this.D.ggExitFullscreen()}this.Qc()},t.prototype.cf=function(){this.hd(!this.isFullscreen)},t.prototype.Bi=function(){this.hd(!0)},t.prototype.exitFullscreen=function(){this.hd(!1)},t.prototype.Ki=function(){return this.isFullscreen},t.prototype.dk=function(t,i,e){this.u.enabled=!0,this.u.active=!0,this.u.jc=0,this.u.startTime=(new Date).getTime(),t&&0!=t&&(this.u.speed=t),i&&(this.u.timeout=i),e&&(this.u.af=e)},t.prototype.gk=function(){this.u.active=!1,this.u.enabled=!1},t.prototype.lk=function(){this.u.enabled=!this.u.active,this.u.active=this.u.enabled,this.u.jc=0,this.u.enabled&&(this.u.startTime=(new Date).getTime())},t.prototype.rg=function(t){if(this.Tc=document.getElementById(t)){if(this.Tc.innerHTML="",this.L=document.createElement("div"),t="top:\t0px;left: 0px;position:relative;",t+="-ms-touch-action: none;",t+="touch-action: none;",t+="text-align: left;",t+=this.ua+"user-select: none;",this.L.setAttribute("style",t),this.Tc.appendChild(this.L),this.w=document.createElement("div"),t="top:\t0px;left: 0px;",t+="width:  100px;",t+="height: 100px;",t+="overflow: hidden;",t+="position:absolute;",t+="-ms-touch-action: none;",t+="touch-action: none;",t+=this.ua+"user-select: none;",this.w.setAttribute("style",t),this.L.appendChild(this.w),this.Sa){var i=document.createElement("div");t="top:\t0px;left: 0px;",t+="width:  100%;",t+="height: 100%;",t+="overflow: hidden;",t+="position:absolute;",t+="-ms-touch-action: none;",t+="touch-action: none;",t+=this.ua+"user-select: none;",i.setAttribute("id",this.Af),i.setAttribute("style",t),this.w.appendChild(i)}this.Ea&&(this.Ea.ac=document.createElement("canvas"),t="top:\t0px;left: 0px;",t+="width:  100px;",t+="height: 100px;",t+="overflow: hidden;",t+="position:absolute;",t+=this.ua+"user-select: none;",t+=this.ua+"pointer-events: none;",this.Ea.ac.setAttribute("style",t),this.L.appendChild(this.Ea.ac)),this.va=document.createElement("div"),t="top:\t0px;left: 0px;",t+="width:  100px;",t+="height: 100px;",t+="overflow: hidden;",t+="position:absolute;",this.bh&&(t+="background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);"),this.Ic&&!this.ka&&(t+=this.ua+"transform: translateZ(9999999px);"),t+=this.ua+"user-select: none;",this.va.setAttribute("style",t),this.L.appendChild(this.va),this.la=document.createElement("canvas"),t="top:\t0px;left: 0px;",t+="width:  100px;",t+="height: 100px;",t+="overflow: hidden;",t+="position:absolute;",t+=this.ua+"user-select: none;",t+=this.ua+"pointer-events: none;",this.la.setAttribute("style",t),this.L.appendChild(this.la),this.na=document.createElement("div"),t="top:\t0px;left: 0px;",t+="position:absolute;",t+="padding: 3px;",t+="visibility: hidden;",this.na.setAttribute("style",t),this.na.innerHTML=" Hotspot text!",this.L.appendChild(this.na),this.divSkin=this.D=this.va,this.Zj()}else alert("container not found!")},t.prototype.tg=function(t){return this.Ca=!0,function(){t.da&&(t.g&&t.g.complete?(t.loaded=!0,t.da.drawImage(t.g,0,0,t.width,t.height),t.g=null,t.Ac=null):t.Ac&&t.Ac.complete&&!t.loaded&&(t.da.drawImage(t.Ac,0,0,t.width,t.height),t.Ac=null))}},t.prototype.qg=function(t){var i,e,h,s=128;for(this.g.mc&&(this.w.style.backgroundColor=this.g.mc.replace("0x","#")),t?(s=this.td,this.Wd=1):this.nc>s&&(s=this.nc),h=0;6>h;h++){e=this.Pa.Ja[h],t?(e.width=this.td,e.height=this.td):(e.A=document.createElement("canvas"),e.A.width=this.nc,e.A.height=this.nc,e.width=this.nc,e.height=this.nc,e.da=e.A.getContext("2d")),i="position:absolute;",i+="left: 0px;",i+="top: 0px;",i+="width: "+s+"px;",i+="height: "+s+"px;",t&&(i+="outline: 1px solid transparent;"),i+=this.ua+"transform-origin: 0% 0%;",i+="-webkit-user-select: none;",i+=this.ua+"transform: ";var a;a="";var o=1;this.fd&&(o=100),a=4>h?a+("rotateY("+-90*h+"deg)"):a+("rotateX("+(4==h?-90:90)+"deg)"),this.fd&&(a+=" scale("+o+")"),a+=" translate3d("+-s/2+"px,"+-s/2+"px,"+-s*o/(2*this.Wd)+"px)",i+=a+";",e.Sg=a,t||(e.A.setAttribute("style",i),this.w.insertBefore(e.A,this.w.firstChild))}if(!t){for(h=0;6>h;h++)e=this.Pa.Ja[h],""!=this.Uc[h]&&(e.Ac=new Image,e.Ac.onload=this.tg(e),e.Ac.setAttribute("src",this.ub(this.Uc[h])),this.bb.push(e.Ac));for(h=0;6>h;h++)e=this.Pa.Ja[h],e.loaded=!1,e.g=new Image,e.g.onload=this.tg(e),e.g.setAttribute("src",this.ub(this.le[h])),this.bb.push(e.g)}},t.prototype.Ch=function(){var t;if(this.Hb){for(t=0;t<this.Pa.Ja.length;t++)this.Pa.Ja[t].A&&this.Pa.Ja[t].A.setAttribute&&(this.Pa.Ja[t].A.setAttribute("src",this.xg),this.w.removeChild(this.Pa.Ja[t].A));if(this.g.K){for(t=0;t<this.g.K.length;t++){var i,e=this.g.K[t];for(i in e.$)if(e.$.hasOwnProperty(i)){var h=e.$[i];h.visible=!1,h.A&&(h.da&&(h.da.clear?h.da.clear():h.da.clearRect(0,0,h.da.canvas.width,h.da.canvas.height)),this.df.push(h.A)),h.g&&delete h.g,h.Pb&&this.a.deleteTexture(h.Pb),h.da=null,h.A=null,h.g=null}delete e.$}delete this.g.K,this.g.K=null}}if(this.a&&this.eb)for(;0<this.eb.length;)i=this.eb.pop(),i.sj=!0,this.a.deleteTexture(i);for(t=0;t<this.J.length;t++)this.J[t].ed();for(t=0;t<this.Ua.length;t++)this.Ua[t].ed();for(this.v.Md=-1,this.la.style.visibility="hidden",this.rb=0,i=[],this.ra.Yd=[],t=0;t<this.P.length;t++)if(e=this.P[t],0==e.mode||1==e.mode)i.push(e);else if(this.lb&&this.ra.enabled&&this.xc(e.id))this.ra.Yd.push(e),1!=this.S.Ba&&2!=this.S.Ba&&this.ra.yf(e);else{try{e.c.pause()}catch(s){}e.ed()}this.P=i,this.J=[],this.Ua=[],this.o.c&&(this.L.removeChild(this.o.c),this.o.c=null),this.o.Zc=!1,this.o.Ce=!1},t.prototype.Pg=function(){var t=1,i=-1!=navigator.userAgent.indexOf("Mac");return window.devicePixelRatio&&i&&(t=window.devicePixelRatio),{gf:screen.width*t,ye:screen.height*t}},t.prototype.Mg=function(){var t=this.Pg();return t.gf>t.ye?t.gf:t.ye},t.prototype.Uf=function(t,i){var e=(new DOMParser).parseFromString(t,"text/xml");this.tf=t,this.Ah(e,i),this.Y&&(this.Y.readConfigString(this.tf),this.Y.setLocked(!0),this.Y.setSlaveMode(!0))},t.prototype.zh=function(t,i,e){try{var h;if(h=new XMLHttpRequest,h.open("GET",t,!1),h.send(null),h.responseXML){var s=t.lastIndexOf("/");0<=s&&(this.oc=t.substr(0,s+1)),2<=arguments.length&&null!=i&&(this.oc=i),this.Uf(h.responseText,e)}else alert("Error loading panorama XML")}catch(a){alert("Error:"+a)}},t.prototype.Fj=function(t,i,e,h){var s;s=new XMLHttpRequest;var a=this;s.onload=function(o){if(4<=s.readyState)if(s.responseXML){var r=t.lastIndexOf("/");0<=r&&(a.oc=t.substr(0,r+1)),3<=arguments.length&&null!=e&&(a.oc=e),a.Uf(s.responseText,h),i&&i()}else alert("Error loading panorama XML");else console.error("Wrong state loading XML:"+s.statusText)},s.onerror=function(){console.error("Error loading XML:"+s.statusText)},s.open("GET",t,!0),s.send(null)},t.prototype.nf=function(t){this.Rh("beforechangenode",{tj:this.currentNode,Mk:t}),""!=this.currentNode&&-1==this.ig.indexOf(this.currentNode)&&this.ig.push(this.currentNode),"{"==t.charAt(0)?this.currentNode=t.substr(1,t.length-2):this.currentNode="",this.xa&&this.xa.changeActiveNode&&this.xa.changeActiveNode(t),this.Rh("changenode",{tj:this.currentNode,Lk:t})},t.prototype.Kg=function(){return this.currentNode},t.prototype.Ng=function(){if(0<this.sa.length){var t;return t=this.sa.indexOf(this.currentNode),t++,t>=this.sa.length&&(t=0),this.sa[t]}return""},t.prototype.Yi=function(){if(0<this.sa.length){var t;return t=this.sa.indexOf(this.currentNode),t--,0>t&&(t=this.sa.length-1),this.sa[t]}return""},t.prototype.rj=function(t){return-1!=this.ig.indexOf(t)},t.prototype.Ah=function(t,i){var e=t.firstChild;if(this.Oc=[],this.sa=[],"tour"==e.nodeName){this.Kd=!0;var h,s="";(h=e.getAttributeNode("start"))&&(s=h.nodeValue.toString()),this.hasOwnProperty("startNode")&&this.startNode&&(s=String(this.startNode),this.startNode="");for(var e=e.firstChild,a=h="";e;)"panorama"==e.nodeName&&(h=e.getAttributeNode("id"))&&(h=h.nodeValue.toString(),""==s&&(s=h),""==a&&(a=h),this.Oc[h]=e,this.sa.push(h)),e=e.nextSibling;this.Oc.hasOwnProperty(s)||(this.$c("Start node "+s+" not found!"),s=a),this.Tf(this.Oc[s],i),this.nf("{"+s+"}")}else this.Kd=!1,this.Tf(e,i),this.nf(""),this.sa.push("")},t.prototype.Tf=function(t,i){this.Bh(),this.Ea&&this.Ea.Hj(),this.gd(this.Qa),this.Ch(),this.Nd=0;for(var e,h,s,a=t.firstChild,o=0;a;){if("view"==a.nodeName)for((e=a.getAttributeNode("fovmode"))&&(this.f.mode=Number(e.nodeValue)),e=a.getAttributeNode("pannorth"),this.pan.Nf=1*(e?e.nodeValue:0),h=a.firstChild;h;)"start"==h.nodeName&&(e=h.getAttributeNode("pan"),this.pan.b=Number(e?e.nodeValue:0),this.pan.fb=this.pan.b,e=h.getAttributeNode("tilt"),this.j.b=Number(e?e.nodeValue:0),this.j.fb=this.j.b,e=h.getAttributeNode("roll"),this.G.b=Number(e?e.nodeValue:0),this.G.fb=this.G.b,e=h.getAttributeNode("fov"),this.f.b=Number(e?e.nodeValue:70),this.f.fb=this.f.b),"min"==h.nodeName&&(e=h.getAttributeNode("pan"),this.pan.min=1*(e?e.nodeValue:0),e=h.getAttributeNode("tilt"),this.j.min=1*(e?e.nodeValue:-90),e=h.getAttributeNode("fov"),this.f.min=1*(e?e.nodeValue:5),1e-20>this.f.min&&(this.f.min=1e-20),e=h.getAttributeNode("fovpixel"),this.f.Td=1*(e?e.nodeValue:0)),"max"==h.nodeName&&(e=h.getAttributeNode("pan"),this.pan.max=1*(e?e.nodeValue:0),e=h.getAttributeNode("tilt"),this.j.max=1*(e?e.nodeValue:90),e=h.getAttributeNode("fov"),this.f.max=1*(e?e.nodeValue:120),180<=this.f.max&&(this.f.max=179.9)),h=h.nextSibling;if("autorotate"==a.nodeName&&((e=a.getAttributeNode("speed"))&&(this.u.speed=1*e.nodeValue),(e=a.getAttributeNode("delay"))&&(this.u.timeout=1*e.nodeValue),(e=a.getAttributeNode("returntohorizon"))&&(this.u.af=1*e.nodeValue),(e=a.getAttributeNode("nodedelay"))&&(this.u.Ie=1*e.nodeValue),(e=a.getAttributeNode("noderandom"))&&(this.u.Mf=1==e.nodeValue),this.re&&(this.u.enabled=!0,this.u.active=!1),(e=a.getAttributeNode("startloaded"))&&(this.u.Vd=1==e.nodeValue,this.u.Vd&&(this.u.active=!1)),(e=a.getAttributeNode("useanimation"))&&(this.u.ai=1==e.nodeValue)),"animation"==a.nodeName)for(this.qc=[],h=a.firstChild;h;){if("clip"==h.nodeName){this.T={},(e=h.getAttributeNode("animtitle"))&&(this.T.animtitle=e.nodeValue.toString()),(e=h.getAttributeNode("cliptitle"))&&(this.T.cliptitle=e.nodeValue.toString()),(e=h.getAttributeNode("nodeid"))&&(this.T.nodeid=e.nodeValue.toString()),(e=h.getAttributeNode("length"))&&(this.T.length=Number(e.nodeValue)),(e=h.getAttributeNode("animtype"))&&(this.T.animtype=Number(e.nodeValue)),(e=h.getAttributeNode("nextcliptitle"))&&(this.T.nextcliptitle=e.nodeValue.toString()),(e=h.getAttributeNode("nextclipnodeid"))&&(this.T.nextclipnodeid=e.nodeValue.toString()),(e=h.getAttributeNode("transitiontype"))&&(this.T.transitiontype=Number(e.nodeValue));var r=h.firstChild;for(this.T.keyframes=[];r;){if("keyframe"==r.nodeName){var n={};(e=r.getAttributeNode("time"))&&(n.time=Number(e.nodeValue)),(e=r.getAttributeNode("value"))&&(n.value=Number(e.nodeValue)),e=r.getAttributeNode("type");var l=0;e&&(n.type=Number(e.nodeValue),l=Number(e.nodeValue)),(e=r.getAttributeNode("property"))&&(n.property=Number(e.nodeValue)),1!=l&&2!=l||((e=r.getAttributeNode("bezierintime"))&&(n.bezierintime=Number(e.nodeValue)),(e=r.getAttributeNode("bezierinvalue"))&&(n.bezierinvalue=Number(e.nodeValue)),(e=r.getAttributeNode("bezierouttime"))&&(n.bezierouttime=Number(e.nodeValue)),(e=r.getAttributeNode("bezieroutvalue"))&&(n.bezieroutvalue=Number(e.nodeValue))),this.T.keyframes.push(n)}r=r.nextSibling}this.lc==this.T.cliptitle&&(e=this.T.keyframes,this.Zf(e[0].value,e[1].value,e[2].value)),this.qc.push(this.T)}h=h.nextSibling}if("input"==a.nodeName&&(s||(s=a)),s)for(h=0;6>h;h++)e=s.getAttributeNode("prev"+h+"url"),this.Uc[h]=e?String(e.nodeValue):"";if("altinput"==a.nodeName&&(h=0,(e=a.getAttributeNode("screensize"))&&(h=1*e.nodeValue),0<h&&h<=this.Mg()&&h>o&&(o=h,s=a)),"control"==a.nodeName&&this.re)for((e=a.getAttributeNode("simulatemass"))&&(this.B.enabled=1==e.nodeValue),(e=a.getAttributeNode("locked"))&&(this.C.Wa=1==e.nodeValue),e&&(this.C.Pd=1==e.nodeValue),(e=a.getAttributeNode("lockedmouse"))&&(this.C.Wa=1==e.nodeValue),(e=a.getAttributeNode("lockedkeyboard"))&&(this.C.Pd=1==e.nodeValue),(e=a.getAttributeNode("lockedkeyboardzoom"))&&(this.C.Kf=1==e.nodeValue),(e=a.getAttributeNode("lockedwheel"))&&(this.C.Lf=1==e.nodeValue),(e=a.getAttributeNode("invertwheel"))&&(this.C.Zg=1==e.nodeValue),(e=a.getAttributeNode("speedwheel"))&&(this.C.Mh=1*e.nodeValue),(e=a.getAttributeNode("invertcontrol"))&&(this.C.wc=1==e.nodeValue),(e=a.getAttributeNode("sensitivity"))&&(this.C.sensitivity=1*e.nodeValue,1>this.C.sensitivity&&(this.C.sensitivity=1)),(e=a.getAttributeNode("dblclickfullscreen"))&&(this.C.vf=1==e.nodeValue),(e=a.getAttributeNode("contextfullscreen"))&&(this.C.ke=1==e.nodeValue),(e=a.getAttributeNode("hideabout"))&&(this.C.ze=1==e.nodeValue),h=a.firstChild;h;)"menulink"==h.nodeName&&(r={text:"",url:""},e=h.getAttributeNode("text"),r.text=e.nodeValue,e=h.getAttributeNode("url"),r.url=e.nodeValue,this.Sd.push(r)),h=h.nextSibling;if("transition"==a.nodeName&&((e=a.getAttributeNode("enabled"))&&(this.S.enabled=1==e.nodeValue),(e=a.getAttributeNode("blendtime"))&&(this.S.mg=e.nodeValue),(e=a.getAttributeNode("blendcolor"))&&(this.S.he=e.nodeValue.toString()),(e=a.getAttributeNode("type"))&&(this.S.type=e.nodeValue.toString()),(e=a.getAttributeNode("softedge"))&&(this.S.Zb=1*e.nodeValue),(e=a.getAttributeNode("zoomin"))&&(this.S.Ba=e.nodeValue),(e=a.getAttributeNode("zoomout"))&&(this.S.Kb=e.nodeValue),(e=a.getAttributeNode("zoomfov"))&&(this.S.jf=e.nodeValue),(e=a.getAttributeNode("zoomspeed"))&&(this.S.fe=e.nodeValue),(e=a.getAttributeNode("zoomoutpause"))&&(this.S.kf=1==e.nodeValue)),"soundstransition"==a.nodeName&&((e=a.getAttributeNode("enabled"))&&(this.ra.enabled=1==e.nodeValue),(e=a.getAttributeNode("transitiontime"))&&(this.ra.Ec=1*e.nodeValue),(e=a.getAttributeNode("crossfade"))&&(this.ra.sg=1==e.nodeValue)),"userdata"==a.nodeName&&(this.userdata=this.od=this.qe(a)),"hotspots"==a.nodeName)for(h=a.firstChild;h;)"label"==h.nodeName&&(r=this.v.dg,(e=h.getAttributeNode("enabled"))&&(r.enabled=1==e.nodeValue),(e=h.getAttributeNode("width"))&&(r.width=1*e.nodeValue),(e=h.getAttributeNode("height"))&&(r.height=1*e.nodeValue),(e=h.getAttributeNode("textcolor"))&&(r.eg=1*e.nodeValue),(e=h.getAttributeNode("textalpha"))&&(r.cg=1*e.nodeValue),(e=h.getAttributeNode("background"))&&(r.background=1==e.nodeValue),(e=h.getAttributeNode("backgroundalpha"))&&(r.Mb=1*e.nodeValue),(e=h.getAttributeNode("backgroundcolor"))&&(r.mb=1*e.nodeValue),(e=h.getAttributeNode("border"))&&(r.mf=1*e.nodeValue),(e=h.getAttributeNode("bordercolor"))&&(r.ob=1*e.nodeValue),(e=h.getAttributeNode("borderalpha"))&&(r.Nb=1*e.nodeValue),(e=h.getAttributeNode("borderradius"))&&(r.lf=1*e.nodeValue),(e=h.getAttributeNode("wordwrap"))&&(r.hf=1==e.nodeValue)),"polystyle"==h.nodeName&&((e=h.getAttributeNode("mode"))&&(this.v.mode=1*e.nodeValue),(e=h.getAttributeNode("bordercolor"))&&(this.v.ob=1*e.nodeValue),(e=h.getAttributeNode("backgroundcolor"))&&(this.v.mb=1*e.nodeValue),(e=h.getAttributeNode("borderalpha"))&&(this.v.Nb=1*e.nodeValue),(e=h.getAttributeNode("backgroundalpha"))&&(this.v.Mb=1*e.nodeValue),(e=h.getAttributeNode("handcursor"))&&(this.v.Xc=1==e.nodeValue)),e=void 0,"hotspot"==h.nodeName&&(e=new Y(this),e.type="point",e.Za(h),this.I.push(e)),"polyhotspot"==h.nodeName&&(e=new Y(this),e.type="poly",e.Za(h),this.I.push(e)),h=h.nextSibling;if("sounds"==a.nodeName||"media"==a.nodeName)for(h=a.firstChild;h;)"sound"!=h.nodeName||this.uh||(e=new U(this),e.Za(h),this.Sa||e.addElement()),"video"==h.nodeName&&(e=new V(this),e.Za(h),this.Sa||e.addElement()),"image"==h.nodeName&&(e=new W(this),e.Za(h),this.Sa||e.addElement()),"lensflare"==h.nodeName&&this.Ea&&(e=new X(this),e.Za(h),this.Ea.Od.push(e)),h=h.nextSibling;a=a.nextSibling}if(i&&""!=i&&(a=i.toString().split("/"),0<a.length&&(e=String(a[0]),"N"==e.charAt(0)?this.Yf(Number(e.substr(1))):"S"==e.charAt(0)?this.Yf(-180+Number(e.substr(1))):this.Xf(Number(e))),1<a.length&&this.$f(Number(a[1])),2<a.length&&this.Re(Number(a[2]))),s){for(h=0;6>h;h++)(e=s.getAttributeNode("tile"+h+"url"))&&(this.le[h]=String(e.nodeValue)),e=s.getAttributeNode("tile"+h+"url1");for(h=0;6>h;h++)(e=s.getAttributeNode("prev"+h+"url"))&&(this.Uc[h]=String(e.nodeValue));for((e=s.getAttributeNode("tilesize"))&&(this.nc=1*e.nodeValue),(e=s.getAttributeNode("canvassize"))&&(this.td=Number(e.nodeValue)),(e=s.getAttributeNode("tilescale"))&&(this.Wd=1*e.nodeValue),(e=s.getAttributeNode("leveltileurl"))&&(this.g.oh=e.nodeValue),(e=s.getAttributeNode("leveltilesize"))&&(this.g.Z=Number(e.nodeValue)),(e=s.getAttributeNode("levelbias"))&&(this.g.mh=Number(e.nodeValue)),(e=s.getAttributeNode("levelbiashidpi"))&&(this.g.nh=Number(e.nodeValue)),e=s.getAttributeNode("overlap"),this.oa.G=0,this.oa.pitch=0,e&&(this.g.Va=Number(e.nodeValue)),(e=s.getAttributeNode("levelingroll"))&&(this.oa.G=Number(e.nodeValue)),(e=s.getAttributeNode("levelingpitch"))&&(this.oa.pitch=Number(e.nodeValue)),this.rb=0,(e=s.getAttributeNode("flat"))&&1==e.nodeValue&&(this.rb=2),e=s.getAttributeNode("width"),this.g.width=1*(e?e.nodeValue:1),e=s.getAttributeNode("height"),this.g.height=1*(e?e.nodeValue:this.g.width),this.o.src=[],this.g.K=[],h=s.firstChild;h;){if("preview"==h.nodeName&&((e=h.getAttributeNode("color"))&&(this.g.mc=e.nodeValue),(e=h.getAttributeNode("strip"))&&(this.g.yh=1==e.nodeValue)),"video"==h.nodeName)for((e=h.getAttributeNode("format"))&&(this.o.format=e.nodeValue.toString()),(e=h.getAttributeNode("bleed"))&&(this.o.ge=Number(e.nodeValue)),(e=h.getAttributeNode("endaction"))&&(this.o.Fc=String(e.nodeValue)),(e=h.getAttributeNode("width"))&&(this.o.width=Number(e.nodeValue)),(e=h.getAttributeNode("height"))&&(this.o.height=Number(e.nodeValue)),s=h.firstChild;s;)"source"==s.nodeName&&(e=s.getAttributeNode("url"))&&this.o.src.push(e.nodeValue.toString()),s=s.nextSibling;"level"==h.nodeName&&(s={width:0,height:0,cache:!1,Sf:!1,Ma:0,Fb:0,$:[]},e=h.getAttributeNode("width"),s.width=1*(e?e.nodeValue:1),e=h.getAttributeNode("height"),s.height=1*(e?e.nodeValue:s.width),(e=h.getAttributeNode("preload"))&&(s.cache=1==e.nodeValue),(e=h.getAttributeNode("preview"))&&(s.Sf=1==e.nodeValue),s.Ma=Math.floor((s.width+this.g.Z-1)/this.g.Z),s.Fb=Math.floor((s.height+this.g.Z-1)/this.g.Z),this.g.K.push(s)),h=h.nextSibling}this.g.kh=this.g.K.length}this.$d&&(this.ka=this.Hb=!1,this.pb||(this.pb=document.createElement("canvas"),this.pb.width=100,this.pb.height=100,this.pb.id="dummycanvas",this.w.appendChild(this.pb)),this.Rc()),this.ka&&this.a&&(this.Xg(this.Wd),this.Yg()),this.Hb&&(0<this.g.K.length?this.qg(!0):this.qg(!1),this.Nd=0);var u=this;if(0<this.g.K.length&&this.g.yh&&0==this.rb&&(s=new Image,s.onload=this.qj(s),s.setAttribute("src",this.$e(6,this.g.K.length-1,0,0))),0<this.o.src.length)if(this.If)"{"==this.o.Fc.charAt(0)&&u.Lc(u.o.Fc,"$fwd");else{for(this.o.c=document.createElement("video"),this.o.c.setAttribute("style","display:none; max-width:none;"),this.o.c.ii=!0,this.o.c.volume=this.ba,this.L.appendChild(this.o.c),
this.o.Zc=!1,this.o.c.oncanplay=function(){if(!u.o.Zc){u.o.Ce=!0;var t,i,e,h,s,a,o=[],r=new y,n=u.a,l=u.o.c.videoWidth/3;for(t=0;6>t;t++)for(e=t%3*l+u.o.ge,s=e+l-2*u.o.ge,h=4,3<=t&&(h+=l),a=h+l-2*u.o.ge,i=0;4>i;i++){r.x=-1,r.y=-1,r.z=1;for(var d=0;d<i;d++)r.Gh();o.push((0<r.x?e:s)/(3*l),(0<r.y?h:a)/(2*l))}n.bindBuffer(n.ARRAY_BUFFER,u.o.Xe),n.bufferData(n.ARRAY_BUFFER,new Float32Array(o),n.STATIC_DRAW)}},"exit"==this.o.Fc?this.o.c.onended=function(){u.o.Ce=!1,u.o.Zc=!1,u.L.removeChild(this.o.c),u.o.c=null}:"stop"==this.o.Fc?u.o.c.onended=function(){}:"{"==this.o.Fc.charAt(0)?this.o.c.onended=function(){u.Lc(u.o.Fc,"$fwd")}:this.o.c.loop=!0,s=0;s<this.o.src.length;s++)a=document.createElement("source"),a.setAttribute("src",this.ub(this.o.src[s])),this.o.c.appendChild(a);this.o.c.play()}this.jg(),this.S.Dc||this.Oh(),this.update(),this.re&&this.D&&this.D.ggViewerInit&&this.D.ggViewerInit(),this.re=!1,this.Id=!0,this.Rc()},t.prototype.Of=function(t,i){0<t.length&&(".xml"==t.substr(t.length-4)||".swf"==t.substr(t.length-4)||"{"==t.charAt(0)?this.Lc(this.ub(t),i):window.open(this.ub(t),i))},t.prototype.ek=function(){this.Id=this.isLoaded=!1,this.checkLoaded=this.bb=[],this.Ke=0,this.D&&this.D.ggReLoaded&&this.D.ggReLoaded()},t.prototype.Lc=function(t,i){this.ek(),this.xa&&this.xa.hotspotProxyOut&&this.xa.hotspotProxyOut(this.ma.id),".swf"==t.substr(t.length-4)&&(t=t.substr(0,t.length-4)+".xml");var e="";if(i&&(e=i.toString()),e=e.replace("$cur",this.pan.b+"/"+this.j.b+"/"+this.f.b),e=e.replace("$fwd","N"+this.ve()+"/"+this.j.b+"/"+this.f.b),e=e.replace("$bwd","S"+this.ve()+"/"+this.j.b+"/"+this.f.b),e=e.replace("$ap",String(this.pan.b)),e=e.replace("$an",String(this.ve())),e=e.replace("$at",String(this.j.b)),e=e.replace("$af",String(this.f.b)),""!=e){var h=e.split("/");3<h.length&&""!=h[3]&&(this.startNode=h[3])}if(this.ia(),"{"==t.charAt(0)){var h=t.substr(1,t.length-2),s=this.S,a=this.a;if(!this.Oc[h])return void this.$c("invalid node id: "+h);if(0==this.rb&&this.S.enabled&&this.ka&&this.S.kb){s.ld||s.Dc||(s.sh=this.C.Wa,s.fh=this.C.Pd,this.Te(!0),this.Se(!0));var o;"wipeleftright"==s.type?o=1:"wiperightleft"==s.type?o=2:"wipetopbottom"==s.type?o=3:"wipebottomtop"==s.type?o=4:"wiperandom"==s.type&&(o=Math.ceil(4*Math.random())),s.uf=o,a.bindFramebuffer(a.FRAMEBUFFER,s.kb),a.viewport(0,0,s.kb.width,s.kb.height),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),s.Xd=!0,this.Zd(),s.Xd=!1,a.bindFramebuffer(a.FRAMEBUFFER,null),a.viewport(0,0,this.Ta.width,this.Ta.height),o=new Date,this.ma!=this.Qa?(s.de=this.ma.sb/this.l.width,s.ee=1-this.ma.Ya/this.l.height):(s.de=.5,s.ee=.5),1!=s.Ba&&2!=s.Ba?(s.bg=o.getTime(),s.ld=!0):(s.gi=o.getTime(),s.Dc=!0,s.Na=Math.sin(this.Wb()/2*Math.PI/180)/Math.sin(s.jf/2*Math.PI/180),s.Na=Math.max(s.Na,1),s.fi=1/s.fe*s.Na*.3)}this.Tf(this.Oc[h],e),this.nf(t),s.enabled&&this.ka&&(1==s.Kb||2==s.Kb||3==s.Kb)&&(s.Ve=this.ue(),s.We=this.we(),s.jd=this.Wb(),1==s.Kb||3==s.Kb?this.Ue(s.jf):this.Ue(this.Bd()+(this.Bd()-s.jf)),s.kf||1==s.Ba||2==s.Ba||this.moveTo(s.Ve,s.We,s.jd,s.fe)),this.Y&&this.Y.openNext(t,e)}else this.zh(t,null,e);this.update(5)},t.prototype.Pi=function(){return this.Kd?this.sa.slice(0):[""]},t.prototype.qe=function(t){var i,e;if(e=[],e.title="",e.description="",e.author="",e.datetime="",e.copyright="",e.source="",e.information="",e.comment="",e.latitude=0,e.longitude=0,e.tags=[],t&&((i=t.getAttributeNode("title"))&&(e.title=i.nodeValue.toString()),(i=t.getAttributeNode("description"))&&(e.description=i.nodeValue.toString()),(i=t.getAttributeNode("author"))&&(e.author=i.nodeValue.toString()),(i=t.getAttributeNode("datetime"))&&(e.datetime=i.nodeValue.toString()),(i=t.getAttributeNode("copyright"))&&(e.copyright=i.nodeValue.toString()),(i=t.getAttributeNode("source"))&&(e.source=i.nodeValue.toString()),(i=t.getAttributeNode("info"))&&(e.information=i.nodeValue.toString()),(i=t.getAttributeNode("comment"))&&(e.comment=i.nodeValue.toString()),(i=t.getAttributeNode("latitude"))&&(e.latitude=Number(i.nodeValue)),(i=t.getAttributeNode("longitude"))&&(e.longitude=Number(i.nodeValue)),i=t.getAttributeNode("tags"))){for(t=i.nodeValue.toString().split("|"),i=0;i<t.length;i++)""==t[i]&&(t.splice(i,1),i--);e.tags=t}return e},t.prototype.Cf=function(t){if(!t)return this.od;if(t=this.Oc[t])for(t=t.firstChild;t;){if("userdata"==t.nodeName)return this.qe(t);t=t.nextSibling}return this.qe()},t.prototype.Qi=function(t){t=this.Cf(t);var i=[];return""!=t.latitude&&0!=t.latitude&&0!=t.longitude&&(i.push(t.latitude),i.push(t.longitude)),i},t.prototype.Ri=function(t){return this.Cf(t).title},t.prototype.Lg=function(t,i){var e;for(e=0;e<this.T.keyframes.length;e++)if(this.T.keyframes[e].time==t&&this.T.keyframes[e].property==i)return this.T.keyframes[e];return!1},t.prototype.Oi=function(t){var i,e=1e5,h=t,s=!1;for(i=0;i<this.T.keyframes.length;i++)this.T.keyframes[i].property==t.property&&this.T.keyframes[i].time>t.time&&this.T.keyframes[i].time<e&&(h=this.T.keyframes[i],e=h.time,s=!0);return!!s&&h},t.prototype.Fk=function(){this.o.c&&this.o.c.play()},t.prototype.Gk=function(){this.o.c&&(this.o.c.pause(),this.o.c.time=0)},t.prototype.Ek=function(){this.o.c&&this.o.c.pause()},t.prototype.Xj=function(t){this.o.c&&(0>t&&(t=0),t>this.o.c.duration&&(t=this.o.c.duration-.1),this.o.c.currentTime=t,this.update())},t.prototype.cj=function(){return this.o.c?this.o.c.currentTime:0},t.prototype.bj=function(){if(this.o.c)return this.o.c},t.prototype.Ai=function(){this.uh=!0},t}();window.pano2vrPlayer=Z,Z.prototype.readConfigString=Z.prototype.Uf,Z.prototype.readConfigUrl=Z.prototype.zh,Z.prototype.readConfigUrlAsync=Z.prototype.Fj,Z.prototype.readConfigXml=Z.prototype.Ah,Z.prototype.openUrl=Z.prototype.Of,Z.prototype.openNext=Z.prototype.Lc,Z.prototype.setMargins=Z.prototype.Sj,Z.prototype.addListener=Z.prototype.addListener,Z.prototype.removeEventListener=Z.prototype.removeEventListener,Z.prototype.detectBrowser=Z.prototype.wg,Z.prototype.initWebGL=Z.prototype.vc,Z.prototype.getPercentLoaded=Z.prototype.Ui,Z.prototype.setBasePath=Z.prototype.Nj,Z.prototype.getBasePath=Z.prototype.Fi,Z.prototype.setViewerSize=Z.prototype.Kh,Z.prototype.getViewerSize=Z.prototype.fj,Z.prototype.setSkinObject=Z.prototype.Wj,Z.prototype.changeViewMode=Z.prototype.ui,Z.prototype.getViewMode=Z.prototype.dj,Z.prototype.changePolygonMode=Z.prototype.pg,Z.prototype.setPolygonMode=Z.prototype.pg,Z.prototype.getPolygonMode=Z.prototype.Wi,Z.prototype.changeViewState=Z.prototype.vi,Z.prototype.getViewState=Z.prototype.ej,Z.prototype.setRenderFlags=Z.prototype.Uj,Z.prototype.getRenderFlags=Z.prototype.Zi,Z.prototype.setMaxTileCount=Z.prototype.Jh,Z.prototype.getVFov=Z.prototype.Wb,Z.prototype.setVFov=Z.prototype.Ue,Z.prototype.updatePanorama=Z.prototype.Zd,Z.prototype.isTouching=Z.prototype.hj,Z.prototype.getIsMobile=Z.prototype.Li,Z.prototype.setIsMobile=Z.prototype.Qj,Z.prototype.getIsAutorotating=Z.prototype.Ji,Z.prototype.getIsTileLoading=Z.prototype.Mi,Z.prototype.getLastActivity=Z.prototype.Ni,Z.prototype.getPan=Z.prototype.ue,Z.prototype.getPanNorth=Z.prototype.ve,Z.prototype.getPanDest=Z.prototype.Si,Z.prototype.getPanN=Z.prototype.Ti,Z.prototype.setPan=Z.prototype.Xf,Z.prototype.setPanNorth=Z.prototype.Yf,Z.prototype.changePan=Z.prototype.ie,Z.prototype.changePanLog=Z.prototype.si,Z.prototype.getTilt=Z.prototype.we,Z.prototype.getTiltDest=Z.prototype.aj,Z.prototype.setTilt=Z.prototype.$f,Z.prototype.changeTilt=Z.prototype.je,Z.prototype.changeTiltLog=Z.prototype.ti,Z.prototype.getFov=Z.prototype.Bd,Z.prototype.getFovDest=Z.prototype.Hi,Z.prototype.setFov=Z.prototype.Re,Z.prototype.changeFov=Z.prototype.og,Z.prototype.changeFovLog=Z.prototype.ud,Z.prototype.getRoll=Z.prototype.$i,Z.prototype.setRoll=Z.prototype.Vj,Z.prototype.setPanTilt=Z.prototype.Tj,Z.prototype.setPanTiltFov=Z.prototype.Zf,Z.prototype.setDefaultView=Z.prototype.Oj,Z.prototype.setLocked=Z.prototype.Rj,Z.prototype.setLockedMouse=Z.prototype.Te,Z.prototype.setLockedKeyboard=Z.prototype.Se,Z.prototype.setLockedWheel=Z.prototype.Ih,Z.prototype.moveTo=Z.prototype.moveTo,Z.prototype.moveToDefaultView=Z.prototype.oj,Z.prototype.addHotspotElements=Z.prototype.jg,Z.prototype.playSound=Z.prototype.bd,Z.prototype.playPauseSound=Z.prototype.xh,Z.prototype.pauseSound=Z.prototype.Qf,Z.prototype.activateSound=Z.prototype.ji,Z.prototype.isPlaying=Z.prototype.xc,Z.prototype.stopSound=Z.prototype.hk,Z.prototype.setVolume=Z.prototype.Yj,Z.prototype.changeVolume=Z.prototype.wi,Z.prototype.removeHotspots=Z.prototype.Bh,Z.prototype.addHotspot=Z.prototype.ki,Z.prototype.updateHotspot=Z.prototype.tk,Z.prototype.removeHotspot=Z.prototype.Gj,Z.prototype.setActiveHotspot=Z.prototype.gd,Z.prototype.getPointHotspotIds=Z.prototype.Vi,Z.prototype.getHotspot=Z.prototype.Ii,Z.prototype.setFullscreen=Z.prototype.hd,Z.prototype.toggleFullscreen=Z.prototype.cf,Z.prototype.enterFullscreen=Z.prototype.Bi,Z.prototype.exitFullscreen=Z.prototype.exitFullscreen,Z.prototype.getIsFullscreen=Z.prototype.Ki,Z.prototype.startAutorotate=Z.prototype.dk,Z.prototype.stopAutorotate=Z.prototype.gk,Z.prototype.toggleAutorotate=Z.prototype.lk,Z.prototype.createLayers=Z.prototype.rg,Z.prototype.removePanorama=Z.prototype.Ch,Z.prototype.getScreenResolution=Z.prototype.Pg,Z.prototype.getMaxScreenResolution=Z.prototype.Mg,Z.prototype.getNodeIds=Z.prototype.Pi,Z.prototype.getNodeUserdata=Z.prototype.Cf,Z.prototype.getNodeLatLng=Z.prototype.Qi,Z.prototype.getNodeTitle=Z.prototype.Ri,Z.prototype.getCurrentNode=Z.prototype.Kg,Z.prototype.getNextNode=Z.prototype.Ng,Z.prototype.getPrevNode=Z.prototype.Yi,Z.prototype.getCurrentPointHotspots=Z.prototype.Gi,Z.prototype.getPositionAngles=Z.prototype.Xi,Z.prototype.getPositionRawAngles=Z.prototype.Og,Z.prototype.nodeVisited=Z.prototype.rj,Z.prototype.setElementIdPrefix=Z.prototype.Pj,Z.prototype.videoPanoPlay=Z.prototype.Fk,Z.prototype.videoPanoStop=Z.prototype.Gk,Z.prototype.videoPanoPause=Z.prototype.Ek,Z.prototype.getVideoPanoTime=Z.prototype.cj,Z.prototype.setVideoPanoTime=Z.prototype.Xj,Z.prototype.getVideoPanoObject=Z.prototype.bj,Z.prototype.disableSoundLoading=Z.prototype.Ai;
//# sourceMappingURL=maps/pano2vr_player.js.map
